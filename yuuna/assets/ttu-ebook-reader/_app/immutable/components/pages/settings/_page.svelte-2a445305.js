import{S as Re,i as Le,n as Ae,j as F,k as C,l as H,f as d,m,a as N,d as I,g as Ee,b as Te,t as E,H as si,q as ge,s as z,w as M,r as pe,c as U,x as R,a8 as ne,G as S,y as L,N as Z,u as De,z as A,a4 as he,B as we,R as Pe,o as Tt,A as li,aj as ye,a1 as Q,ab as ee,ac as te,Y as rt,Z as Dt,M as Pt,O as Ft,P as Ct,Q as Nt,D as ue,a2 as ri,L as ai,ak as Bt,al as ui,af as Vt,a6 as Mt,a7 as Rt,E as vt,e as st,F as fi}from"../../../chunks/index-be8ea2fc.js";import{f as Lt,a as ci}from"../../../chunks/format-page-title-2ca75b98.js";import{aS as lt,f as Me,aO as An,g as Gn,a4 as $e,aT as mt,aX as At,aY as yt,aZ as gi,j as je,a_ as Hn,a$ as zn,b0 as ct,a3 as Gt,a5 as We,aj as Ht,aE as pi,aF as di,aG as mi,ak as kt,a as it,b1 as zt,M as _i,b2 as hi,aR as bi,b3 as qe,u as gt,F as ft,V as wt,b4 as $t,m as $i,b5 as vi,aI as ki,h as It,ap as St,an as wi,ac as Ii,aM as Un,Z as Si,Q as Oi,b6 as Ut,t as Ei,p as Ti,a6 as Wt,aq as jt,ar as qt,as as Yt,at as Jt,au as Kt,a7 as Qt,am as Zt,av as Xt,L as xt,O as en,G as tn,aw as nn,ax as on,H as sn,N as ln,ay as rn,al as an,az as un,ag as fn,ah as cn,aW as gn}from"../../../chunks/store-fb60485f.js";import{F as Oe,z as Di,A as Vi,B as Wn,C as yi,j as Pi,f as jn,D as Fi,r as Ci,E as Ni,s as Bi,G as Mi,H as Ri,I as qn,J as Li,K as Ai}from"../../../chunks/fa-33dddbd3.js";import{P as pt,M as Gi,r as Hi,m as zi}from"../../../chunks/merged-header-icon-5b1d438d.js";import{L as ot,r as pn,u as Ui}from"../../../chunks/fonts-e5a631ed.js";import{m as Ot}from"../../../chunks/error-handler-df8dffd6.js";import{a as Wi}from"../../../chunks/theme-option-f9f8f697.js";function dn(n,e,t){const i=n.slice();return i[3]=e[t],i}function mn(n){let e,t=n[3].text+"",i,s,a,o,r,l,u,f;a=new lt({});function g(){return n[2](n[3])}return{c(){e=F("button"),i=ge(t),s=z(),M(a.$$.fragment),o=z(),this.h()},l(_){e=C(_,"BUTTON",{class:!0,style:!0});var c=H(e);i=pe(c,t),s=U(c),R(a.$$.fragment,c),o=U(c),c.forEach(d),this.h()},h(){m(e,"class","m-1 rounded-md border-2 border-gray-400 p-2 text-lg"),m(e,"style",r=_n(n[3].style)),ne(e,"border-4",n[3].thickBorders&&n[3].id===n[0]),ne(e,"border-blue-300",n[3].id===n[0]),ne(e,"bg-gray-700",n[3].id===n[0]),ne(e,"text-white",n[3].id===n[0]),ne(e,"bg-white",n[3].id!==n[0])},m(_,c){N(_,e,c),S(e,i),S(e,s),L(a,e,null),S(e,o),l=!0,u||(f=Z(e,"click",g),u=!0)},p(_,c){n=_,(!l||c&2)&&t!==(t=n[3].text+"")&&De(i,t),(!l||c&2&&r!==(r=_n(n[3].style)))&&m(e,"style",r),(!l||c&3)&&ne(e,"border-4",n[3].thickBorders&&n[3].id===n[0]),(!l||c&3)&&ne(e,"border-blue-300",n[3].id===n[0]),(!l||c&3)&&ne(e,"bg-gray-700",n[3].id===n[0]),(!l||c&3)&&ne(e,"text-white",n[3].id===n[0]),(!l||c&3)&&ne(e,"bg-white",n[3].id!==n[0])},i(_){l||(I(a.$$.fragment,_),l=!0)},o(_){E(a.$$.fragment,_),l=!1},d(_){_&&d(e),A(a),u=!1,f()}}}function ji(n){let e,t,i=n[1],s=[];for(let o=0;o<i.length;o+=1)s[o]=mn(dn(n,i,o));const a=o=>E(s[o],1,1,()=>{s[o]=null});return{c(){e=F("div");for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){e=C(o,"DIV",{class:!0});var r=H(e);for(let l=0;l<s.length;l+=1)s[l].l(r);r.forEach(d),this.h()},h(){m(e,"class","-m-1")},m(o,r){N(o,e,r);for(let l=0;l<s.length;l+=1)s[l].m(e,null);t=!0},p(o,[r]){if(r&3){i=o[1];let l;for(l=0;l<i.length;l+=1){const u=dn(o,i,l);s[l]?(s[l].p(u,r),I(s[l],1)):(s[l]=mn(u),s[l].c(),I(s[l],1),s[l].m(e,null))}for(Ee(),l=i.length;l<s.length;l+=1)a(l);Te()}},i(o){if(!t){for(let r=0;r<i.length;r+=1)I(s[r]);t=!0}},o(o){s=s.filter(Boolean);for(let r=0;r<s.length;r+=1)E(s[r]);t=!1},d(o){o&&d(e),si(s,o)}}}function _n(n){return n?Object.entries(n).map(([e,t])=>`${e}: ${t}`).join(";"):""}function qi(n,e,t){let{options:i}=e,{selectedOptionId:s}=e;const a=o=>t(0,s=o.id);return n.$$set=o=>{"options"in o&&t(1,i=o.options),"selectedOptionId"in o&&t(0,s=o.selectedOptionId)},[s,i,a]}class Se extends Re{constructor(e){super(),Le(this,e,qi,ji,Ae,{options:1,selectedOptionId:0})}}function Yi(n){let e,t,i,s,a,o,r,l,u,f,g,_,c,v,$,P,b;return{c(){e=F("div"),t=ge(n[1]),i=ge("% - "),s=ge(n[4]),a=ge("px"),o=z(),r=F("input"),l=z(),u=F("div"),f=F("button"),g=ge(n[5]),_=ge("%"),c=z(),v=F("button"),$=ge("50%"),this.h()},l(k){e=C(k,"DIV",{class:!0});var w=H(e);t=pe(w,n[1]),i=pe(w,"% - "),s=pe(w,n[4]),a=pe(w,"px"),w.forEach(d),o=U(k),r=C(k,"INPUT",{class:!0,type:!0,step:!0,min:!0,max:!0}),l=U(k),u=C(k,"DIV",{class:!0});var y=H(u);f=C(y,"BUTTON",{});var B=H(f);g=pe(B,n[5]),_=pe(B,"%"),B.forEach(d),c=U(y),v=C(y,"BUTTON",{});var T=H(v);$=pe(T,"50%"),T.forEach(d),y.forEach(d),this.h()},h(){m(e,"class","text-center"),m(r,"class","mb-2 mt-4"),m(r,"type","range"),m(r,"step",Et),m(r,"min",n[3]),m(r,"max",n[2]),m(u,"class","flex justify-evenly")},m(k,w){N(k,e,w),S(e,t),S(e,i),S(e,s),S(e,a),N(k,o,w),N(k,r,w),he(r,n[1]),N(k,l,w),N(k,u,w),S(u,f),S(f,g),S(f,_),S(u,c),S(u,v),S(v,$),P||(b=[Z(r,"change",n[9]),Z(r,"input",n[9]),Z(r,"change",n[10]),Z(f,"click",n[11]),Z(v,"click",n[12])],P=!0)},p(k,[w]){w&2&&De(t,k[1]),w&16&&De(s,k[4]),w&8&&m(r,"min",k[3]),w&4&&m(r,"max",k[2]),w&2&&he(r,k[1]),w&32&&De(g,k[5])},i:we,o:we,d(k){k&&d(e),k&&d(o),k&&d(r),k&&d(l),k&&d(u),P=!1,Pe(b)}}}const Et=5;function Ji(n,e,t){let i,s,a,o,{dimensionValue:r=0}=e,{isVertical:l=!0}=e,{isFirstDimension:u=!1}=e,f=0;function g(){return l?u?"innerWidth":"innerHeight":u?"innerHeight":"innerWidth"}async function _(b=0){t(1,f=b),await li(),t(0,r=i)}Tt(()=>{const b=Math.min(Math.max(Math.round(r*(u?2:1)/window[g()]*100),!u&&!r?a:s),a);_(Math.round(b/Et)*Et)});function c(){f=ye(this.value),t(1,f)}const v=()=>t(0,r=i),$=()=>_(o),P=()=>_(50);return n.$$set=b=>{"dimensionValue"in b&&t(0,r=b.dimensionValue),"isVertical"in b&&t(7,l=b.isVertical),"isFirstDimension"in b&&t(8,u=b.isFirstDimension)},n.$$.update=()=>{n.$$.dirty&258&&t(4,i=Math.ceil(window[g()]*(f/100/(u?2:1)))),n.$$.dirty&256&&t(3,s=u?5:50),n.$$.dirty&256&&t(2,a=u?50:95),n.$$.dirty&256&&t(5,o=u?25:75)},[r,f,a,s,i,o,_,l,u,c,v,$,P]}class Ki extends Re{constructor(e){super(),Le(this,e,Ji,Yi,Ae,{dimensionValue:0,isVertical:7,isFirstDimension:8})}}function Qi(n){let e,t;return e=new Oe({props:{icon:Di,slot:"icon",class:"mx-2"}}),{c(){M(e.$$.fragment)},l(i){R(e.$$.fragment,i)},m(i,s){L(e,i,s),t=!0},p:we,i(i){t||(I(e.$$.fragment,i),t=!0)},o(i){E(e.$$.fragment,i),t=!1},d(i){A(e,i)}}}function Zi(n){let e,t,i;function s(o){n[3](o)}let a={slot:"content",isFirstDimension:n[1],isVertical:n[2]};return n[0]!==void 0&&(a.dimensionValue=n[0]),e=new Ki({props:a}),Q.push(()=>ee(e,"dimensionValue",s,n[0])),{c(){M(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,r){L(e,o,r),i=!0},p(o,r){const l={};r&2&&(l.isFirstDimension=o[1]),r&4&&(l.isVertical=o[2]),!t&&r&1&&(t=!0,l.dimensionValue=o[0],te(()=>t=!1)),e.$set(l)},i(o){i||(I(e.$$.fragment,o),i=!0)},o(o){E(e.$$.fragment,o),i=!1},d(o){A(e,o)}}}function Xi(n){let e,t;return e=new pt({props:{$$slots:{content:[Zi],icon:[Qi]},$$scope:{ctx:n}}}),{c(){M(e.$$.fragment)},l(i){R(e.$$.fragment,i)},m(i,s){L(e,i,s),t=!0},p(i,[s]){const a={};s&23&&(a.$$scope={dirty:s,ctx:i}),e.$set(a)},i(i){t||(I(e.$$.fragment,i),t=!0)},o(i){E(e.$$.fragment,i),t=!1},d(i){A(e,i)}}}function xi(n,e,t){let{isFirstDimension:i=!1}=e,{isVertical:s=!1}=e,{dimensionValue:a=0}=e;function o(r){a=r,t(0,a)}return n.$$set=r=>{"isFirstDimension"in r&&t(1,i=r.isFirstDimension),"isVertical"in r&&t(2,s=r.isVertical),"dimensionValue"in r&&t(0,a=r.dimensionValue)},[a,i,s,o]}class Yn extends Re{constructor(e){super(),Le(this,e,xi,Xi,Ae,{isFirstDimension:1,isVertical:2,dimensionValue:0})}}function hn(n,e,t){const i=n.slice();return i[5]=e[t],i}function eo(n){let e,t;return e=new Oe({props:{icon:Vi,slot:"icon",class:"mx-2"}}),{c(){M(e.$$.fragment)},l(i){R(e.$$.fragment,i)},m(i,s){L(e,i,s),t=!0},p:we,i(i){t||(I(e.$$.fragment,i),t=!0)},o(i){E(e.$$.fragment,i),t=!1},d(i){A(e,i)}}}function bn(n,e){let t,i=e[5]+"",s,a,o,r;function l(){return e[3](e[5])}return{key:n,first:null,c(){t=F("div"),s=ge(i),a=z(),this.h()},l(u){t=C(u,"DIV",{role:!0,class:!0});var f=H(t);s=pe(f,i),a=U(f),f.forEach(d),this.h()},h(){m(t,"role","button"),m(t,"class","px-4 py-2 hover:bg-gray-900"),this.first=t},m(u,f){N(u,t,f),S(t,s),S(t,a),o||(r=[Z(t,"click",l),Z(t,"keyup",Me)],o=!0)},p(u,f){e=u,f&2&&i!==(i=e[5]+"")&&De(s,i)},d(u){u&&d(t),o=!1,Pe(r)}}}function to(n){let e,t=[],i=new Map,s=n[1];const a=o=>o[5];for(let o=0;o<s.length;o+=1){let r=hn(n,s,o),l=a(r);i.set(l,t[o]=bn(l,r))}return{c(){e=F("div");for(let o=0;o<t.length;o+=1)t[o].c();this.h()},l(o){e=C(o,"DIV",{slot:!0});var r=H(e);for(let l=0;l<t.length;l+=1)t[l].l(r);r.forEach(d),this.h()},h(){m(e,"slot","content")},m(o,r){N(o,e,r);for(let l=0;l<t.length;l+=1)t[l].m(e,null)},p(o,r){r&7&&(s=o[1],t=rt(t,r,a,1,o,s,i,e,Dt,bn,null,hn))},d(o){o&&d(e);for(let r=0;r<t.length;r+=1)t[r].d()}}}function no(n){let e,t,i={placement:"bottom",$$slots:{content:[to],icon:[eo]},$$scope:{ctx:n}};return e=new pt({props:i}),n[4](e),{c(){M(e.$$.fragment)},l(s){R(e.$$.fragment,s)},m(s,a){L(e,s,a),t=!0},p(s,[a]){const o={};a&263&&(o.$$scope={dirty:a,ctx:s}),e.$set(o)},i(s){t||(I(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){n[4](null),A(e,s)}}}function io(n,e,t){let{availableFonts:i=[ot.NOTOSANSJP]}=e,{fontValue:s}=e,a;const o=l=>{t(0,s=l),a.toggleOpen()};function r(l){Q[l?"unshift":"push"](()=>{a=l,t(2,a)})}return n.$$set=l=>{"availableFonts"in l&&t(1,i=l.availableFonts),"fontValue"in l&&t(0,s=l.fontValue)},[s,i,a,o,r]}class Jn extends Re{constructor(e){super(),Le(this,e,io,no,Ae,{availableFonts:1,fontValue:0})}}const oo=n=>({}),$n=n=>({});function so(n){let e,t;return{c(){e=F("span"),t=ge(n[0]),this.h()},l(i){e=C(i,"SPAN",{class:!0});var s=H(e);t=pe(s,n[0]),s.forEach(d),this.h()},h(){m(e,"class","capitalize")},m(i,s){N(i,e,s),S(e,t)},p(i,s){s&1&&De(t,i[0])},i:we,o:we,d(i){i&&d(e)}}}function lo(n){let e,t;return e=new pt({props:{contentText:n[1],contentStyles:"padding: 0.5rem;",$$slots:{icon:[ao],default:[ro]},$$scope:{ctx:n}}}),{c(){M(e.$$.fragment)},l(i){R(e.$$.fragment,i)},m(i,s){L(e,i,s),t=!0},p(i,s){const a={};s&2&&(a.contentText=i[1]),s&9&&(a.$$scope={dirty:s,ctx:i}),e.$set(a)},i(i){t||(I(e.$$.fragment,i),t=!0)},o(i){E(e.$$.fragment,i),t=!1},d(i){A(e,i)}}}function ro(n){let e,t;return{c(){e=F("span"),t=ge(n[0]),this.h()},l(i){e=C(i,"SPAN",{class:!0});var s=H(e);t=pe(s,n[0]),s.forEach(d),this.h()},h(){m(e,"class","capitalize")},m(i,s){N(i,e,s),S(e,t)},p(i,s){s&1&&De(t,i[0])},d(i){i&&d(e)}}}function ao(n){let e,t;return e=new Oe({props:{icon:Wn,slot:"icon",class:"mx-2"}}),{c(){M(e.$$.fragment)},l(i){R(e.$$.fragment,i)},m(i,s){L(e,i,s),t=!0},p:we,i(i){t||(I(e.$$.fragment,i),t=!0)},o(i){E(e.$$.fragment,i),t=!1},d(i){A(e,i)}}}function uo(n){let e,t,i,s,a,o,r,l,u;const f=[lo,so],g=[];function _(b,k){return b[1]?0:1}s=_(n),a=g[s]=f[s](n);const c=n[2].header,v=Pt(c,n,n[3],$n),$=n[2].default,P=Pt($,n,n[3],null);return{c(){e=F("section"),t=F("div"),i=F("h2"),a.c(),o=z(),v&&v.c(),r=z(),l=F("div"),P&&P.c(),this.h()},l(b){e=C(b,"SECTION",{class:!0});var k=H(e);t=C(k,"DIV",{class:!0});var w=H(t);i=C(w,"H2",{class:!0});var y=H(i);a.l(y),y.forEach(d),o=U(w),v&&v.l(w),w.forEach(d),r=U(k),l=C(k,"DIV",{});var B=H(l);P&&P.l(B),B.forEach(d),k.forEach(d),this.h()},h(){m(i,"class","mb-2 text-xl font-medium"),m(t,"class","flex"),m(e,"class","pb-8 md:pb-3")},m(b,k){N(b,e,k),S(e,t),S(t,i),g[s].m(i,null),S(t,o),v&&v.m(t,null),S(e,r),S(e,l),P&&P.m(l,null),u=!0},p(b,[k]){let w=s;s=_(b),s===w?g[s].p(b,k):(Ee(),E(g[w],1,1,()=>{g[w]=null}),Te(),a=g[s],a?a.p(b,k):(a=g[s]=f[s](b),a.c()),I(a,1),a.m(i,null)),v&&v.p&&(!u||k&8)&&Ft(v,c,b,b[3],u?Nt(c,b[3],k,oo):Ct(b[3]),$n),P&&P.p&&(!u||k&8)&&Ft(P,$,b,b[3],u?Nt($,b[3],k,null):Ct(b[3]),null)},i(b){u||(I(a),I(v,b),I(P,b),u=!0)},o(b){E(a),E(v,b),E(P,b),u=!1},d(b){b&&d(e),g[s].d(),v&&v.d(b),P&&P.d(b)}}}function fo(n,e,t){let{$$slots:i={},$$scope:s}=e,{title:a}=e,{tooltip:o=""}=e;return n.$$set=r=>{"title"in r&&t(0,a=r.title),"tooltip"in r&&t(1,o=r.tooltip),"$$scope"in r&&t(3,s=r.$$scope)},[a,o,i,s]}class _e extends Re{constructor(e){super(),Le(this,e,fo,uo,Ae,{title:0,tooltip:1})}}function vn(n,e,t){const i=n.slice();return i[40]=e[t],i}function kn(n,e){let t,i=e[40].label+"",s,a,o;return{key:n,first:null,c(){t=F("option"),s=ge(i),a=z(),this.h()},l(r){t=C(r,"OPTION",{});var l=H(t);s=pe(l,i),a=U(l),l.forEach(d),this.h()},h(){t.__value=o=e[40].key,t.value=t.__value,this.first=t},m(r,l){N(r,t,l),S(t,s),S(t,a)},p(r,l){e=r,l[0]&1&&i!==(i=e[40].label+"")&&De(s,i),l[0]&1&&o!==(o=e[40].key)&&(t.__value=o,t.value=t.__value)},d(r){r&&d(t)}}}function co(n){let e,t,i,s,a,o,r,l,u;return{c(){e=F("input"),t=z(),i=F("input"),s=z(),a=F("input"),o=z(),r=F("input"),this.h()},l(f){e=C(f,"INPUT",{type:!0,placeholder:!0}),t=U(f),i=C(f,"INPUT",{class:!0,type:!0,placeholder:!0}),s=U(f),a=C(f,"INPUT",{class:!0,type:!0,placeholder:!0}),o=U(f),r=C(f,"INPUT",{class:!0,type:!0,placeholder:!0}),this.h()},h(){e.required=!0,m(e,"type","text"),m(e,"placeholder","Client ID"),m(i,"class","mt-4"),m(i,"type","text"),m(i,"placeholder","Client Secret"),a.required=!0,m(a,"class","mt-4"),m(a,"type","password"),m(a,"placeholder","Password"),r.required=!0,m(r,"class","mt-4"),m(r,"type","password"),m(r,"placeholder","Confirm Password")},m(f,g){N(f,e,g),he(e,n[10]),N(f,t,g),N(f,i,g),he(i,n[11]),N(f,s,g),N(f,a,g),n[33](a),N(f,o,g),N(f,r,g),n[34](r),l||(u=[Z(e,"input",n[31]),Z(i,"input",n[32])],l=!0)},p(f,g){g[0]&1024&&e.value!==f[10]&&he(e,f[10]),g[0]&2048&&i.value!==f[11]&&he(i,f[11])},i:we,o:we,d(f){f&&d(e),f&&d(t),f&&d(i),f&&d(s),f&&d(a),n[33](null),f&&d(o),f&&d(r),n[34](null),l=!1,Pe(u)}}}function go(n){let e,t,i,s,a,o=(n[13]||"Nothing selected")+"",r,l,u,f;return i=new lt({}),{c(){e=F("button"),t=ge(`Select Directory
        `),M(i.$$.fragment),s=z(),a=F("div"),r=ge(o),this.h()},l(g){e=C(g,"BUTTON",{class:!0});var _=H(e);t=pe(_,`Select Directory
        `),R(i.$$.fragment,_),_.forEach(d),s=U(g),a=C(g,"DIV",{class:!0});var c=H(a);r=pe(c,o),c.forEach(d),this.h()},h(){m(e,"class",mt),m(a,"class","my-4 text-center")},m(g,_){N(g,e,_),S(e,t),L(i,e,null),N(g,s,_),N(g,a,_),S(a,r),l=!0,u||(f=Z(e,"click",n[14]),u=!0)},p(g,_){(!l||_[0]&8192)&&o!==(o=(g[13]||"Nothing selected")+"")&&De(r,o)},i(g){l||(I(i.$$.fragment,g),l=!0)},o(g){E(i.$$.fragment,g),l=!1},d(g){g&&d(e),A(i),g&&d(s),g&&d(a),u=!1,f()}}}function wn(n){let e,t,i;return{c(){e=F("div"),t=ge("Error: "),i=ge(n[5]),this.h()},l(s){e=C(s,"DIV",{class:!0});var a=H(e);t=pe(a,"Error: "),i=pe(a,n[5]),a.forEach(d),this.h()},h(){m(e,"class","text-red-500")},m(s,a){N(s,e,a),S(e,t),S(e,i)},p(s,a){a[0]&32&&De(i,s[5])},d(s){s&&d(e)}}}function po(n){let e,t,i,s,a,o,r,l,u,f,g,_,c,v,$,P=[],b=new Map,k,w,y,B,T,W,J,j=n[0];const K=G=>G[40].key;for(let G=0;G<j.length;G+=1){let x=vn(n,j,G),q=K(x);b.set(q,P[G]=kn(q,x))}const oe=[go,co],re=[];function de(G,x){return G[9]===$e.FS?0:1}w=de(n),y=re[w]=oe[w](n);let ie=n[5]&&wn(n);return{c(){e=F("div"),t=F("input"),i=z(),s=F("div"),a=F("input"),o=z(),r=F("label"),l=ge("Is Sync Target"),u=z(),f=F("input"),g=z(),_=F("label"),c=ge("Is Source Default"),v=z(),$=F("select");for(let G=0;G<P.length;G+=1)P[G].c();k=z(),y.c(),B=z(),ie&&ie.c(),this.h()},l(G){e=C(G,"DIV",{class:!0,slot:!0});var x=H(e);t=C(x,"INPUT",{type:!0,placeholder:!0}),i=U(x),s=C(x,"DIV",{class:!0});var q=H(s);a=C(q,"INPUT",{id:!0,type:!0}),o=U(q),r=C(q,"LABEL",{for:!0,class:!0});var se=H(r);l=pe(se,"Is Sync Target"),se.forEach(d),u=U(q),f=C(q,"INPUT",{id:!0,type:!0}),g=U(q),_=C(q,"LABEL",{for:!0,class:!0});var Y=H(_);c=pe(Y,"Is Source Default"),Y.forEach(d),q.forEach(d),v=U(x),$=C(x,"SELECT",{class:!0});var X=H($);for(let ae=0;ae<P.length;ae+=1)P[ae].l(X);X.forEach(d),k=U(x),y.l(x),B=U(x),ie&&ie.l(x),x.forEach(d),this.h()},h(){t.required=!0,m(t,"type","text"),m(t,"placeholder","Name"),m(a,"id","cbx-source"),m(a,"type","checkbox"),m(r,"for","cbx-source"),m(r,"class","ml-2 mr-6"),m(f,"id","cbx-manager"),m(f,"type","checkbox"),m(_,"for","cbx-source"),m(_,"class","ml-2"),m(s,"class","mt-4 flex items-center"),m($,"class","my-4"),n[9]===void 0&&ai(()=>n[29].call($)),m(e,"class","flex max-h-[50vh] flex-col overflow-auto"),m(e,"slot","content")},m(G,x){N(G,e,x),S(e,t),he(t,n[6]),n[26](t),S(e,i),S(e,s),S(s,a),a.checked=n[7],S(s,o),S(s,r),S(r,l),S(s,u),S(s,f),f.checked=n[8],S(s,g),S(s,_),S(_,c),S(e,v),S(e,$);for(let q=0;q<P.length;q+=1)P[q].m($,null);Bt($,n[9]),S(e,k),re[w].m(e,null),S(e,B),ie&&ie.m(e,null),n[35](e),T=!0,W||(J=[Z(t,"input",n[25]),Z(a,"change",n[27]),Z(f,"change",n[28]),Z($,"change",n[29]),Z($,"change",n[30])],W=!0)},p(G,x){x[0]&64&&t.value!==G[6]&&he(t,G[6]),x[0]&128&&(a.checked=G[7]),x[0]&256&&(f.checked=G[8]),x[0]&1&&(j=G[0],P=rt(P,x,K,1,G,j,b,$,Dt,kn,null,vn)),x[0]&513&&Bt($,G[9]);let q=w;w=de(G),w===q?re[w].p(G,x):(Ee(),E(re[q],1,1,()=>{re[q]=null}),Te(),y=re[w],y?y.p(G,x):(y=re[w]=oe[w](G),y.c()),I(y,1),y.m(e,B)),G[5]?ie?ie.p(G,x):(ie=wn(G),ie.c(),ie.m(e,null)):ie&&(ie.d(1),ie=null)},i(G){T||(I(y),T=!0)},o(G){E(y),T=!1},d(G){G&&d(e),n[26](null);for(let x=0;x<P.length;x+=1)P[x].d();re[w].d(),ie&&ie.d(),n[35](null),W=!1,Pe(J)}}}function mo(n){let e,t,i,s,a,o,r,l,u,f,g;return s=new lt({}),l=new lt({}),{c(){e=F("div"),t=F("button"),i=ge(`Cancel
      `),M(s.$$.fragment),a=z(),o=F("button"),r=ge(`Save
      `),M(l.$$.fragment),this.h()},l(_){e=C(_,"DIV",{class:!0,slot:!0});var c=H(e);t=C(c,"BUTTON",{class:!0});var v=H(t);i=pe(v,`Cancel
      `),R(s.$$.fragment,v),v.forEach(d),a=U(c),o=C(c,"BUTTON",{class:!0});var $=H(o);r=pe($,`Save
      `),R(l.$$.fragment,$),$.forEach(d),c.forEach(d),this.h()},h(){m(t,"class",mt),m(o,"class",mt),m(e,"class","mt-4 flex grow justify-between"),m(e,"slot","footer")},m(_,c){N(_,e,c),S(e,t),S(t,i),L(s,t,null),S(e,a),S(e,o),S(o,r),L(l,o,null),u=!0,f||(g=[Z(t,"click",n[24]),Z(o,"click",n[15])],f=!0)},p:we,i(_){u||(I(s.$$.fragment,_),I(l.$$.fragment,_),u=!0)},o(_){E(s.$$.fragment,_),E(l.$$.fragment,_),u=!1},d(_){_&&d(e),A(s),A(l),f=!1,Pe(g)}}}function _o(n){let e,t;return e=new An({props:{$$slots:{footer:[mo],content:[po]},$$scope:{ctx:n}}}),{c(){M(e.$$.fragment)},l(i){R(e.$$.fragment,i)},m(i,s){L(e,i,s),t=!0},p(i,s){const a={};s[0]&16383|s[1]&4096&&(a.$$scope={dirty:s,ctx:i}),e.$set(a)},i(i){t||(I(e.$$.fragment,i),t=!0)},o(i){E(e.$$.fragment,i),t=!1},d(i){A(e,i)}}}function ho(n,e,t){let i;ue(n,Gn,h=>t(36,i=h));let{configuredName:s}=e,{configuredIsSyncTarget:a}=e,{configuredIsStorageSourceDefault:o}=e,{configuredType:r}=e,{configuredRemoteData:l}=e,{configuredFSData:u}=e,{resolver:f}=e,g,_,c,v,$="",P=s||"",b=a||!1,k=o||!1,w=r||$e.GDRIVE,y=(l==null?void 0:l.clientId)||"",B=(l==null?void 0:l.clientSecret)||"";const T=(l==null?void 0:l.refreshToken)||"";let W=u==null?void 0:u.directoryHandle,J=(u==null?void 0:u.fsPath)||"";const j=ri();let K=[{key:$e.GDRIVE,label:"GDrive"},{key:$e.ONEDRIVE,label:"OneDrive"}];async function oe(){de();try{const h=await window.showDirectoryPicker({id:"ttu-reader-root",mode:"readwrite"});t(12,W=await h.getDirectoryHandle(At.rootName,{create:!0})),t(13,J=`${h.name==="\\"?"":`${h.name}/`}${At.rootName}`)}catch(h){t(12,W=void 0),t(13,J=""),h.name!=="AbortError"&&t(5,$=h.message)}}async function re(){if(de(),!![...g.querySelectorAll("input")].every(h=>{let be=h.reportValidity();return be?(h===_?w===$e.FS&&!W?(_.setCustomValidity("You need to select a directory"),be=!1):yt(P)&&(_.setCustomValidity("Please select a different name"),be=!1):h===v&&c.value!==v.value&&(v.setCustomValidity("Password does not match"),be=!1),be||h.reportValidity(),be):!1}))try{let h,be=!1,Ve=!1;if(w===$e.FS){if(!W)throw new Error("Directory handle not defined");h={directoryHandle:W,fsPath:J}}else{if(be=y!==(l==null?void 0:l.clientId)||B!==(l==null?void 0:l.clientSecret),Ve=!B||be,Ve&&r===$e.GDRIVE&&(l==null?void 0:l.refreshToken)&&!i)throw new Error("You need to be online in order to make this change to the credentials");h=await gi(window,JSON.stringify({clientId:y,clientSecret:B,refreshToken:Ve?"":T}),v.value)}const Fe={name:P,type:w,data:h,lastSourceModified:Date.now()};await je.saveStorageSource(Fe,s,b,k),Ve&&r===$e.GDRIVE&&(l==null?void 0:l.refreshToken)&&Hn.revokeToken(zn,l.refreshToken),be&&(ct.delete(s),w!==$e.FS&&Gt(window,w).clearData()),w===$e.FS&&W&&!await(u==null?void 0:u.directoryHandle.isSameEntry(W))&&Gt(window,$e.FS).clearData(),ie({new:Fe,old:s})}catch(h){t(5,$=h.message)}}function de(){t(5,$=""),_.setCustomValidity(""),v==null||v.setCustomValidity("")}function ie(h){f(h),j("close")}const G=()=>ie();function x(){P=this.value,t(6,P)}function q(h){Q[h?"unshift":"push"](()=>{_=h,t(2,_)})}function se(){b=this.checked,t(7,b)}function Y(){k=this.checked,t(8,k)}function X(){w=ui(this),t(9,w),t(0,K)}const ae=()=>{w===$e.FS?(t(10,y=""),t(11,B="")):(t(12,W=void 0),t(13,J=""))};function fe(){y=this.value,t(10,y)}function ke(){B=this.value,t(11,B)}function ve(h){Q[h?"unshift":"push"](()=>{c=h,t(3,c)})}function Ie(h){Q[h?"unshift":"push"](()=>{v=h,t(4,v)})}function p(h){Q[h?"unshift":"push"](()=>{g=h,t(1,g)})}return n.$$set=h=>{"configuredName"in h&&t(17,s=h.configuredName),"configuredIsSyncTarget"in h&&t(18,a=h.configuredIsSyncTarget),"configuredIsStorageSourceDefault"in h&&t(19,o=h.configuredIsStorageSourceDefault),"configuredType"in h&&t(20,r=h.configuredType),"configuredRemoteData"in h&&t(21,l=h.configuredRemoteData),"configuredFSData"in h&&t(22,u=h.configuredFSData),"resolver"in h&&t(23,f=h.resolver)},n.$$.update=()=>{n.$$.dirty[0]&1&&"showDirectoryPicker"in window&&t(0,K=[...K,{key:$e.FS,label:"Filesystem"}])},[K,g,_,c,v,$,P,b,k,w,y,B,W,J,oe,re,ie,s,a,o,r,l,u,f,G,x,q,se,Y,X,ae,fe,ke,ve,Ie,p]}class bo extends Re{constructor(e){super(),Le(this,e,ho,_o,Ae,{configuredName:17,configuredIsSyncTarget:18,configuredIsStorageSourceDefault:19,configuredType:20,configuredRemoteData:21,configuredFSData:22,resolver:23},null,[-1,-1])}}function In(n,e,t){const i=n.slice();i[19]=e[t];const s=bi(i[19].type);i[20]=s;const a=yt(i[19].name);i[21]=a;const o=So(i[19].name,i[3]);i[22]=o;const r=i[8](i[19].name,i[19].type,[i[6],i[5],i[4]]);return i[23]=r,i}function $o(n){let e,t;return e=new Oe({props:{icon:Wn,slot:"icon",class:"mx-2"}}),{c(){M(e.$$.fragment)},l(i){R(e.$$.fragment,i)},m(i,s){L(e,i,s),t=!0},p:we,i(i){t||(I(e.$$.fragment,i),t=!0)},o(i){E(e.$$.fragment,i),t=!1},d(i){A(e,i)}}}function Sn(n){let e,t;return e=new pt({props:{contentText:"Auto import/export enabled but no source as sync target from list selected",contentStyles:"padding: 0.25rem;",$$slots:{icon:[vo]},$$scope:{ctx:n}}}),{c(){M(e.$$.fragment)},l(i){R(e.$$.fragment,i)},m(i,s){L(e,i,s),t=!0},p(i,s){const a={};s&67108864&&(a.$$scope={dirty:s,ctx:i}),e.$set(a)},i(i){t||(I(e.$$.fragment,i),t=!0)},o(i){E(e.$$.fragment,i),t=!1},d(i){A(e,i)}}}function vo(n){let e,t;return e=new Oe({props:{icon:Pi,slot:"icon",class:"mx-2"}}),{c(){M(e.$$.fragment)},l(i){R(e.$$.fragment,i)},m(i,s){L(e,i,s),t=!0},p:we,i(i){t||(I(e.$$.fragment,i),t=!0)},o(i){E(e.$$.fragment,i),t=!1},d(i){A(e,i)}}}function ko(n){let e,t,i;return t=new Oe({props:{icon:jn,spin:!0}}),{c(){e=F("div"),M(t.$$.fragment),this.h()},l(s){e=C(s,"DIV",{class:!0});var a=H(e);R(t.$$.fragment,a),a.forEach(d),this.h()},h(){m(e,"class","text-xl")},m(s,a){N(s,e,a),L(t,e,null),i=!0},p:we,i(s){i||(I(t.$$.fragment,s),i=!0)},o(s){E(t.$$.fragment,s),i=!1},d(s){s&&d(e),A(t)}}}function wo(n){let e,t=[],i=new Map,s,a=n[0];const o=r=>r[19].name;for(let r=0;r<a.length;r+=1){let l=In(n,a,r),u=o(l);i.set(u,t[r]=On(u,l))}return{c(){e=F("div");for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l(r){e=C(r,"DIV",{class:!0});var l=H(e);for(let u=0;u<t.length;u+=1)t[u].l(l);l.forEach(d),this.h()},h(){m(e,"class","grid grid-cols-1 gap-x-8 gap-y-12 sm:grid-cols-2 lg:grid-cols-3")},m(r,l){N(r,e,l);for(let u=0;u<t.length;u+=1)t[u].m(e,null);s=!0},p(r,l){l&1913&&(a=r[0],Ee(),t=rt(t,l,o,1,r,a,i,e,Vt,On,null,In),Te())},i(r){if(!s){for(let l=0;l<a.length;l+=1)I(t[l]);s=!0}},o(r){for(let l=0;l<t.length;l+=1)E(t[l]);s=!1},d(r){r&&d(e);for(let l=0;l<t.length;l+=1)t[l].d()}}}function On(n,e){let t,i,s,a,o,r,l,u,f=e[19].name+"",g,_,c,v,$,P,b,k,w,y,B,T,W,J,j,K,oe,re;$=new Oe({props:{icon:Fi}});function de(){return e[13](e[19])}k=new Oe({props:{icon:Ci}});function ie(){return e[14](e[19])}B=new Oe({props:{icon:Ni}});function G(){return e[15](e[23],e[19])}J=new Oe({props:{icon:Bi}});function x(){return e[16](e[19],e[22],e[23])}return{key:n,first:null,c(){t=F("div"),i=F("div"),s=Mt("svg"),a=Mt("path"),l=z(),u=F("div"),g=ge(f),_=z(),c=F("div"),v=F("div"),M($.$$.fragment),P=z(),b=F("div"),M(k.$$.fragment),w=z(),y=F("div"),M(B.$$.fragment),T=z(),W=F("div"),M(J.$$.fragment),j=z(),this.h()},l(q){t=C(q,"DIV",{class:!0});var se=H(t);i=C(se,"DIV",{class:!0});var Y=H(i);s=Rt(Y,"svg",{class:!0,xmlns:!0,viewBox:!0});var X=H(s);a=Rt(X,"path",{class:!0,d:!0}),H(a).forEach(d),X.forEach(d),l=U(Y),u=C(Y,"DIV",{class:!0});var ae=H(u);g=pe(ae,f),ae.forEach(d),Y.forEach(d),_=U(se),c=C(se,"DIV",{class:!0});var fe=H(c);v=C(fe,"DIV",{class:!0});var ke=H(v);R($.$$.fragment,ke),ke.forEach(d),P=U(fe),b=C(fe,"DIV",{title:!0,class:!0});var ve=H(b);R(k.$$.fragment,ve),ve.forEach(d),w=U(fe),y=C(fe,"DIV",{title:!0,class:!0});var Ie=H(y);R(B.$$.fragment,Ie),Ie.forEach(d),T=U(fe),W=C(fe,"DIV",{class:!0});var p=H(W);R(J.$$.fragment,p),p.forEach(d),fe.forEach(d),j=U(se),se.forEach(d),this.h()},h(){m(a,"class","fill-current"),m(a,"d",o=e[20].d),m(s,"class","inline-block h-6 w-6 self-center"),m(s,"xmlns","http://www.w3.org/2000/svg"),m(s,"viewBox",r=e[20].viewBox),m(u,"class","ml-3 self-center"),m(i,"class","flex"),m(v,"class","mr-4 cursor-pointer"),ne(v,"hidden",e[21]),m(b,"title","Toggle source as sync target"),m(b,"class","mr-4 cursor-pointer"),ne(b,"opacity-50",!e[22]),m(y,"title","Toggle source as data source for this type"),m(y,"class","mr-4 cursor-pointer"),ne(y,"opacity-50",!e[23]),m(W,"class","cursor-pointer"),ne(W,"hidden",e[21]),m(c,"class","mt-4 flex"),m(t,"class","flex flex-col"),this.first=t},m(q,se){N(q,t,se),S(t,i),S(i,s),S(s,a),S(i,l),S(i,u),S(u,g),S(t,_),S(t,c),S(c,v),L($,v,null),S(c,P),S(c,b),L(k,b,null),S(c,w),S(c,y),L(B,y,null),S(c,T),S(c,W),L(J,W,null),S(t,j),K=!0,oe||(re=[Z(v,"click",de),Z(v,"keyup",Me),Z(b,"click",ie),Z(b,"keyup",Me),Z(y,"click",G),Z(y,"keyup",Me),Z(W,"click",x),Z(W,"keyup",Me)],oe=!0)},p(q,se){e=q,(!K||se&1&&o!==(o=e[20].d))&&m(a,"d",o),(!K||se&1&&r!==(r=e[20].viewBox))&&m(s,"viewBox",r),(!K||se&1)&&f!==(f=e[19].name+"")&&De(g,f),(!K||se&1)&&ne(v,"hidden",e[21]),(!K||se&9)&&ne(b,"opacity-50",!e[22]),(!K||se&369)&&ne(y,"opacity-50",!e[23]),(!K||se&1)&&ne(W,"hidden",e[21])},i(q){K||(I($.$$.fragment,q),I(k.$$.fragment,q),I(B.$$.fragment,q),I(J.$$.fragment,q),K=!0)},o(q){E($.$$.fragment,q),E(k.$$.fragment,q),E(B.$$.fragment,q),E(J.$$.fragment,q),K=!1},d(q){q&&d(t),A($),A(k),A(B),A(J),oe=!1,Pe(re)}}}function Io(n){let e,t,i,s,a,o,r,l,u,f,g,_,c,v,$,P,b,k,w,y,B,T,W,J,j,K,oe,re,de,ie;l=new pt({props:{contentText:n[2],contentStyles:"padding: 0.5rem;",$$slots:{icon:[$o]},$$scope:{ctx:n}}});let G=n[7]!==We.Off&&!n[3]&&Sn(n);c=new Oe({props:{icon:yi}}),k=new lt({});const x=[wo,ko],q=[];function se(Y,X){return!Y[1]&&Y[0]?0:1}return J=se(n),j=q[J]=x[J](n),{c(){e=F("div"),t=F("div"),i=F("div"),s=F("h1"),a=F("span"),o=ge("Storage Sources"),r=z(),M(l.$$.fragment),u=z(),G&&G.c(),f=z(),g=F("button"),_=F("div"),M(c.$$.fragment),v=z(),$=F("span"),P=ge("Add"),b=z(),M(k.$$.fragment),y=z(),B=F("hr"),T=z(),W=F("div"),j.c(),K=z(),oe=F("div"),this.h()},l(Y){e=C(Y,"DIV",{class:!0});var X=H(e);t=C(X,"DIV",{class:!0});var ae=H(t);i=C(ae,"DIV",{class:!0});var fe=H(i);s=C(fe,"H1",{class:!0});var ke=H(s);a=C(ke,"SPAN",{class:!0});var ve=H(a);o=pe(ve,"Storage Sources"),ve.forEach(d),ke.forEach(d),r=U(fe),R(l.$$.fragment,fe),u=U(fe),G&&G.l(fe),fe.forEach(d),f=U(ae),g=C(ae,"BUTTON",{class:!0});var Ie=H(g);_=C(Ie,"DIV",{class:!0});var p=H(_);R(c.$$.fragment,p),v=U(p),$=C(p,"SPAN",{class:!0});var h=H($);P=pe(h,"Add"),h.forEach(d),p.forEach(d),b=U(Ie),R(k.$$.fragment,Ie),Ie.forEach(d),ae.forEach(d),y=U(X),B=C(X,"HR",{class:!0}),T=U(X),W=C(X,"DIV",{class:!0});var be=H(W);j.l(be),be.forEach(d),K=U(X),oe=C(X,"DIV",{}),H(oe).forEach(d),X.forEach(d),this.h()},h(){m(a,"class","capitalize"),m(s,"class","mb-2 text-xl font-medium"),m(i,"class","flex grow"),m($,"class","ml-1 hidden sm:block"),m(_,"class","flex items-center justify-center"),m(g,"class",mt),g.disabled=w=!n[0],ne(g,"cursor-not-allowed",!n[0]),m(t,"class","flex"),m(B,"class","border border-black"),m(W,"class","mt-6"),m(e,"class","mb-8 sm:col-span-2 lg:col-span-3")},m(Y,X){N(Y,e,X),S(e,t),S(t,i),S(i,s),S(s,a),S(a,o),S(i,r),L(l,i,null),S(i,u),G&&G.m(i,null),S(t,f),S(t,g),S(g,_),L(c,_,null),S(_,v),S(_,$),S($,P),S(g,b),L(k,g,null),S(e,y),S(e,B),S(e,T),S(e,W),q[J].m(W,null),S(e,K),S(e,oe),re=!0,de||(ie=Z(g,"click",n[12]),de=!0)},p(Y,[X]){const ae={};X&4&&(ae.contentText=Y[2]),X&67108864&&(ae.$$scope={dirty:X,ctx:Y}),l.$set(ae),Y[7]!==We.Off&&!Y[3]?G?(G.p(Y,X),X&136&&I(G,1)):(G=Sn(Y),G.c(),I(G,1),G.m(i,null)):G&&(Ee(),E(G,1,1,()=>{G=null}),Te()),(!re||X&1&&w!==(w=!Y[0]))&&(g.disabled=w),(!re||X&1)&&ne(g,"cursor-not-allowed",!Y[0]);let fe=J;J=se(Y),J===fe?q[J].p(Y,X):(Ee(),E(q[fe],1,1,()=>{q[fe]=null}),Te(),j=q[J],j?j.p(Y,X):(j=q[J]=x[J](Y),j.c()),I(j,1),j.m(W,null))},i(Y){re||(I(l.$$.fragment,Y),I(G),I(c.$$.fragment,Y),I(k.$$.fragment,Y),I(j),re=!0)},o(Y){E(l.$$.fragment,Y),E(G),E(c.$$.fragment,Y),E(k.$$.fragment,Y),E(j),re=!1},d(Y){Y&&d(e),A(l),G&&G.d(),A(c),A(k),q[J].d(),de=!1,ie()}}}function So(n,e){return n===e}function Oo(n,e,t){let i,s,a,o,r,l,u;ue(n,Gn,T=>t(17,s=T)),ue(n,Ht,T=>t(3,a=T)),ue(n,pi,T=>t(4,o=T)),ue(n,di,T=>t(5,r=T)),ue(n,mi,T=>t(6,l=T)),ue(n,kt,T=>t(7,u=T));let{storageSources:f}=e,g=!0,_="Allows you to add a custom set of credentials";function c(T,W,J=[]){let j=!1;switch(W){case $e.GDRIVE:j=T===l;break;case $e.ONEDRIVE:j=T===r;break;case $e.FS:j=T===o;break}return j}async function v(T){let W,J;if(T&&T.type!==$e.FS){const K=await new Promise(oe=>{it.dialogs$.next([{component:zt,props:{description:"You are trying to access protected data",action:`Enter the correct password for ${T.name} to proceed`,encryptedData:T.data,resolver:oe},disableCloseOnClick:!0}])});if(!K)return;W=K}else T&&$(T.type,T.data)&&(J={directoryHandle:T.data.directoryHandle,fsPath:T.data.fsPath});const j=await new Promise(K=>{it.dialogs$.next([{component:bo,props:{configuredName:T==null?void 0:T.name,configuredType:T==null?void 0:T.type,configuredIsSyncTarget:T?a===T.name:!1,configuredIsStorageSourceDefault:T?c(T.name,T.type):!1,configuredFSData:J,configuredRemoteData:W,resolver:K},disableCloseOnClick:!0}])});if(!!j)if(j.old){const K=ct.get(j.old);ct.delete(j.old),K&&j.new.type===(T==null?void 0:T.type)&&ct.set(j.new.name,K),je.storageSourcesChanged$.next(f.map(oe=>oe.name===j.old?j.new:oe))}else je.storageSourcesChanged$.next([...f,j.new])}function $(T,W){return W&&T===$e.FS}async function P(T,W,J){const j=await new Promise(oe=>{it.dialogs$.next([{component:zt,props:{description:T.type===$e.FS?"You are trying to delete data":"You are trying to delete protected data",action:T.type===$e.FS?`Please confirm to proceed with deleting ${T.name}`:`Enter the correct password for ${T.name} to proceed`,requiresSecret:T.type!==$e.FS,showCancel:!0,encryptedData:T.type!==$e.FS?T.data:void 0,resolver:oe},disableCloseOnClick:!0}])});if(!j)return;const K=T.type===$e.GDRIVE&&j.refreshToken;if(K&&!s){it.dialogs$.next([{component:_i,props:{title:"Error",message:"You need to be online to delete this storage source"},disableCloseOnClick:!0}]);return}await je.deleteStorageSource(T,W,J),ct.delete(T.name),K&&j.refreshToken&&Hn.revokeToken(zn,j.refreshToken),je.storageSourcesChanged$.next(f.filter(oe=>oe.name!==T.name))}const b=()=>{v()},k=T=>v(T),w=T=>Ht.next(a===T.name?"":T.name),y=(T,W)=>hi(T?"":W.name,W.type),B=(T,W,J)=>P(T,W,J);return n.$$set=T=>{"storageSources"in T&&t(0,f=T.storageSources)},n.$$.update=()=>{n.$$.dirty&1&&f&&t(1,g=!1),n.$$.dirty&2052&&i&&t(2,_+=" or filesystem access")},t(11,i="showDirectoryPicker"in window),[f,g,_,a,o,r,l,u,c,v,P,i,b,k,w,y,B]}class Eo extends Re{constructor(e){super(),Le(this,e,Oo,Io,Ae,{storageSources:0})}}function To(n){let e,t,i,s,a,o,r,l,u,f,g,_,c,v,$,P,b,k,w;return P=new Oe({props:{class:"text-xl mx-2",icon:Mi}}),{c(){e=F("div"),t=F("span"),i=ge("Font Name"),s=z(),a=F("input"),o=z(),r=F("div"),l=ge(n[1]),u=z(),f=F("div"),g=F("label"),_=F("input"),c=ge(`
      Choose File`),v=z(),$=F("div"),M(P.$$.fragment),this.h()},l(y){e=C(y,"DIV",{class:!0});var B=H(e);t=C(B,"SPAN",{});var T=H(t);i=pe(T,"Font Name"),T.forEach(d),s=U(B),a=C(B,"INPUT",{class:!0,type:!0}),o=U(B),r=C(B,"DIV",{class:!0});var W=H(r);l=pe(W,n[1]),W.forEach(d),u=U(B),f=C(B,"DIV",{class:!0});var J=H(f);g=C(J,"LABEL",{role:!0,class:!0});var j=H(g);_=C(j,"INPUT",{type:!0,accept:!0,class:!0}),c=pe(j,`
      Choose File`),j.forEach(d),v=U(J),$=C(J,"DIV",{});var K=H($);R(P.$$.fragment,K),K.forEach(d),J.forEach(d),B.forEach(d),this.h()},h(){m(a,"class","mt-2"),m(a,"type","text"),m(r,"class","my-2 text-red-500"),ne(r,"invisible",n[1]==="no error"),m(_,"type","file"),m(_,"accept",".woff2,.woff,.ttf,.otf"),m(_,"class","hidden"),m(g,"role","button"),m(g,"class",`${qe} w-40 text-center py-2 hover:opacity-25 mr-2`),ne($,"cursor-pointer",n[3]),ne($,"text-gray-500",!n[3]),ne($,"cursor-not-allowed",!n[3]),m(f,"class","flex items-center just justify-between"),m(e,"class","flex flex-col min-w-[15rem] md:min-w-[20rem]")},m(y,B){N(y,e,B),S(e,t),S(t,i),S(e,s),S(e,a),he(a,n[0]),S(e,o),S(e,r),S(r,l),S(e,u),S(e,f),S(f,g),S(g,_),n[12](_),S(g,c),S(f,v),S(f,$),L(P,$,null),b=!0,k||(w=[Z(a,"input",n[10]),Z(a,"blur",n[11]),Z(_,"change",n[5]),Z($,"click",n[13]),Z($,"keyup",Me)],k=!0)},p(y,[B]){B&1&&a.value!==y[0]&&he(a,y[0]),(!b||B&2)&&De(l,y[1]),(!b||B&2)&&ne(r,"invisible",y[1]==="no error"),(!b||B&8)&&ne($,"cursor-pointer",y[3]),(!b||B&8)&&ne($,"text-gray-500",!y[3]),(!b||B&8)&&ne($,"cursor-not-allowed",!y[3])},i(y){b||(I(P.$$.fragment,y),b=!0)},o(y){E(P.$$.fragment,y),b=!1},d(y){y&&d(e),n[12](null),A(P),k=!1,Pe(w)}}}function Do(n,e,t){let i,s;ue(n,gt,k=>t(4,s=k));let{isLoading:a}=e,{fontCache:o}=e,r,l="",u,f="no error";function g(k){var B;const y=(B=k.target.files)==null?void 0:B[0];if(t(1,f="no error"),!y){_();return}if(!(y.name.endsWith(".woff2")||y.name.endsWith(".woff")||y.name.endsWith(".ttf")||y.name.endsWith(".otf"))){t(1,f="only woff2, woff, ttf and otf fonts are supported"),_();return}if(pn.has(l)||s.find(T=>T.fileName===y.name||T.name===l)){t(1,f="a font file with this name is already stored"),_();return}t(9,u=y)}function _(){t(2,r.value="",r),t(9,u=void 0)}async function c(){if(!!u){t(7,a=!0);try{const k=`/userfonts/${u.name}`;await o.put(k,new Response(u,{headers:{"Content-Type":`font/${u.name.split(".").pop()}`,"Content-Length":`${u.size}`}})),vt(gt,s=[...s,{name:l,path:k,fileName:u.name}],s),t(0,l=""),_()}catch(k){t(1,f=k.message)}t(7,a=!1)}}function v(){l=this.value,t(0,l)}const $=()=>{t(1,f="no error"),(pn.has(l)||s.find(k=>k.name===l))&&t(1,f="a font file with this name is already stored")};function P(k){Q[k?"unshift":"push"](()=>{r=k,t(2,r)})}const b=()=>{i&&c()};return n.$$set=k=>{"isLoading"in k&&t(7,a=k.isLoading),"fontCache"in k&&t(8,o=k.fontCache)},n.$$.update=()=>{n.$$.dirty&515&&t(3,i=!!l&&!!u&&f==="no error")},[l,f,r,i,s,g,c,a,o,u,v,$,P,b]}class Vo extends Re{constructor(e){super(),Le(this,e,Do,To,Ae,{isLoading:7,fontCache:8})}}function En(n,e,t){const i=n.slice();return i[14]=e[t],i}function Tn(n,e,t){const i=n.slice();return i[17]=e[t],i}function Dn(n){let e,t,i=[],s=new Map,a,o,r,l,u,f=n[5];const g=$=>$[17];for(let $=0;$<f.length;$+=1){let P=Tn(n,f,$),b=g(P);s.set(b,i[$]=Vn(b,P))}const _=[Po,yo],c=[];function v($,P){return $[2]==="Stored"?0:$[3]?1:-1}return~(r=v(n))&&(l=c[r]=_[r](n)),{c(){e=F("div"),t=F("ul");for(let $=0;$<i.length;$+=1)i[$].c();a=z(),o=F("div"),l&&l.c(),this.h()},l($){e=C($,"DIV",{class:!0});var P=H(e);t=C(P,"UL",{class:!0});var b=H(t);for(let w=0;w<i.length;w+=1)i[w].l(b);b.forEach(d),P.forEach(d),a=U($),o=C($,"DIV",{class:!0});var k=H(o);l&&l.l(k),k.forEach(d),this.h()},h(){m(t,"class","-mb-px flex items-center gap-4 text-sm font-medium"),m(e,"class","border-b border-b-gray-200"),m(o,"class","mt-5")},m($,P){N($,e,P),S(e,t);for(let b=0;b<i.length;b+=1)i[b].m(t,null);N($,a,P),N($,o,P),~r&&c[r].m(o,null),u=!0},p($,P){P&36&&(f=$[5],i=rt(i,P,g,1,$,f,s,t,Dt,Vn,null,Tn));let b=r;r=v($),r===b?~r&&c[r].p($,P):(l&&(Ee(),E(c[b],1,1,()=>{c[b]=null}),Te()),~r?(l=c[r],l?l.p($,P):(l=c[r]=_[r]($),l.c()),I(l,1),l.m(o,null)):l=null)},i($){u||(I(l),u=!0)},o($){E(l),u=!1},d($){$&&d(e);for(let P=0;P<i.length;P+=1)i[P].d();$&&d(a),$&&d(o),~r&&c[r].d()}}}function Vn(n,e){let t,i,s=e[17]+"",a,o,r,l;function u(){return e[9](e[17])}return{key:n,first:null,c(){t=F("li"),i=F("button"),a=ge(s),o=z(),this.h()},l(f){t=C(f,"LI",{class:!0});var g=H(t);i=C(g,"BUTTON",{class:!0});var _=H(i);a=pe(_,s),_.forEach(d),o=U(g),g.forEach(d),this.h()},h(){m(i,"class","relative flex items-center justify-center gap-2 px-1 py-3 hover:text-blue-700"),ne(i,"text-blue-700",e[2]===e[17]),ne(i,"after:absolute",e[2]===e[17]),ne(i,"after:left-0",e[2]===e[17]),ne(i,"after:bottom-0",e[2]===e[17]),ne(i,"after:h-0.5",e[2]===e[17]),ne(i,"after:w-full",e[2]===e[17]),ne(i,"after:bg-blue-700",e[2]===e[17]),ne(i,"text-gray-500",e[2]!==e[17]),m(t,"class","flex-1"),this.first=t},m(f,g){N(f,t,g),S(t,i),S(i,a),S(t,o),r||(l=Z(i,"click",u),r=!0)},p(f,g){e=f,g&36&&ne(i,"text-blue-700",e[2]===e[17]),g&36&&ne(i,"after:absolute",e[2]===e[17]),g&36&&ne(i,"after:left-0",e[2]===e[17]),g&36&&ne(i,"after:bottom-0",e[2]===e[17]),g&36&&ne(i,"after:h-0.5",e[2]===e[17]),g&36&&ne(i,"after:w-full",e[2]===e[17]),g&36&&ne(i,"after:bg-blue-700",e[2]===e[17]),g&36&&ne(i,"text-gray-500",e[2]!==e[17])},d(f){f&&d(t),r=!1,l()}}}function yo(n){let e,t,i;function s(o){n[13](o)}let a={fontCache:n[3]};return n[0]!==void 0&&(a.isLoading=n[0]),e=new Vo({props:a}),Q.push(()=>ee(e,"isLoading",s,n[0])),{c(){M(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,r){L(e,o,r),i=!0},p(o,r){const l={};r&8&&(l.fontCache=o[3]),!t&&r&1&&(t=!0,l.isLoading=o[0],te(()=>t=!1)),e.$set(l)},i(o){i||(I(e.$$.fragment,o),i=!0)},o(o){E(e.$$.fragment,o),i=!1},d(o){A(e,o)}}}function Po(n){let e,t,i,s;const a=[Co,Fo],o=[];function r(l,u){return l[4].length?0:1}return e=r(n),t=o[e]=a[e](n),{c(){t.c(),i=st()},l(l){t.l(l),i=st()},m(l,u){o[e].m(l,u),N(l,i,u),s=!0},p(l,u){let f=e;e=r(l),e===f?o[e].p(l,u):(Ee(),E(o[f],1,1,()=>{o[f]=null}),Te(),t=o[e],t?t.p(l,u):(t=o[e]=a[e](l),t.c()),I(t,1),t.m(i.parentNode,i))},i(l){s||(I(t),s=!0)},o(l){E(t),s=!1},d(l){o[e].d(l),l&&d(i)}}}function Fo(n){let e,t;return{c(){e=F("div"),t=ge("You have currently no stored Fonts")},l(i){e=C(i,"DIV",{});var s=H(e);t=pe(s,"You have currently no stored Fonts"),s.forEach(d)},m(i,s){N(i,e,s),S(e,t)},p:we,i:we,o:we,d(i){i&&d(e)}}}function Co(n){let e,t=[],i=new Map,s,a=n[4];const o=r=>r[14].path;for(let r=0;r<a.length;r+=1){let l=En(n,a,r),u=o(l);i.set(u,t[r]=yn(u,l))}return{c(){e=F("div");for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l(r){e=C(r,"DIV",{class:!0});var l=H(e);for(let u=0;u<t.length;u+=1)t[u].l(l);l.forEach(d),this.h()},h(){m(e,"class","grid grid-cols-[repeat(3,auto)] items-center gap-y-4 gap-x-4 max-h-[50vh] overflow-auto break-all md:gap-x-14")},m(r,l){N(r,e,l);for(let u=0;u<t.length;u+=1)t[u].m(e,null);s=!0},p(r,l){l&208&&(a=r[4],Ee(),t=rt(t,l,o,1,r,a,i,e,Vt,yn,null,En),Te())},i(r){if(!s){for(let l=0;l<a.length;l+=1)I(t[l]);s=!0}},o(r){for(let l=0;l<t.length;l+=1)E(t[l]);s=!1},d(r){r&&d(e);for(let l=0;l<t.length;l+=1)t[l].d()}}}function yn(n,e){let t,i=e[14].name+"",s,a,o,r=e[14].fileName+"",l,u,f,g,_,c,v,$;function P(){return e[10](e[14])}function b(){return e[11](e[14])}g=new Oe({props:{icon:Ri}});function k(){return e[12](e[14])}return{key:n,first:null,c(){t=F("div"),s=ge(i),a=z(),o=F("div"),l=ge(r),u=z(),f=F("div"),M(g.$$.fragment),_=z(),this.h()},l(w){t=C(w,"DIV",{role:!0,class:!0});var y=H(t);s=pe(y,i),y.forEach(d),a=U(w),o=C(w,"DIV",{role:!0,class:!0});var B=H(o);l=pe(B,r),B.forEach(d),u=U(w),f=C(w,"DIV",{role:!0,class:!0});var T=H(f);R(g.$$.fragment,T),_=U(T),T.forEach(d),this.h()},h(){m(t,"role","button"),m(t,"class","hover:text-blue-700"),m(o,"role","button"),m(o,"class","hover:text-blue-700"),m(f,"role","button"),m(f,"class","hover:text-blue-700"),this.first=t},m(w,y){N(w,t,y),S(t,s),N(w,a,y),N(w,o,y),S(o,l),N(w,u,y),N(w,f,y),L(g,f,null),S(f,_),c=!0,v||($=[Z(t,"click",P),Z(t,"keyup",Me),Z(o,"click",b),Z(o,"keyup",Me),Z(f,"click",k),Z(f,"keyup",Me)],v=!0)},p(w,y){e=w,(!c||y&16)&&i!==(i=e[14].name+"")&&De(s,i),(!c||y&16)&&r!==(r=e[14].fileName+"")&&De(l,r)},i(w){c||(I(g.$$.fragment,w),c=!0)},o(w){E(g.$$.fragment,w),c=!1},d(w){w&&d(t),w&&d(a),w&&d(o),w&&d(u),w&&d(f),A(g),v=!1,Pe($)}}}function Pn(n){let e,t,i;return t=new Oe({props:{icon:jn,spin:!0}}),{c(){e=F("div"),M(t.$$.fragment),this.h()},l(s){e=C(s,"DIV",{class:!0});var a=H(e);R(t.$$.fragment,a),a.forEach(d),this.h()},h(){m(e,"class","fixed inset-0 flex h-full w-full items-center justify-center text-7xl")},m(s,a){N(s,e,a),L(t,e,null),i=!0},p:we,i(s){i||(I(t.$$.fragment,s),i=!0)},o(s){E(t.$$.fragment,s),i=!1},d(s){s&&d(e),A(t)}}}function No(n){let e,t,i,s=n[1]&&Dn(n),a=(!n[1]||n[0])&&Pn();return{c(){e=F("div"),s&&s.c(),t=z(),a&&a.c(),this.h()},l(o){e=C(o,"DIV",{slot:!0});var r=H(e);s&&s.l(r),t=U(r),a&&a.l(r),r.forEach(d),this.h()},h(){m(e,"slot","content")},m(o,r){N(o,e,r),s&&s.m(e,null),S(e,t),a&&a.m(e,null),i=!0},p(o,r){o[1]?s?(s.p(o,r),r&2&&I(s,1)):(s=Dn(o),s.c(),I(s,1),s.m(e,t)):s&&(Ee(),E(s,1,1,()=>{s=null}),Te()),!o[1]||o[0]?a?(a.p(o,r),r&3&&I(a,1)):(a=Pn(),a.c(),I(a,1),a.m(e,null)):a&&(Ee(),E(a,1,1,()=>{a=null}),Te())},i(o){i||(I(s),I(a),i=!0)},o(o){E(s),E(a),i=!1},d(o){o&&d(e),s&&s.d(),a&&a.d()}}}function Bo(n){let e,t;return e=new An({props:{$$slots:{content:[No]},$$scope:{ctx:n}}}),{c(){M(e.$$.fragment)},l(i){R(e.$$.fragment,i)},m(i,s){L(e,i,s),t=!0},p(i,[s]){const a={};s&1048607&&(a.$$scope={dirty:s,ctx:i}),e.$set(a)},i(i){t||(I(e.$$.fragment,i),t=!0)},o(i){E(e.$$.fragment,i),t=!1},d(i){A(e,i)}}}function Mo(n,e,t){let i;ue(n,gt,b=>t(4,i=b));let{fontFamily:s}=e;const a=["Stored","Add"];let o=!1,r=!1,l="Stored",u;Tt(async()=>{try{t(3,u=await caches.open(Ui));const b=(await u.keys()).map(k=>new URL(k.url).pathname);vt(gt,i=i.filter(k=>b.includes(k.path)),i);for(let k=0,{length:w}=b;k<w;k+=1){const y=b[k];i.find(T=>T.path===y)||u.delete(y).catch(()=>{})}}catch(b){Ot.error(`Error loading font cache: ${b.message}`),t(3,u=void 0)}t(1,r=!0)});function f(b){s.next(b),it.dialogs$.next([])}async function g(b){if(!!u){t(0,o=!0);try{await u.delete(b),vt(gt,i=i.filter(w=>w.path!==b),i);const k=s.getValue();i.find(w=>w.name===k)||s.next("")}catch(k){Ot.error(`Error deleting Font: ${k.message}`)}t(0,o=!1)}}const _=b=>t(2,l=b),c=b=>f(b.name),v=b=>f(b.name),$=b=>g(b.path);function P(b){o=b,t(0,o)}return n.$$set=b=>{"fontFamily"in b&&t(8,s=b.fontFamily)},[o,r,l,u,i,a,f,g,s,_,c,v,$,P]}class Fn extends Re{constructor(e){super(),Le(this,e,Mo,Bo,Ae,{fontFamily:8})}}function Ro(n){let e,t,i,s,a,o,r,l,u,f,g,_;return e=new _e({props:{title:"Persistent storage",tooltip:n[33],$$slots:{default:[Ao]},$$scope:{ctx:n}}}),i=new _e({props:{title:"Cache Data",tooltip:n[32],$$slots:{default:[Go]},$$scope:{ctx:n}}}),a=new _e({props:{title:"Auto Import/Export",tooltip:n[29],$$slots:{default:[Ho]},$$scope:{ctx:n}}}),r=new _e({props:{title:"Import/Export Behavior",tooltip:n[31],$$slots:{default:[zo]},$$scope:{ctx:n}}}),u=new _e({props:{title:"Show Placeholder",tooltip:n[30],$$slots:{default:[Uo]},$$scope:{ctx:n}}}),g=new Eo({props:{storageSources:n[27]}}),{c(){M(e.$$.fragment),t=z(),M(i.$$.fragment),s=z(),M(a.$$.fragment),o=z(),M(r.$$.fragment),l=z(),M(u.$$.fragment),f=z(),M(g.$$.fragment)},l(c){R(e.$$.fragment,c),t=U(c),R(i.$$.fragment,c),s=U(c),R(a.$$.fragment,c),o=U(c),R(r.$$.fragment,c),l=U(c),R(u.$$.fragment,c),f=U(c),R(g.$$.fragment,c)},m(c,v){L(e,c,v),N(c,t,v),L(i,c,v),N(c,s,v),L(a,c,v),N(c,o,v),L(r,c,v),N(c,l,v),L(u,c,v),N(c,f,v),L(g,c,v),_=!0},p(c,v){const $={};v[1]&4&&($.tooltip=c[33]),v[0]&8|v[2]&524288&&($.$$scope={dirty:v,ctx:c}),e.$set($);const P={};v[1]&2&&(P.tooltip=c[32]),v[0]&16|v[2]&524288&&(P.$$scope={dirty:v,ctx:c}),i.$set(P);const b={};v[0]&536870912&&(b.tooltip=c[29]),v[0]&32|v[2]&524288&&(b.$$scope={dirty:v,ctx:c}),a.$set(b);const k={};v[1]&1&&(k.tooltip=c[31]),v[0]&64|v[2]&524288&&(k.$$scope={dirty:v,ctx:c}),r.$set(k);const w={};v[0]&1073741824&&(w.tooltip=c[30]),v[0]&128|v[2]&524288&&(w.$$scope={dirty:v,ctx:c}),u.$set(w);const y={};v[0]&134217728&&(y.storageSources=c[27]),g.$set(y)},i(c){_||(I(e.$$.fragment,c),I(i.$$.fragment,c),I(a.$$.fragment,c),I(r.$$.fragment,c),I(u.$$.fragment,c),I(g.$$.fragment,c),_=!0)},o(c){E(e.$$.fragment,c),E(i.$$.fragment,c),E(a.$$.fragment,c),E(r.$$.fragment,c),E(u.$$.fragment,c),E(g.$$.fragment,c),_=!1},d(c){A(e,c),c&&d(t),A(i,c),c&&d(s),A(a,c),c&&d(o),A(r,c),c&&d(l),A(u,c),c&&d(f),A(g,c)}}}function Lo(n){let e,t,i,s,a,o,r,l,u,f,g,_,c,v,$,P,b,k,w,y,B,T,W,J,j,K,oe,re,de,ie,G,x,q,se,Y,X,ae,fe;t=new _e({props:{title:"Theme",$$slots:{default:[Wo]},$$scope:{ctx:n}}}),a=new _e({props:{title:"View mode",$$slots:{default:[jo]},$$scope:{ctx:n}}}),r=new _e({props:{title:"Font family (Group 1)",$$slots:{header:[Yo],default:[qo]},$$scope:{ctx:n}}}),u=new _e({props:{title:"Font family (Group 2)",$$slots:{header:[Ko],default:[Jo]},$$scope:{ctx:n}}}),g=new _e({props:{title:"Font size",$$slots:{default:[Qo]},$$scope:{ctx:n}}}),c=new _e({props:{title:"Line Height",$$slots:{default:[Zo]},$$scope:{ctx:n}}}),$=new _e({props:{title:n[36]?"Reader Left/right margin":"Reader Top/bottom margin",$$slots:{header:[xo],default:[Xo]},$$scope:{ctx:n}}}),b=new _e({props:{title:n[36]?"Reader Max height":"Reader Max width",$$slots:{header:[ts],default:[es]},$$scope:{ctx:n}}}),w=new _e({props:{title:"Swipe Threshold",tooltip:"Distance which you need to swipe in order trigger a navigation",$$slots:{default:[ns]},$$scope:{ctx:n}}}),B=new _e({props:{title:"Writing mode",$$slots:{default:[is]},$$scope:{ctx:n}}}),W=new _e({props:{title:"Disable Wheel Navigation",$$slots:{default:[os]},$$scope:{ctx:n}}}),j=new _e({props:{title:"Close Confirmation",tooltip:"When enabled asks for confirmation on closing/reloading a reader tab and unsaved changes were detected",$$slots:{default:[ss]},$$scope:{ctx:n}}}),oe=new _e({props:{title:"Auto Bookmark",tooltip:"Set a bookmark after 3 seconds without scrolling/page change",$$slots:{default:[ls]},$$scope:{ctx:n}}}),de=new _e({props:{title:"Blur image",$$slots:{default:[rs]},$$scope:{ctx:n}}}),G=new _e({props:{title:"Hide furigana",$$slots:{default:[as]},$$scope:{ctx:n}}}),q=new _e({props:{title:"Hide furigana style",tooltip:n[28],$$slots:{default:[us]},$$scope:{ctx:n}}});const ke=[cs,fs],ve=[];function Ie(p,h){return p[9]===wt.Continuous?0:1}return Y=Ie(n),X=ve[Y]=ke[Y](n),{c(){e=F("div"),M(t.$$.fragment),i=z(),s=F("div"),M(a.$$.fragment),o=z(),M(r.$$.fragment),l=z(),M(u.$$.fragment),f=z(),M(g.$$.fragment),_=z(),M(c.$$.fragment),v=z(),M($.$$.fragment),P=z(),M(b.$$.fragment),k=z(),M(w.$$.fragment),y=z(),M(B.$$.fragment),T=z(),M(W.$$.fragment),J=z(),M(j.$$.fragment),K=z(),M(oe.$$.fragment),re=z(),M(de.$$.fragment),ie=z(),M(G.$$.fragment),x=z(),M(q.$$.fragment),se=z(),X.c(),ae=st(),this.h()},l(p){e=C(p,"DIV",{class:!0});var h=H(e);R(t.$$.fragment,h),h.forEach(d),i=U(p),s=C(p,"DIV",{class:!0});var be=H(s);R(a.$$.fragment,be),be.forEach(d),o=U(p),R(r.$$.fragment,p),l=U(p),R(u.$$.fragment,p),f=U(p),R(g.$$.fragment,p),_=U(p),R(c.$$.fragment,p),v=U(p),R($.$$.fragment,p),P=U(p),R(b.$$.fragment,p),k=U(p),R(w.$$.fragment,p),y=U(p),R(B.$$.fragment,p),T=U(p),R(W.$$.fragment,p),J=U(p),R(j.$$.fragment,p),K=U(p),R(oe.$$.fragment,p),re=U(p),R(de.$$.fragment,p),ie=U(p),R(G.$$.fragment,p),x=U(p),R(q.$$.fragment,p),se=U(p),X.l(p),ae=st(),this.h()},h(){m(e,"class","lg:col-span-2"),m(s,"class","h-full")},m(p,h){N(p,e,h),L(t,e,null),N(p,i,h),N(p,s,h),L(a,s,null),N(p,o,h),L(r,p,h),N(p,l,h),L(u,p,h),N(p,f,h),L(g,p,h),N(p,_,h),L(c,p,h),N(p,v,h),L($,p,h),N(p,P,h),L(b,p,h),N(p,k,h),L(w,p,h),N(p,y,h),L(B,p,h),N(p,T,h),L(W,p,h),N(p,J,h),L(j,p,h),N(p,K,h),L(oe,p,h),N(p,re,h),L(de,p,h),N(p,ie,h),L(G,p,h),N(p,x,h),L(q,p,h),N(p,se,h),ve[Y].m(p,h),N(p,ae,h),fe=!0},p(p,h){const be={};h[0]&256|h[2]&524288&&(be.$$scope={dirty:h,ctx:p}),t.$set(be);const Ve={};h[0]&512|h[2]&524288&&(Ve.$$scope={dirty:h,ctx:p}),a.$set(Ve);const Fe={};h[0]&1024|h[1]&16|h[2]&524288&&(Fe.$$scope={dirty:h,ctx:p}),r.$set(Fe);const Ce={};h[0]&2048|h[1]&16|h[2]&524288&&(Ce.$$scope={dirty:h,ctx:p}),u.$set(Ce);const Ne={};h[0]&4096|h[2]&524288&&(Ne.$$scope={dirty:h,ctx:p}),g.$set(Ne);const Ye={};h[0]&8192|h[2]&524288&&(Ye.$$scope={dirty:h,ctx:p}),c.$set(Ye);const Ge={};h[1]&32&&(Ge.title=p[36]?"Reader Left/right margin":"Reader Top/bottom margin"),h[0]&131072|h[1]&32|h[2]&524288&&(Ge.$$scope={dirty:h,ctx:p}),$.$set(Ge);const He={};h[1]&32&&(He.title=p[36]?"Reader Max height":"Reader Max width"),h[0]&65536|h[1]&32|h[2]&524288&&(He.$$scope={dirty:h,ctx:p}),b.$set(He);const Je={};h[0]&262144|h[2]&524288&&(Je.$$scope={dirty:h,ctx:p}),w.$set(Je);const Ke={};h[0]&2|h[2]&524288&&(Ke.$$scope={dirty:h,ctx:p}),B.$set(Ke);const Qe={};h[0]&524288|h[2]&524288&&(Qe.$$scope={dirty:h,ctx:p}),W.$set(Qe);const Ze={};h[0]&16777216|h[2]&524288&&(Ze.$$scope={dirty:h,ctx:p}),j.$set(Ze);const Xe={};h[0]&33554432|h[2]&524288&&(Xe.$$scope={dirty:h,ctx:p}),oe.$set(Xe);const xe={};h[0]&16384|h[2]&524288&&(xe.$$scope={dirty:h,ctx:p}),de.$set(xe);const et={};h[0]&32768|h[2]&524288&&(et.$$scope={dirty:h,ctx:p}),G.$set(et);const ze={};h[0]&268435456&&(ze.tooltip=p[28]),h[0]&1|h[2]&524288&&(ze.$$scope={dirty:h,ctx:p}),q.$set(ze);let Ue=Y;Y=Ie(p),Y===Ue?ve[Y].p(p,h):(Ee(),E(ve[Ue],1,1,()=>{ve[Ue]=null}),Te(),X=ve[Y],X?X.p(p,h):(X=ve[Y]=ke[Y](p),X.c()),I(X,1),X.m(ae.parentNode,ae))},i(p){fe||(I(t.$$.fragment,p),I(a.$$.fragment,p),I(r.$$.fragment,p),I(u.$$.fragment,p),I(g.$$.fragment,p),I(c.$$.fragment,p),I($.$$.fragment,p),I(b.$$.fragment,p),I(w.$$.fragment,p),I(B.$$.fragment,p),I(W.$$.fragment,p),I(j.$$.fragment,p),I(oe.$$.fragment,p),I(de.$$.fragment,p),I(G.$$.fragment,p),I(q.$$.fragment,p),I(X),fe=!0)},o(p){E(t.$$.fragment,p),E(a.$$.fragment,p),E(r.$$.fragment,p),E(u.$$.fragment,p),E(g.$$.fragment,p),E(c.$$.fragment,p),E($.$$.fragment,p),E(b.$$.fragment,p),E(w.$$.fragment,p),E(B.$$.fragment,p),E(W.$$.fragment,p),E(j.$$.fragment,p),E(oe.$$.fragment,p),E(de.$$.fragment,p),E(G.$$.fragment,p),E(q.$$.fragment,p),E(X),fe=!1},d(p){p&&d(e),A(t),p&&d(i),p&&d(s),A(a),p&&d(o),A(r,p),p&&d(l),A(u,p),p&&d(f),A(g,p),p&&d(_),A(c,p),p&&d(v),A($,p),p&&d(P),A(b,p),p&&d(k),A(w,p),p&&d(y),A(B,p),p&&d(T),A(W,p),p&&d(J),A(j,p),p&&d(K),A(oe,p),p&&d(re),A(de,p),p&&d(ie),A(G,p),p&&d(x),A(q,p),p&&d(se),ve[Y].d(p),p&&d(ae)}}}function Ao(n){let e,t,i;function s(o){n[75](o)}let a={options:n[38]};return n[3]!==void 0&&(a.selectedOptionId=n[3]),e=new Se({props:a}),Q.push(()=>ee(e,"selectedOptionId",s,n[3])),{c(){M(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,r){L(e,o,r),i=!0},p(o,r){const l={};!t&&r[0]&8&&(t=!0,l.selectedOptionId=o[3],te(()=>t=!1)),e.$set(l)},i(o){i||(I(e.$$.fragment,o),i=!0)},o(o){E(e.$$.fragment,o),i=!1},d(o){A(e,o)}}}function Go(n){let e,t,i;function s(o){n[76](o)}let a={options:n[38]};return n[4]!==void 0&&(a.selectedOptionId=n[4]),e=new Se({props:a}),Q.push(()=>ee(e,"selectedOptionId",s,n[4])),{c(){M(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,r){L(e,o,r),i=!0},p(o,r){const l={};!t&&r[0]&16&&(t=!0,l.selectedOptionId=o[4],te(()=>t=!1)),e.$set(l)},i(o){i||(I(e.$$.fragment,o),i=!0)},o(o){E(e.$$.fragment,o),i=!1},d(o){A(e,o)}}}function Ho(n){let e,t,i;function s(o){n[77](o)}let a={options:n[42]};return n[5]!==void 0&&(a.selectedOptionId=n[5]),e=new Se({props:a}),Q.push(()=>ee(e,"selectedOptionId",s,n[5])),{c(){M(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,r){L(e,o,r),i=!0},p(o,r){const l={};!t&&r[0]&32&&(t=!0,l.selectedOptionId=o[5],te(()=>t=!1)),e.$set(l)},i(o){i||(I(e.$$.fragment,o),i=!0)},o(o){E(e.$$.fragment,o),i=!1},d(o){A(e,o)}}}function zo(n){let e,t,i;function s(o){n[78](o)}let a={options:n[43]};return n[6]!==void 0&&(a.selectedOptionId=n[6]),e=new Se({props:a}),Q.push(()=>ee(e,"selectedOptionId",s,n[6])),{c(){M(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,r){L(e,o,r),i=!0},p(o,r){const l={};!t&&r[0]&64&&(t=!0,l.selectedOptionId=o[6],te(()=>t=!1)),e.$set(l)},i(o){i||(I(e.$$.fragment,o),i=!0)},o(o){E(e.$$.fragment,o),i=!1},d(o){A(e,o)}}}function Uo(n){let e,t,i;function s(o){n[79](o)}let a={options:n[38]};return n[7]!==void 0&&(a.selectedOptionId=n[7]),e=new Se({props:a}),Q.push(()=>ee(e,"selectedOptionId",s,n[7])),{c(){M(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,r){L(e,o,r),i=!0},p(o,r){const l={};!t&&r[0]&128&&(t=!0,l.selectedOptionId=o[7],te(()=>t=!1)),e.$set(l)},i(o){i||(I(e.$$.fragment,o),i=!0)},o(o){E(e.$$.fragment,o),i=!1},d(o){A(e,o)}}}function Wo(n){let e,t,i;function s(o){n[45](o)}let a={options:n[37]};return n[8]!==void 0&&(a.selectedOptionId=n[8]),e=new Se({props:a}),Q.push(()=>ee(e,"selectedOptionId",s,n[8])),{c(){M(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,r){L(e,o,r),i=!0},p(o,r){const l={};!t&&r[0]&256&&(t=!0,l.selectedOptionId=o[8],te(()=>t=!1)),e.$set(l)},i(o){i||(I(e.$$.fragment,o),i=!0)},o(o){E(e.$$.fragment,o),i=!1},d(o){A(e,o)}}}function jo(n){let e,t,i;function s(o){n[46](o)}let a={options:n[41]};return n[9]!==void 0&&(a.selectedOptionId=n[9]),e=new Se({props:a}),Q.push(()=>ee(e,"selectedOptionId",s,n[9])),{c(){M(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,r){L(e,o,r),i=!0},p(o,r){const l={};!t&&r[0]&512&&(t=!0,l.selectedOptionId=o[9],te(()=>t=!1)),e.$set(l)},i(o){i||(I(e.$$.fragment,o),i=!0)},o(o){E(e.$$.fragment,o),i=!1},d(o){A(e,o)}}}function qo(n){let e,t,i;return{c(){e=F("input"),this.h()},l(s){e=C(s,"INPUT",{type:!0,class:!0,placeholder:!0}),this.h()},h(){m(e,"type","text"),m(e,"class",qe),m(e,"placeholder","Noto Serif JP")},m(s,a){N(s,e,a),he(e,n[10]),t||(i=Z(e,"input",n[49]),t=!0)},p(s,a){a[0]&1024&&e.value!==s[10]&&he(e,s[10])},d(s){s&&d(e),t=!1,i()}}}function Cn(n){let e,t,i,s,a;return t=new Oe({props:{icon:qn}}),{c(){e=F("div"),M(t.$$.fragment),this.h()},l(o){e=C(o,"DIV",{role:!0});var r=H(e);R(t.$$.fragment,r),r.forEach(d),this.h()},h(){m(e,"role","button")},m(o,r){N(o,e,r),L(t,e,null),i=!0,s||(a=[Z(e,"click",n[48]),Z(e,"keyup",Me)],s=!0)},p:we,i(o){i||(I(t.$$.fragment,o),i=!0)},o(o){E(t.$$.fragment,o),i=!1},d(o){o&&d(e),A(t),s=!1,Pe(a)}}}function Yo(n){let e,t,i,s,a;function o(u){n[47](u)}let r={availableFonts:[ot.NOTOSERIFJP,ot.GENEI,ot.KLEEONE,ot.KLEEONESEMIBOLD,ot.SHIPPORIMINCHO]};n[10]!==void 0&&(r.fontValue=n[10]),t=new Jn({props:r}),Q.push(()=>ee(t,"fontValue",o,n[10]));let l=n[35]&&Cn(n);return{c(){e=F("div"),M(t.$$.fragment),s=z(),l&&l.c(),this.h()},l(u){e=C(u,"DIV",{slot:!0,class:!0});var f=H(e);R(t.$$.fragment,f),s=U(f),l&&l.l(f),f.forEach(d),this.h()},h(){m(e,"slot","header"),m(e,"class","flex items-center")},m(u,f){N(u,e,f),L(t,e,null),S(e,s),l&&l.m(e,null),a=!0},p(u,f){const g={};!i&&f[0]&1024&&(i=!0,g.fontValue=u[10],te(()=>i=!1)),t.$set(g),u[35]?l?(l.p(u,f),f[1]&16&&I(l,1)):(l=Cn(u),l.c(),I(l,1),l.m(e,null)):l&&(Ee(),E(l,1,1,()=>{l=null}),Te())},i(u){a||(I(t.$$.fragment,u),I(l),a=!0)},o(u){E(t.$$.fragment,u),E(l),a=!1},d(u){u&&d(e),A(t),l&&l.d()}}}function Jo(n){let e,t,i;return{c(){e=F("input"),this.h()},l(s){e=C(s,"INPUT",{type:!0,class:!0,placeholder:!0}),this.h()},h(){m(e,"type","text"),m(e,"class",qe),m(e,"placeholder","Noto Sans JP")},m(s,a){N(s,e,a),he(e,n[11]),t||(i=Z(e,"input",n[52]),t=!0)},p(s,a){a[0]&2048&&e.value!==s[11]&&he(e,s[11])},d(s){s&&d(e),t=!1,i()}}}function Nn(n){let e,t,i,s,a;return t=new Oe({props:{icon:qn}}),{c(){e=F("div"),M(t.$$.fragment),this.h()},l(o){e=C(o,"DIV",{role:!0});var r=H(e);R(t.$$.fragment,r),r.forEach(d),this.h()},h(){m(e,"role","button")},m(o,r){N(o,e,r),L(t,e,null),i=!0,s||(a=[Z(e,"click",n[51]),Z(e,"keyup",Me)],s=!0)},p:we,i(o){i||(I(t.$$.fragment,o),i=!0)},o(o){E(t.$$.fragment,o),i=!1},d(o){o&&d(e),A(t),s=!1,Pe(a)}}}function Ko(n){let e,t,i,s,a;function o(u){n[50](u)}let r={};n[11]!==void 0&&(r.fontValue=n[11]),t=new Jn({props:r}),Q.push(()=>ee(t,"fontValue",o,n[11]));let l=n[35]&&Nn(n);return{c(){e=F("div"),M(t.$$.fragment),s=z(),l&&l.c(),this.h()},l(u){e=C(u,"DIV",{slot:!0,class:!0});var f=H(e);R(t.$$.fragment,f),s=U(f),l&&l.l(f),f.forEach(d),this.h()},h(){m(e,"slot","header"),m(e,"class","flex items-center")},m(u,f){N(u,e,f),L(t,e,null),S(e,s),l&&l.m(e,null),a=!0},p(u,f){const g={};!i&&f[0]&2048&&(i=!0,g.fontValue=u[11],te(()=>i=!1)),t.$set(g),u[35]?l?(l.p(u,f),f[1]&16&&I(l,1)):(l=Nn(u),l.c(),I(l,1),l.m(e,null)):l&&(Ee(),E(l,1,1,()=>{l=null}),Te())},i(u){a||(I(t.$$.fragment,u),I(l),a=!0)},o(u){E(t.$$.fragment,u),E(l),a=!1},d(u){u&&d(e),A(t),l&&l.d()}}}function Qo(n){let e,t,i;return{c(){e=F("input"),this.h()},l(s){e=C(s,"INPUT",{type:!0,class:!0,step:!0,min:!0}),this.h()},h(){m(e,"type","number"),m(e,"class",qe),m(e,"step","1"),m(e,"min","1")},m(s,a){N(s,e,a),he(e,n[12]),t||(i=Z(e,"input",n[53]),t=!0)},p(s,a){a[0]&4096&&ye(e.value)!==s[12]&&he(e,s[12])},d(s){s&&d(e),t=!1,i()}}}function Zo(n){let e,t,i;return{c(){e=F("input"),this.h()},l(s){e=C(s,"INPUT",{type:!0,class:!0,step:!0,min:!0}),this.h()},h(){m(e,"type","number"),m(e,"class",qe),m(e,"step","0.05"),m(e,"min","1")},m(s,a){N(s,e,a),he(e,n[13]),t||(i=[Z(e,"input",n[54]),Z(e,"change",n[55])],t=!0)},p(s,a){a[0]&8192&&ye(e.value)!==s[13]&&he(e,s[13])},d(s){s&&d(e),t=!1,Pe(i)}}}function Xo(n){let e,t,i;return{c(){e=F("input"),this.h()},l(s){e=C(s,"INPUT",{type:!0,class:!0,step:!0,min:!0}),this.h()},h(){m(e,"type","number"),m(e,"class",qe),m(e,"step","1"),m(e,"min","0")},m(s,a){N(s,e,a),he(e,n[17]),t||(i=Z(e,"input",n[57]),t=!0)},p(s,a){a[0]&131072&&ye(e.value)!==s[17]&&he(e,s[17])},d(s){s&&d(e),t=!1,i()}}}function xo(n){let e,t,i;function s(o){n[56](o)}let a={slot:"header",isFirstDimension:!0,isVertical:n[36]};return n[17]!==void 0&&(a.dimensionValue=n[17]),e=new Yn({props:a}),Q.push(()=>ee(e,"dimensionValue",s,n[17])),{c(){M(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,r){L(e,o,r),i=!0},p(o,r){const l={};r[1]&32&&(l.isVertical=o[36]),!t&&r[0]&131072&&(t=!0,l.dimensionValue=o[17],te(()=>t=!1)),e.$set(l)},i(o){i||(I(e.$$.fragment,o),i=!0)},o(o){E(e.$$.fragment,o),i=!1},d(o){A(e,o)}}}function es(n){let e,t,i;return{c(){e=F("input"),this.h()},l(s){e=C(s,"INPUT",{type:!0,class:!0,step:!0,min:!0}),this.h()},h(){m(e,"type","number"),m(e,"class",qe),m(e,"step","1"),m(e,"min","0")},m(s,a){N(s,e,a),he(e,n[16]),t||(i=Z(e,"input",n[59]),t=!0)},p(s,a){a[0]&65536&&ye(e.value)!==s[16]&&he(e,s[16])},d(s){s&&d(e),t=!1,i()}}}function ts(n){let e,t,i;function s(o){n[58](o)}let a={slot:"header",isVertical:n[36]};return n[16]!==void 0&&(a.dimensionValue=n[16]),e=new Yn({props:a}),Q.push(()=>ee(e,"dimensionValue",s,n[16])),{c(){M(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,r){L(e,o,r),i=!0},p(o,r){const l={};r[1]&32&&(l.isVertical=o[36]),!t&&r[0]&65536&&(t=!0,l.dimensionValue=o[16],te(()=>t=!1)),e.$set(l)},i(o){i||(I(e.$$.fragment,o),i=!0)},o(o){E(e.$$.fragment,o),i=!1},d(o){A(e,o)}}}function ns(n){let e,t,i;return{c(){e=F("input"),this.h()},l(s){e=C(s,"INPUT",{type:!0,step:!0,min:!0,class:!0}),this.h()},h(){m(e,"type","number"),m(e,"step","1"),m(e,"min","10"),m(e,"class",qe)},m(s,a){N(s,e,a),he(e,n[18]),t||(i=[Z(e,"input",n[60]),Z(e,"blur",n[61])],t=!0)},p(s,a){a[0]&262144&&ye(e.value)!==s[18]&&he(e,s[18])},d(s){s&&d(e),t=!1,Pe(i)}}}function is(n){let e,t,i;function s(o){n[62](o)}let a={options:n[40]};return n[1]!==void 0&&(a.selectedOptionId=n[1]),e=new Se({props:a}),Q.push(()=>ee(e,"selectedOptionId",s,n[1])),{c(){M(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,r){L(e,o,r),i=!0},p(o,r){const l={};!t&&r[0]&2&&(t=!0,l.selectedOptionId=o[1],te(()=>t=!1)),e.$set(l)},i(o){i||(I(e.$$.fragment,o),i=!0)},o(o){E(e.$$.fragment,o),i=!1},d(o){A(e,o)}}}function os(n){let e,t,i;function s(o){n[63](o)}let a={options:n[38]};return n[19]!==void 0&&(a.selectedOptionId=n[19]),e=new Se({props:a}),Q.push(()=>ee(e,"selectedOptionId",s,n[19])),{c(){M(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,r){L(e,o,r),i=!0},p(o,r){const l={};!t&&r[0]&524288&&(t=!0,l.selectedOptionId=o[19],te(()=>t=!1)),e.$set(l)},i(o){i||(I(e.$$.fragment,o),i=!0)},o(o){E(e.$$.fragment,o),i=!1},d(o){A(e,o)}}}function ss(n){let e,t,i;function s(o){n[64](o)}let a={options:n[38]};return n[24]!==void 0&&(a.selectedOptionId=n[24]),e=new Se({props:a}),Q.push(()=>ee(e,"selectedOptionId",s,n[24])),{c(){M(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,r){L(e,o,r),i=!0},p(o,r){const l={};!t&&r[0]&16777216&&(t=!0,l.selectedOptionId=o[24],te(()=>t=!1)),e.$set(l)},i(o){i||(I(e.$$.fragment,o),i=!0)},o(o){E(e.$$.fragment,o),i=!1},d(o){A(e,o)}}}function ls(n){let e,t,i;function s(o){n[65](o)}let a={options:n[38]};return n[25]!==void 0&&(a.selectedOptionId=n[25]),e=new Se({props:a}),Q.push(()=>ee(e,"selectedOptionId",s,n[25])),{c(){M(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,r){L(e,o,r),i=!0},p(o,r){const l={};!t&&r[0]&33554432&&(t=!0,l.selectedOptionId=o[25],te(()=>t=!1)),e.$set(l)},i(o){i||(I(e.$$.fragment,o),i=!0)},o(o){E(e.$$.fragment,o),i=!1},d(o){A(e,o)}}}function rs(n){let e,t,i;function s(o){n[66](o)}let a={options:n[38]};return n[14]!==void 0&&(a.selectedOptionId=n[14]),e=new Se({props:a}),Q.push(()=>ee(e,"selectedOptionId",s,n[14])),{c(){M(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,r){L(e,o,r),i=!0},p(o,r){const l={};!t&&r[0]&16384&&(t=!0,l.selectedOptionId=o[14],te(()=>t=!1)),e.$set(l)},i(o){i||(I(e.$$.fragment,o),i=!0)},o(o){E(e.$$.fragment,o),i=!1},d(o){A(e,o)}}}function as(n){let e,t,i;function s(o){n[67](o)}let a={options:n[38]};return n[15]!==void 0&&(a.selectedOptionId=n[15]),e=new Se({props:a}),Q.push(()=>ee(e,"selectedOptionId",s,n[15])),{c(){M(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,r){L(e,o,r),i=!0},p(o,r){const l={};!t&&r[0]&32768&&(t=!0,l.selectedOptionId=o[15],te(()=>t=!1)),e.$set(l)},i(o){i||(I(e.$$.fragment,o),i=!0)},o(o){E(e.$$.fragment,o),i=!1},d(o){A(e,o)}}}function us(n){let e,t,i;function s(o){n[68](o)}let a={options:n[39]};return n[0]!==void 0&&(a.selectedOptionId=n[0]),e=new Se({props:a}),Q.push(()=>ee(e,"selectedOptionId",s,n[0])),{c(){M(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,r){L(e,o,r),i=!0},p(o,r){const l={};!t&&r[0]&1&&(t=!0,l.selectedOptionId=o[0],te(()=>t=!1)),e.$set(l)},i(o){i||(I(e.$$.fragment,o),i=!0)},o(o){E(e.$$.fragment,o),i=!1},d(o){A(e,o)}}}function fs(n){let e,t,i,s,a,o;e=new _e({props:{title:"Avoid Page Break",tooltip:n[34],$$slots:{default:[gs]},$$scope:{ctx:n}}}),i=new _e({props:{title:"Selection to Bookmark",tooltip:"When enabled bookmarks will be placed to a near paragraph of current/previous selected text instead of page start",$$slots:{default:[ps]},$$scope:{ctx:n}}});let r=!n[36]&&Bn(n);return{c(){M(e.$$.fragment),t=z(),M(i.$$.fragment),s=z(),r&&r.c(),a=st()},l(l){R(e.$$.fragment,l),t=U(l),R(i.$$.fragment,l),s=U(l),r&&r.l(l),a=st()},m(l,u){L(e,l,u),N(l,t,u),L(i,l,u),N(l,s,u),r&&r.m(l,u),N(l,a,u),o=!0},p(l,u){const f={};u[1]&8&&(f.tooltip=l[34]),u[0]&4|u[2]&524288&&(f.$$scope={dirty:u,ctx:l}),e.$set(f);const g={};u[0]&4194304|u[2]&524288&&(g.$$scope={dirty:u,ctx:l}),i.$set(g),l[36]?r&&(Ee(),E(r,1,1,()=>{r=null}),Te()):r?(r.p(l,u),u[1]&32&&I(r,1)):(r=Bn(l),r.c(),I(r,1),r.m(a.parentNode,a))},i(l){o||(I(e.$$.fragment,l),I(i.$$.fragment,l),I(r),o=!0)},o(l){E(e.$$.fragment,l),E(i.$$.fragment,l),E(r),o=!1},d(l){A(e,l),l&&d(t),A(i,l),l&&d(s),r&&r.d(l),l&&d(a)}}}function cs(n){let e,t,i,s;return e=new _e({props:{title:"Custom Reading Point",tooltip:"Allows to set a persistent custom point in the reader from which the current progress and bookmark is calculated when enabled",$$slots:{default:[ms]},$$scope:{ctx:n}}}),i=new _e({props:{title:"Auto position on resize",$$slots:{default:[_s]},$$scope:{ctx:n}}}),{c(){M(e.$$.fragment),t=z(),M(i.$$.fragment)},l(a){R(e.$$.fragment,a),t=U(a),R(i.$$.fragment,a)},m(a,o){L(e,a,o),N(a,t,o),L(i,a,o),s=!0},p(a,o){const r={};o[0]&2097152|o[2]&524288&&(r.$$scope={dirty:o,ctx:a}),e.$set(r);const l={};o[0]&1048576|o[2]&524288&&(l.$$scope={dirty:o,ctx:a}),i.$set(l)},i(a){s||(I(e.$$.fragment,a),I(i.$$.fragment,a),s=!0)},o(a){E(e.$$.fragment,a),E(i.$$.fragment,a),s=!1},d(a){A(e,a),a&&d(t),A(i,a)}}}function gs(n){let e,t,i;function s(o){n[72](o)}let a={options:n[38]};return n[2]!==void 0&&(a.selectedOptionId=n[2]),e=new Se({props:a}),Q.push(()=>ee(e,"selectedOptionId",s,n[2])),{c(){M(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,r){L(e,o,r),i=!0},p(o,r){const l={};!t&&r[0]&4&&(t=!0,l.selectedOptionId=o[2],te(()=>t=!1)),e.$set(l)},i(o){i||(I(e.$$.fragment,o),i=!0)},o(o){E(e.$$.fragment,o),i=!1},d(o){A(e,o)}}}function ps(n){let e,t,i;function s(o){n[73](o)}let a={options:n[38]};return n[22]!==void 0&&(a.selectedOptionId=n[22]),e=new Se({props:a}),Q.push(()=>ee(e,"selectedOptionId",s,n[22])),{c(){M(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,r){L(e,o,r),i=!0},p(o,r){const l={};!t&&r[0]&4194304&&(t=!0,l.selectedOptionId=o[22],te(()=>t=!1)),e.$set(l)},i(o){i||(I(e.$$.fragment,o),i=!0)},o(o){E(e.$$.fragment,o),i=!1},d(o){A(e,o)}}}function Bn(n){let e,t;return e=new _e({props:{title:"Page Columns",$$slots:{default:[ds]},$$scope:{ctx:n}}}),{c(){M(e.$$.fragment)},l(i){R(e.$$.fragment,i)},m(i,s){L(e,i,s),t=!0},p(i,s){const a={};s[0]&8388608|s[2]&524288&&(a.$$scope={dirty:s,ctx:i}),e.$set(a)},i(i){t||(I(e.$$.fragment,i),t=!0)},o(i){E(e.$$.fragment,i),t=!1},d(i){A(e,i)}}}function ds(n){let e,t,i;return{c(){e=F("input"),this.h()},l(s){e=C(s,"INPUT",{type:!0,class:!0,step:!0,min:!0}),this.h()},h(){m(e,"type","number"),m(e,"class",qe),m(e,"step","1"),m(e,"min","0")},m(s,a){N(s,e,a),he(e,n[23]),t||(i=Z(e,"input",n[74]),t=!0)},p(s,a){a[0]&8388608&&ye(e.value)!==s[23]&&he(e,s[23])},d(s){s&&d(e),t=!1,i()}}}function Mn(n){let e,t,i,s;return{c(){e=F("div"),t=ge("Reset Points"),this.h()},l(a){e=C(a,"DIV",{role:!0,class:!0});var o=H(e);t=pe(o,"Reset Points"),o.forEach(d),this.h()},h(){m(e,"role","button"),m(e,"class","ml-4 hover:underline")},m(a,o){N(a,e,o),S(e,t),i||(s=[Z(e,"click",n[70]),Z(e,"keyup",Me)],i=!0)},p:we,d(a){a&&d(e),i=!1,Pe(s)}}}function ms(n){let e,t,i,s,a;function o(u){n[69](u)}let r={options:n[38]};n[21]!==void 0&&(r.selectedOptionId=n[21]),t=new Se({props:r}),Q.push(()=>ee(t,"selectedOptionId",o,n[21]));let l=n[21]&&Mn(n);return{c(){e=F("div"),M(t.$$.fragment),s=z(),l&&l.c(),this.h()},l(u){e=C(u,"DIV",{class:!0});var f=H(e);R(t.$$.fragment,f),s=U(f),l&&l.l(f),f.forEach(d),this.h()},h(){m(e,"class","flex items-center")},m(u,f){N(u,e,f),L(t,e,null),S(e,s),l&&l.m(e,null),a=!0},p(u,f){const g={};!i&&f[0]&2097152&&(i=!0,g.selectedOptionId=u[21],te(()=>i=!1)),t.$set(g),u[21]?l?l.p(u,f):(l=Mn(u),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},i(u){a||(I(t.$$.fragment,u),a=!0)},o(u){E(t.$$.fragment,u),a=!1},d(u){u&&d(e),A(t),l&&l.d()}}}function _s(n){let e,t,i;function s(o){n[71](o)}let a={options:n[38]};return n[20]!==void 0&&(a.selectedOptionId=n[20]),e=new Se({props:a}),Q.push(()=>ee(e,"selectedOptionId",s,n[20])),{c(){M(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,r){L(e,o,r),i=!0},p(o,r){const l={};!t&&r[0]&1048576&&(t=!0,l.selectedOptionId=o[20],te(()=>t=!1)),e.$set(l)},i(o){i||(I(e.$$.fragment,o),i=!0)},o(o){E(e.$$.fragment,o),i=!1},d(o){A(e,o)}}}function hs(n){let e,t,i,s;const a=[Lo,Ro],o=[];function r(l,u){return l[26]==="Reader"?0:1}return t=r(n),i=o[t]=a[t](n),{c(){e=F("div"),i.c(),this.h()},l(l){e=C(l,"DIV",{class:!0});var u=H(e);i.l(u),u.forEach(d),this.h()},h(){m(e,"class","grid grid-cols-1 items-center sm:grid-cols-2 sm:gap-6 lg:md:gap-8 lg:grid-cols-3")},m(l,u){N(l,e,u),o[t].m(e,null),s=!0},p(l,u){let f=t;t=r(l),t===f?o[t].p(l,u):(Ee(),E(o[f],1,1,()=>{o[f]=null}),Te(),i=o[t],i?i.p(l,u):(i=o[t]=a[t](l),i.c()),I(i,1),i.m(e,null))},i(l){s||(I(i),s=!0)},o(l){E(i),s=!1},d(l){l&&d(e),o[t].d()}}}function bs(n,e,t){let i,s,a,o,r,l,u,f,{selectedTheme:g}=e,{viewMode:_}=e,{fontFamilyGroupOne:c}=e,{fontFamilyGroupTwo:v}=e,{fontSize:$}=e,{lineHeight:P}=e,{blurImage:b}=e,{hideFurigana:k}=e,{furiganaStyle:w}=e,{writingMode:y}=e,{secondDimensionMaxValue:B}=e,{firstDimensionMargin:T}=e,{swipeThreshold:W}=e,{disableWheelNavigation:J}=e,{autoPositionOnResize:j}=e,{avoidPageBreak:K}=e,{customReadingPointEnabled:oe}=e,{selectionToBookmarkEnabled:re}=e,{pageColumns:de}=e,{persistentStorage:ie}=e,{confirmClose:G}=e,{autoBookmark:x}=e,{activeSettings:q}=e,{cacheStorageData:se}=e,{autoReplication:Y}=e,{replicationSaveBehavior:X}=e,{showExternalPlaceholder:ae}=e;const ke=Array.from(Wi.entries()).map(([V,Be])=>({theme:V,option:Be})).map(({theme:V,option:Be})=>({id:V,text:"",style:{color:Be.fontColor,"background-color":Be.backgroundColor},thickBorders:!0})),ve=[{id:!1,text:"Off"},{id:!0,text:"On"}],Ie=[{id:ft.Partial,text:"Partial"},{id:ft.Full,text:"Full"},{id:ft.Toggle,text:"Toggle"}],p=[{id:"horizontal-tb",text:"Horizontal"},{id:"vertical-rl",text:"Vertical"}],h=[{id:wt.Continuous,text:"Continuous"},{id:wt.Paginated,text:"Paginated"}],be=[{id:We.Off,text:"Off"},{id:We.Up,text:"Up"},{id:We.Down,text:"Down"},{id:We.All,text:"All"}],Ve=[{id:$t.NewOnly,text:"New Only"},{id:$t.Overwrite,text:"Overwrite"}],Fe=je.storageSourcesChanged$.pipe($i(V=>[...vi.filter(Be=>ki(Be.type,Be.name,window)).map(Be=>({name:Be.name,type:Be.type,data:new ArrayBuffer(0),lastSourceModified:0})),...V.filter(Be=>!yt(Be.name))]));ue(n,Fe,V=>t(27,f=V));let Ce="",Ne="";function Ye(V){g=V,t(8,g)}function Ge(V){_=V,t(9,_)}function He(V){c=V,t(10,c)}const Je=()=>it.dialogs$.next([{component:Fn,props:{fontFamily:It}}]);function Ke(){c=this.value,t(10,c)}function Qe(V){v=V,t(11,v)}const Ze=()=>it.dialogs$.next([{component:Fn,props:{fontFamily:St}}]);function Xe(){v=this.value,t(11,v)}function xe(){$=ye(this.value),t(12,$)}function et(){P=ye(this.value),t(13,P)}const ze=()=>{(!P||P<1)&&t(13,P=1.65)};function Ue(V){T=V,t(17,T)}function at(){T=ye(this.value),t(17,T)}function ut(V){B=V,t(16,B)}function O(){B=ye(this.value),t(16,B)}function nt(){W=ye(this.value),t(18,W)}const _t=()=>{(W<10||typeof W!="number")&&t(18,W=10)};function ht(V){y=V,t(1,y)}function bt(V){J=V,t(19,J)}function me(V){G=V,t(24,G)}function D(V){x=V,t(25,x)}function le(V){b=V,t(14,b)}function tt(V){k=V,t(15,k)}function ce(V){w=V,t(0,w)}function dt(V){oe=V,t(21,oe)}const Kn=()=>{wi.next(100),Ii.next(0)};function Qn(V){j=V,t(20,j)}function Zn(V){K=V,t(2,K)}function Xn(V){re=V,t(22,re)}function xn(){de=ye(this.value),t(23,de)}function ei(V){ie=V,t(3,ie)}function ti(V){se=V,t(4,se)}function ni(V){Y=V,t(5,Y)}function ii(V){X=V,t(6,X)}function oi(V){ae=V,t(7,ae)}return n.$$set=V=>{"selectedTheme"in V&&t(8,g=V.selectedTheme),"viewMode"in V&&t(9,_=V.viewMode),"fontFamilyGroupOne"in V&&t(10,c=V.fontFamilyGroupOne),"fontFamilyGroupTwo"in V&&t(11,v=V.fontFamilyGroupTwo),"fontSize"in V&&t(12,$=V.fontSize),"lineHeight"in V&&t(13,P=V.lineHeight),"blurImage"in V&&t(14,b=V.blurImage),"hideFurigana"in V&&t(15,k=V.hideFurigana),"furiganaStyle"in V&&t(0,w=V.furiganaStyle),"writingMode"in V&&t(1,y=V.writingMode),"secondDimensionMaxValue"in V&&t(16,B=V.secondDimensionMaxValue),"firstDimensionMargin"in V&&t(17,T=V.firstDimensionMargin),"swipeThreshold"in V&&t(18,W=V.swipeThreshold),"disableWheelNavigation"in V&&t(19,J=V.disableWheelNavigation),"autoPositionOnResize"in V&&t(20,j=V.autoPositionOnResize),"avoidPageBreak"in V&&t(2,K=V.avoidPageBreak),"customReadingPointEnabled"in V&&t(21,oe=V.customReadingPointEnabled),"selectionToBookmarkEnabled"in V&&t(22,re=V.selectionToBookmarkEnabled),"pageColumns"in V&&t(23,de=V.pageColumns),"persistentStorage"in V&&t(3,ie=V.persistentStorage),"confirmClose"in V&&t(24,G=V.confirmClose),"autoBookmark"in V&&t(25,x=V.autoBookmark),"activeSettings"in V&&t(26,q=V.activeSettings),"cacheStorageData"in V&&t(4,se=V.cacheStorageData),"autoReplication"in V&&t(5,Y=V.autoReplication),"replicationSaveBehavior"in V&&t(6,X=V.replicationSaveBehavior),"showExternalPlaceholder"in V&&t(7,ae=V.showExternalPlaceholder)},n.$$.update=()=>{if(n.$$.dirty[0]&2&&t(36,i=y==="vertical-rl"),n.$$.dirty[0]&1)switch(w){case ft.Full:t(28,Ce="Hidden by default, show on hover or click");break;case ft.Toggle:t(28,Ce="Hidden by default, can be toggled on click");break;default:t(28,Ce="Display furigana as grayed out text");break}if(n.$$.dirty[0]&4&&t(34,a=K?"Avoids breaking words/sentences into different pages":"Allow words/sentences to break into different pages"),n.$$.dirty[0]&8&&t(33,o=ie?"Reader uses higher storage limit for local data":`Uses lower temporary storage for local data.
May require bookmark or notification permissions for enablement`),n.$$.dirty[0]&16&&t(32,r=se?"Storage data is cached. Saves network traffic/latency but requires to reload current/open a new tab to retrieve data changes":"Storage data is refetched on every action. May consume more network traffic/latency but ensures current data"),n.$$.dirty[0]&64&&t(31,l=X===$t.Overwrite?"Data will always be overwritten":"Data will only be written if none exist on target, no time data is present or if target data is older"),n.$$.dirty[0]&32)switch(Y){case We.Up:t(29,Ne="Updated data will be exported to sync target when reading once per minute");break;case We.Down:t(29,Ne="Data will be imported from sync target when opening a book");break;case We.All:t(29,Ne="Data will be synced in both directions");break;default:t(29,Ne="No automatic import/export of data");break}n.$$.dirty[0]&128&&t(30,u=ae?"Placeholder data for external books is shown in the browser source manager":"Placeholder data for external books is hidden"),n.$$.dirty[0]&201326592&&q==="Data"&&!f&&je.getStorageSources().then(V=>{je.storageSourcesChanged$.next(V)}).catch(V=>{Ot.error(`Failed to retrieve storage sources: ${V.message}`),je.storageSourcesChanged$.next([])})},t(35,s="caches"in window),[w,y,K,ie,se,Y,X,ae,g,_,c,v,$,P,b,k,B,T,W,J,j,oe,re,de,G,x,q,f,Ce,Ne,u,l,r,o,a,s,i,ke,ve,Ie,p,h,be,Ve,Fe,Ye,Ge,He,Je,Ke,Qe,Ze,Xe,xe,et,ze,Ue,at,ut,O,nt,_t,ht,bt,me,D,le,tt,ce,dt,Kn,Qn,Zn,Xn,xn,ei,ti,ni,ii,oi]}class $s extends Re{constructor(e){super(),Le(this,e,bs,hs,Ae,{selectedTheme:8,viewMode:9,fontFamilyGroupOne:10,fontFamilyGroupTwo:11,fontSize:12,lineHeight:13,blurImage:14,hideFurigana:15,furiganaStyle:0,writingMode:1,secondDimensionMaxValue:16,firstDimensionMargin:17,swipeThreshold:18,disableWheelNavigation:19,autoPositionOnResize:20,avoidPageBreak:2,customReadingPointEnabled:21,selectionToBookmarkEnabled:22,pageColumns:23,persistentStorage:3,confirmClose:24,autoBookmark:25,activeSettings:26,cacheStorageData:4,autoReplication:5,replicationSaveBehavior:6,showExternalPlaceholder:7},null,[-1,-1,-1])}}function Rn(n,e,t){const i=n.slice();return i[4]=e[t],i}function Ln(n,e){let t,i,s,a=e[4].label+"",o,r,l,u,f,g,_;i=new Oe({props:{class:"mb-1",icon:e[4].icon}}),l=new lt({});function c(){return e[3](e[4])}return{key:n,first:null,c(){t=F("button"),M(i.$$.fragment),s=z(),o=ge(a),r=z(),M(l.$$.fragment),u=z(),this.h()},l(v){t=C(v,"BUTTON",{class:!0});var $=H(t);R(i.$$.fragment,$),s=U($),o=pe($,a),r=U($),R(l.$$.fragment,$),u=U($),$.forEach(d),this.h()},h(){m(t,"class","flex grow flex-col items-center justify-center text-xs"),ne(t,"bg-gray-900",e[0]===e[4].label),ne(t,"hover:bg-gray-900",e[0]!==e[4].label),this.first=t},m(v,$){N(v,t,$),L(i,t,null),S(t,s),S(t,o),S(t,r),L(l,t,null),S(t,u),f=!0,g||(_=Z(t,"click",c),g=!0)},p(v,$){e=v,(!f||$&5)&&ne(t,"bg-gray-900",e[0]===e[4].label),(!f||$&5)&&ne(t,"hover:bg-gray-900",e[0]!==e[4].label)},i(v){f||(I(i.$$.fragment,v),I(l.$$.fragment,v),f=!0)},o(v){E(i.$$.fragment,v),E(l.$$.fragment,v),f=!1},d(v){v&&d(t),A(i),A(l),g=!1,_()}}}function vs(n){let e,t,i,s=[],a=new Map,o,r,l,u=n[2];const f=g=>g[4].label;for(let g=0;g<u.length;g+=1){let _=Rn(n,u,g),c=f(_);a.set(c,s[g]=Ln(c,_))}return r=new Gi({props:{leavePageLink:n[1]}}),{c(){e=F("div"),t=F("div"),i=F("div");for(let g=0;g<s.length;g+=1)s[g].c();o=z(),M(r.$$.fragment),this.h()},l(g){e=C(g,"DIV",{class:!0});var _=H(e);t=C(_,"DIV",{class:!0});var c=H(t);i=C(c,"DIV",{class:!0});var v=H(i);for(let $=0;$<s.length;$+=1)s[$].l(v);v.forEach(d),o=U(c),R(r.$$.fragment,c),c.forEach(d),_.forEach(d),this.h()},h(){m(i,"class","h12 flex grow justify-evenly xl:h-10"),m(t,"class",Un+" flex px-0 md:px-5"),m(e,"class",Si)},m(g,_){N(g,e,_),S(e,t),S(t,i);for(let c=0;c<s.length;c+=1)s[c].m(i,null);S(t,o),L(r,t,null),l=!0},p(g,[_]){_&5&&(u=g[2],Ee(),s=rt(s,_,f,1,g,u,a,i,Vt,Ln,null,Rn),Te());const c={};_&2&&(c.leavePageLink=g[1]),r.$set(c)},i(g){if(!l){for(let _=0;_<u.length;_+=1)I(s[_]);I(r.$$.fragment,g),l=!0}},o(g){for(let _=0;_<s.length;_+=1)E(s[_]);E(r.$$.fragment,g),l=!1},d(g){g&&d(e);for(let _=0;_<s.length;_+=1)s[_].d();A(r)}}}function ks(n,e,t){let{leavePageLink:i}=e,{activeSettings:s}=e;const a=[{label:"Reader",icon:Li},{label:"Data",icon:Ai}],o=r=>t(0,s=r.label);return n.$$set=r=>{"leavePageLink"in r&&t(1,i=r.leavePageLink),"activeSettings"in r&&t(0,s=r.activeSettings)},[s,i,a,o]}class ws extends Re{constructor(e){super(),Le(this,e,ks,vs,Ae,{leavePageLink:1,activeSettings:0})}}function Is(n){let e,t,i,s,a,o,r,l,u,f,g,_,c,v,$,P,b,k,w,y,B,T,W,J,j,K,oe,re,de,ie,G,x,q,se,Y,X,ae=(n[28]??"")+"",fe,ke;document.title=e=Lt("Settings");function ve(D){n[31](D)}let Ie={leavePageLink:n[0]};n[1]!==void 0&&(Ie.activeSettings=n[1]),s=new ws({props:Ie}),Q.push(()=>ee(s,"activeSettings",ve,n[1]));function p(D){n[32](D)}function h(D){n[33](D)}function be(D){n[34](D)}function Ve(D){n[35](D)}function Fe(D){n[36](D)}function Ce(D){n[37](D)}function Ne(D){n[38](D)}function Ye(D){n[39](D)}function Ge(D){n[40](D)}function He(D){n[41](D)}function Je(D){n[42](D)}function Ke(D){n[43](D)}function Qe(D){n[44](D)}function Ze(D){n[45](D)}function Xe(D){n[46](D)}function xe(D){n[47](D)}function et(D){n[48](D)}function ze(D){n[49](D)}function Ue(D){n[50](D)}function at(D){n[51](D)}function ut(D){n[52](D)}function O(D){n[53](D)}function nt(D){n[54](D)}function _t(D){n[55](D)}function ht(D){n[56](D)}function bt(D){n[57](D)}let me={activeSettings:n[1]};return n[2]!==void 0&&(me.selectedTheme=n[2]),n[3]!==void 0&&(me.fontFamilyGroupOne=n[3]),n[4]!==void 0&&(me.fontFamilyGroupTwo=n[4]),n[5]!==void 0&&(me.fontSize=n[5]),n[6]!==void 0&&(me.lineHeight=n[6]),n[7]!==void 0&&(me.blurImage=n[7]),n[8]!==void 0&&(me.hideFurigana=n[8]),n[9]!==void 0&&(me.furiganaStyle=n[9]),n[10]!==void 0&&(me.writingMode=n[10]),n[11]!==void 0&&(me.viewMode=n[11]),n[12]!==void 0&&(me.secondDimensionMaxValue=n[12]),n[13]!==void 0&&(me.firstDimensionMargin=n[13]),n[14]!==void 0&&(me.swipeThreshold=n[14]),n[15]!==void 0&&(me.disableWheelNavigation=n[15]),n[16]!==void 0&&(me.autoPositionOnResize=n[16]),n[17]!==void 0&&(me.avoidPageBreak=n[17]),n[18]!==void 0&&(me.customReadingPointEnabled=n[18]),n[19]!==void 0&&(me.selectionToBookmarkEnabled=n[19]),n[20]!==void 0&&(me.pageColumns=n[20]),n[21]!==void 0&&(me.persistentStorage=n[21]),n[22]!==void 0&&(me.confirmClose=n[22]),n[23]!==void 0&&(me.autoBookmark=n[23]),n[24]!==void 0&&(me.cacheStorageData=n[24]),n[25]!==void 0&&(me.replicationSaveBehavior=n[25]),n[26]!==void 0&&(me.autoReplication=n[26]),n[27]!==void 0&&(me.showExternalPlaceholder=n[27]),u=new $s({props:me}),Q.push(()=>ee(u,"selectedTheme",p,n[2])),Q.push(()=>ee(u,"fontFamilyGroupOne",h,n[3])),Q.push(()=>ee(u,"fontFamilyGroupTwo",be,n[4])),Q.push(()=>ee(u,"fontSize",Ve,n[5])),Q.push(()=>ee(u,"lineHeight",Fe,n[6])),Q.push(()=>ee(u,"blurImage",Ce,n[7])),Q.push(()=>ee(u,"hideFurigana",Ne,n[8])),Q.push(()=>ee(u,"furiganaStyle",Ye,n[9])),Q.push(()=>ee(u,"writingMode",Ge,n[10])),Q.push(()=>ee(u,"viewMode",He,n[11])),Q.push(()=>ee(u,"secondDimensionMaxValue",Je,n[12])),Q.push(()=>ee(u,"firstDimensionMargin",Ke,n[13])),Q.push(()=>ee(u,"swipeThreshold",Qe,n[14])),Q.push(()=>ee(u,"disableWheelNavigation",Ze,n[15])),Q.push(()=>ee(u,"autoPositionOnResize",Xe,n[16])),Q.push(()=>ee(u,"avoidPageBreak",xe,n[17])),Q.push(()=>ee(u,"customReadingPointEnabled",et,n[18])),Q.push(()=>ee(u,"selectionToBookmarkEnabled",ze,n[19])),Q.push(()=>ee(u,"pageColumns",Ue,n[20])),Q.push(()=>ee(u,"persistentStorage",at,n[21])),Q.push(()=>ee(u,"confirmClose",ut,n[22])),Q.push(()=>ee(u,"autoBookmark",O,n[23])),Q.push(()=>ee(u,"cacheStorageData",nt,n[24])),Q.push(()=>ee(u,"replicationSaveBehavior",_t,n[25])),Q.push(()=>ee(u,"autoReplication",ht,n[26])),Q.push(()=>ee(u,"showExternalPlaceholder",bt,n[27])),{c(){t=z(),i=F("div"),M(s.$$.fragment),o=z(),r=F("div"),l=F("div"),M(u.$$.fragment),X=z(),fe=ge(ae),this.h()},l(D){fi("svelte-1mss3mt",document.head).forEach(d),t=U(D),i=C(D,"DIV",{class:!0});var tt=H(i);R(s.$$.fragment,tt),tt.forEach(d),o=U(D),r=C(D,"DIV",{class:!0});var ce=H(r);l=C(ce,"DIV",{class:!0});var dt=H(l);R(u.$$.fragment,dt),dt.forEach(d),ce.forEach(d),X=U(D),fe=pe(D,ae),this.h()},h(){m(i,"class","elevation-4 fixed inset-x-0 top-0 z-10"),m(l,"class","max-w-5xl"),m(r,"class",Un+" h-full pt-16 xl:pt-14")},m(D,le){N(D,t,le),N(D,i,le),L(s,i,null),N(D,o,le),N(D,r,le),S(r,l),L(u,l,null),N(D,X,le),N(D,fe,le),ke=!0},p(D,le){(!ke||le&0)&&e!==(e=Lt("Settings"))&&(document.title=e);const tt={};le[0]&1&&(tt.leavePageLink=D[0]),!a&&le[0]&2&&(a=!0,tt.activeSettings=D[1],te(()=>a=!1)),s.$set(tt);const ce={};le[0]&2&&(ce.activeSettings=D[1]),!f&&le[0]&4&&(f=!0,ce.selectedTheme=D[2],te(()=>f=!1)),!g&&le[0]&8&&(g=!0,ce.fontFamilyGroupOne=D[3],te(()=>g=!1)),!_&&le[0]&16&&(_=!0,ce.fontFamilyGroupTwo=D[4],te(()=>_=!1)),!c&&le[0]&32&&(c=!0,ce.fontSize=D[5],te(()=>c=!1)),!v&&le[0]&64&&(v=!0,ce.lineHeight=D[6],te(()=>v=!1)),!$&&le[0]&128&&($=!0,ce.blurImage=D[7],te(()=>$=!1)),!P&&le[0]&256&&(P=!0,ce.hideFurigana=D[8],te(()=>P=!1)),!b&&le[0]&512&&(b=!0,ce.furiganaStyle=D[9],te(()=>b=!1)),!k&&le[0]&1024&&(k=!0,ce.writingMode=D[10],te(()=>k=!1)),!w&&le[0]&2048&&(w=!0,ce.viewMode=D[11],te(()=>w=!1)),!y&&le[0]&4096&&(y=!0,ce.secondDimensionMaxValue=D[12],te(()=>y=!1)),!B&&le[0]&8192&&(B=!0,ce.firstDimensionMargin=D[13],te(()=>B=!1)),!T&&le[0]&16384&&(T=!0,ce.swipeThreshold=D[14],te(()=>T=!1)),!W&&le[0]&32768&&(W=!0,ce.disableWheelNavigation=D[15],te(()=>W=!1)),!J&&le[0]&65536&&(J=!0,ce.autoPositionOnResize=D[16],te(()=>J=!1)),!j&&le[0]&131072&&(j=!0,ce.avoidPageBreak=D[17],te(()=>j=!1)),!K&&le[0]&262144&&(K=!0,ce.customReadingPointEnabled=D[18],te(()=>K=!1)),!oe&&le[0]&524288&&(oe=!0,ce.selectionToBookmarkEnabled=D[19],te(()=>oe=!1)),!re&&le[0]&1048576&&(re=!0,ce.pageColumns=D[20],te(()=>re=!1)),!de&&le[0]&2097152&&(de=!0,ce.persistentStorage=D[21],te(()=>de=!1)),!ie&&le[0]&4194304&&(ie=!0,ce.confirmClose=D[22],te(()=>ie=!1)),!G&&le[0]&8388608&&(G=!0,ce.autoBookmark=D[23],te(()=>G=!1)),!x&&le[0]&16777216&&(x=!0,ce.cacheStorageData=D[24],te(()=>x=!1)),!q&&le[0]&33554432&&(q=!0,ce.replicationSaveBehavior=D[25],te(()=>q=!1)),!se&&le[0]&67108864&&(se=!0,ce.autoReplication=D[26],te(()=>se=!1)),!Y&&le[0]&134217728&&(Y=!0,ce.showExternalPlaceholder=D[27],te(()=>Y=!1)),u.$set(ce),(!ke||le[0]&268435456)&&ae!==(ae=(D[28]??"")+"")&&De(fe,ae)},i(D){ke||(I(s.$$.fragment,D),I(u.$$.fragment,D),ke=!0)},o(D){E(s.$$.fragment,D),E(u.$$.fragment,D),ke=!1},d(D){D&&d(t),D&&d(i),A(s),D&&d(o),D&&d(r),A(u),D&&d(X),D&&d(fe)}}}function Ss(n,e,t){let i,s,a,o,r,l,u,f,g,_,c,v,$,P,b,k,w,y,B,T,W,J,j,K,oe,re,de;ue(n,Wt,O=>t(2,i=O)),ue(n,It,O=>t(3,s=O)),ue(n,St,O=>t(4,a=O)),ue(n,jt,O=>t(5,o=O)),ue(n,qt,O=>t(6,r=O)),ue(n,Yt,O=>t(7,l=O)),ue(n,Jt,O=>t(8,u=O)),ue(n,Kt,O=>t(9,f=O)),ue(n,Qt,O=>t(10,g=O)),ue(n,Zt,O=>t(11,_=O)),ue(n,Xt,O=>t(12,c=O)),ue(n,xt,O=>t(13,v=O)),ue(n,en,O=>t(14,$=O)),ue(n,tn,O=>t(15,P=O)),ue(n,nn,O=>t(16,b=O)),ue(n,on,O=>t(17,k=O)),ue(n,sn,O=>t(18,w=O)),ue(n,ln,O=>t(19,y=O)),ue(n,rn,O=>t(20,B=O)),ue(n,an,O=>t(22,W=O)),ue(n,un,O=>t(23,J=O)),ue(n,fn,O=>t(24,j=O)),ue(n,cn,O=>t(25,K=O)),ue(n,kt,O=>t(26,oe=O)),ue(n,gn,O=>t(27,re=O));const ie=Oi(!1);ue(n,ie,O=>t(21,T=O));let G=!1;Tt(()=>{Ut.persisted().then(Y)});let x=`${Ti}${zi.MANAGE.routeId}`,q="Reader";ci(O=>{const{from:nt}=O;!nt||t(0,x=`${nt.url.pathname}${nt.url.search}`)});const se=ie.pipe(Ei(O=>{if(!!G){if(!O){Y(!0);return}Ut.persist().then(Y)}}),Hi());ue(n,se,O=>t(28,de=O));function Y(O){G=!1,ie.next(O),G=!0}function X(O){q=O,t(1,q)}function ae(O){i=O,Wt.set(i)}function fe(O){s=O,It.set(s)}function ke(O){a=O,St.set(a)}function ve(O){o=O,jt.set(o)}function Ie(O){r=O,qt.set(r)}function p(O){l=O,Yt.set(l)}function h(O){u=O,Jt.set(u)}function be(O){f=O,Kt.set(f)}function Ve(O){g=O,Qt.set(g)}function Fe(O){_=O,Zt.set(_)}function Ce(O){c=O,Xt.set(c)}function Ne(O){v=O,xt.set(v)}function Ye(O){$=O,en.set($)}function Ge(O){P=O,tn.set(P)}function He(O){b=O,nn.set(b)}function Je(O){k=O,on.set(k)}function Ke(O){w=O,sn.set(w)}function Qe(O){y=O,ln.set(y)}function Ze(O){B=O,rn.set(B)}function Xe(O){T=O,ie.set(T)}function xe(O){W=O,an.set(W)}function et(O){J=O,un.set(J)}function ze(O){j=O,fn.set(j)}function Ue(O){K=O,cn.set(K)}function at(O){oe=O,kt.set(oe)}function ut(O){re=O,gn.set(re)}return[x,q,i,s,a,o,r,l,u,f,g,_,c,v,$,P,b,k,w,y,B,T,W,J,j,K,oe,re,de,ie,se,X,ae,fe,ke,ve,Ie,p,h,be,Ve,Fe,Ce,Ne,Ye,Ge,He,Je,Ke,Qe,Ze,Xe,xe,et,ze,Ue,at,ut]}class Cs extends Re{constructor(e){super(),Le(this,e,Ss,Is,Ae,{},null,[-1,-1])}}export{Cs as default};
