import{S as Re,i as Le,a as Ae,l as F,m as C,p as H,j as d,q as m,d as N,h as I,x as Ee,g as Te,f as E,I as si,u as ge,b as z,A as M,v as pe,c as U,B as R,a8 as ne,H as S,C as L,O as Z,w as De,D as A,a4 as he,n as we,T as Pe,o as Tt,t as li,ak as ye,y as Q,ab as ee,ac as te,Z as rt,_ as Dt,N as Pt,P as Ft,Q as Ct,R as Nt,E as ue,a2 as ri,M as ai,al as Bt,am as ui,af as Vt,a6 as Mt,a7 as Rt,F as vt,e as st,G as fi}from"../chunks/index.a1b1e1bc.js";import{f as Lt,a as ci}from"../chunks/format-page-title.f8574fd6.js";import{aS as lt,f as Me,aO as An,g as Gn,a5 as $e,aT as mt,aX as At,aY as yt,aZ as gi,j as je,a_ as Hn,a$ as zn,b0 as ct,a4 as Gt,a6 as We,ak as Ht,aE as pi,aF as di,aG as mi,al as kt,a as it,b1 as zt,M as _i,b2 as hi,aR as bi,b3 as qe,u as gt,F as ft,V as wt,b4 as $t,m as $i,b5 as vi,aI as ki,h as It,ap as St,an as wi,ad as Ii,aM as Un,Z as Si,Q as Oi,b6 as Ut,t as Ei,p as Ti,a7 as Wt,aq as jt,ar as qt,as as Yt,at as Jt,au as Kt,a8 as Qt,_ as Zt,av as Xt,L as xt,O as en,G as tn,aw as nn,ax as on,H as sn,N as ln,ay as rn,am as an,az as un,ah as fn,ai as cn,aW as gn}from"../chunks/store.16eecc84.js";import{F as Oe,A as Di,B as Vi,C as Wn,D as yi,k as Pi,f as jn,E as Fi,s as Ci,G as Ni,t as Bi,H as Mi,I as Ri,J as qn,K as Li,L as Ai}from"../chunks/fa.5e0f40b0.js";import{P as pt,M as Gi,r as Hi,m as zi}from"../chunks/merged-header-icon.bb3cbc13.js";import{L as ot,r as pn,u as Ui}from"../chunks/fonts.37c28be2.js";import{m as Ot}from"../chunks/error-handler.2c73d00e.js";import{a as Wi}from"../chunks/theme-option.4e279c0f.js";function dn(i,e,t){const n=i.slice();return n[3]=e[t],n}function mn(i){let e,t=i[3].text+"",n,s,a,o,r,l,u,f;a=new lt({});function g(){return i[2](i[3])}return{c(){e=F("button"),n=ge(t),s=z(),M(a.$$.fragment),o=z(),this.h()},l(_){e=C(_,"BUTTON",{class:!0,style:!0});var c=H(e);n=pe(c,t),s=U(c),R(a.$$.fragment,c),o=U(c),c.forEach(d),this.h()},h(){m(e,"class","m-1 rounded-md border-2 border-gray-400 p-2 text-lg"),m(e,"style",r=_n(i[3].style)),ne(e,"border-4",i[3].thickBorders&&i[3].id===i[0]),ne(e,"border-blue-300",i[3].id===i[0]),ne(e,"bg-gray-700",i[3].id===i[0]),ne(e,"text-white",i[3].id===i[0]),ne(e,"bg-white",i[3].id!==i[0])},m(_,c){N(_,e,c),S(e,n),S(e,s),L(a,e,null),S(e,o),l=!0,u||(f=Z(e,"click",g),u=!0)},p(_,c){i=_,(!l||c&2)&&t!==(t=i[3].text+"")&&De(n,t),(!l||c&2&&r!==(r=_n(i[3].style)))&&m(e,"style",r),(!l||c&3)&&ne(e,"border-4",i[3].thickBorders&&i[3].id===i[0]),(!l||c&3)&&ne(e,"border-blue-300",i[3].id===i[0]),(!l||c&3)&&ne(e,"bg-gray-700",i[3].id===i[0]),(!l||c&3)&&ne(e,"text-white",i[3].id===i[0]),(!l||c&3)&&ne(e,"bg-white",i[3].id!==i[0])},i(_){l||(I(a.$$.fragment,_),l=!0)},o(_){E(a.$$.fragment,_),l=!1},d(_){_&&d(e),A(a),u=!1,f()}}}function ji(i){let e,t,n=i[1],s=[];for(let o=0;o<n.length;o+=1)s[o]=mn(dn(i,n,o));const a=o=>E(s[o],1,1,()=>{s[o]=null});return{c(){e=F("div");for(let o=0;o<s.length;o+=1)s[o].c();this.h()},l(o){e=C(o,"DIV",{class:!0});var r=H(e);for(let l=0;l<s.length;l+=1)s[l].l(r);r.forEach(d),this.h()},h(){m(e,"class","-m-1")},m(o,r){N(o,e,r);for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(e,null);t=!0},p(o,[r]){if(r&3){n=o[1];let l;for(l=0;l<n.length;l+=1){const u=dn(o,n,l);s[l]?(s[l].p(u,r),I(s[l],1)):(s[l]=mn(u),s[l].c(),I(s[l],1),s[l].m(e,null))}for(Ee(),l=n.length;l<s.length;l+=1)a(l);Te()}},i(o){if(!t){for(let r=0;r<n.length;r+=1)I(s[r]);t=!0}},o(o){s=s.filter(Boolean);for(let r=0;r<s.length;r+=1)E(s[r]);t=!1},d(o){o&&d(e),si(s,o)}}}function _n(i){return i?Object.entries(i).map(([e,t])=>`${e}: ${t}`).join(";"):""}function qi(i,e,t){let{options:n}=e,{selectedOptionId:s}=e;const a=o=>t(0,s=o.id);return i.$$set=o=>{"options"in o&&t(1,n=o.options),"selectedOptionId"in o&&t(0,s=o.selectedOptionId)},[s,n,a]}class Se extends Re{constructor(e){super(),Le(this,e,qi,ji,Ae,{options:1,selectedOptionId:0})}}function Yi(i){let e,t,n,s,a,o,r,l,u,f,g,_,c,v,$,y,b;return{c(){e=F("div"),t=ge(i[1]),n=ge("% - "),s=ge(i[4]),a=ge("px"),o=z(),r=F("input"),l=z(),u=F("div"),f=F("button"),g=ge(i[5]),_=ge("%"),c=z(),v=F("button"),$=ge("50%"),this.h()},l(k){e=C(k,"DIV",{class:!0});var w=H(e);t=pe(w,i[1]),n=pe(w,"% - "),s=pe(w,i[4]),a=pe(w,"px"),w.forEach(d),o=U(k),r=C(k,"INPUT",{class:!0,type:!0,step:!0,min:!0,max:!0}),l=U(k),u=C(k,"DIV",{class:!0});var P=H(u);f=C(P,"BUTTON",{});var B=H(f);g=pe(B,i[5]),_=pe(B,"%"),B.forEach(d),c=U(P),v=C(P,"BUTTON",{});var T=H(v);$=pe(T,"50%"),T.forEach(d),P.forEach(d),this.h()},h(){m(e,"class","text-center"),m(r,"class","mb-2 mt-4"),m(r,"type","range"),m(r,"step",Et),m(r,"min",i[3]),m(r,"max",i[2]),m(u,"class","flex justify-evenly")},m(k,w){N(k,e,w),S(e,t),S(e,n),S(e,s),S(e,a),N(k,o,w),N(k,r,w),he(r,i[1]),N(k,l,w),N(k,u,w),S(u,f),S(f,g),S(f,_),S(u,c),S(u,v),S(v,$),y||(b=[Z(r,"change",i[9]),Z(r,"input",i[9]),Z(r,"change",i[10]),Z(f,"click",i[11]),Z(v,"click",i[12])],y=!0)},p(k,[w]){w&2&&De(t,k[1]),w&16&&De(s,k[4]),w&8&&m(r,"min",k[3]),w&4&&m(r,"max",k[2]),w&2&&he(r,k[1]),w&32&&De(g,k[5])},i:we,o:we,d(k){k&&d(e),k&&d(o),k&&d(r),k&&d(l),k&&d(u),y=!1,Pe(b)}}}const Et=5;function Ji(i,e,t){let n,s,a,o,{dimensionValue:r=0}=e,{isVertical:l=!0}=e,{isFirstDimension:u=!1}=e,f=0;function g(){return l?u?"innerWidth":"innerHeight":u?"innerHeight":"innerWidth"}async function _(b=0){t(1,f=b),await li(),t(0,r=n)}Tt(()=>{const b=Math.min(Math.max(Math.round(r*(u?2:1)/window[g()]*100),!u&&!r?a:s),a);_(Math.round(b/Et)*Et)});function c(){f=ye(this.value),t(1,f)}const v=()=>t(0,r=n),$=()=>_(o),y=()=>_(50);return i.$$set=b=>{"dimensionValue"in b&&t(0,r=b.dimensionValue),"isVertical"in b&&t(7,l=b.isVertical),"isFirstDimension"in b&&t(8,u=b.isFirstDimension)},i.$$.update=()=>{i.$$.dirty&258&&t(4,n=Math.ceil(window[g()]*(f/100/(u?2:1)))),i.$$.dirty&256&&t(3,s=u?5:50),i.$$.dirty&256&&t(2,a=u?50:95),i.$$.dirty&256&&t(5,o=u?25:75)},[r,f,a,s,n,o,_,l,u,c,v,$,y]}class Ki extends Re{constructor(e){super(),Le(this,e,Ji,Yi,Ae,{dimensionValue:0,isVertical:7,isFirstDimension:8})}}function Qi(i){let e,t;return e=new Oe({props:{icon:Di,slot:"icon",class:"mx-2"}}),{c(){M(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p:we,i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function Zi(i){let e,t,n;function s(o){i[3](o)}let a={slot:"content",isFirstDimension:i[1],isVertical:i[2]};return i[0]!==void 0&&(a.dimensionValue=i[0]),e=new Ki({props:a}),Q.push(()=>ee(e,"dimensionValue",s)),{c(){M(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,r){L(e,o,r),n=!0},p(o,r){const l={};r&2&&(l.isFirstDimension=o[1]),r&4&&(l.isVertical=o[2]),!t&&r&1&&(t=!0,l.dimensionValue=o[0],te(()=>t=!1)),e.$set(l)},i(o){n||(I(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){A(e,o)}}}function Xi(i){let e,t;return e=new pt({props:{$$slots:{content:[Zi],icon:[Qi]},$$scope:{ctx:i}}}),{c(){M(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p(n,[s]){const a={};s&23&&(a.$$scope={dirty:s,ctx:n}),e.$set(a)},i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function xi(i,e,t){let{isFirstDimension:n=!1}=e,{isVertical:s=!1}=e,{dimensionValue:a=0}=e;function o(r){a=r,t(0,a)}return i.$$set=r=>{"isFirstDimension"in r&&t(1,n=r.isFirstDimension),"isVertical"in r&&t(2,s=r.isVertical),"dimensionValue"in r&&t(0,a=r.dimensionValue)},[a,n,s,o]}class Yn extends Re{constructor(e){super(),Le(this,e,xi,Xi,Ae,{isFirstDimension:1,isVertical:2,dimensionValue:0})}}function hn(i,e,t){const n=i.slice();return n[5]=e[t],n}function eo(i){let e,t;return e=new Oe({props:{icon:Vi,slot:"icon",class:"mx-2"}}),{c(){M(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p:we,i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function bn(i,e){let t,n=e[5]+"",s,a,o,r;function l(){return e[3](e[5])}return{key:i,first:null,c(){t=F("div"),s=ge(n),a=z(),this.h()},l(u){t=C(u,"DIV",{role:!0,class:!0});var f=H(t);s=pe(f,n),a=U(f),f.forEach(d),this.h()},h(){m(t,"role","button"),m(t,"class","px-4 py-2 hover:bg-gray-900"),this.first=t},m(u,f){N(u,t,f),S(t,s),S(t,a),o||(r=[Z(t,"click",l),Z(t,"keyup",Me)],o=!0)},p(u,f){e=u,f&2&&n!==(n=e[5]+"")&&De(s,n)},d(u){u&&d(t),o=!1,Pe(r)}}}function to(i){let e,t=[],n=new Map,s=i[1];const a=o=>o[5];for(let o=0;o<s.length;o+=1){let r=hn(i,s,o),l=a(r);n.set(l,t[o]=bn(l,r))}return{c(){e=F("div");for(let o=0;o<t.length;o+=1)t[o].c();this.h()},l(o){e=C(o,"DIV",{slot:!0});var r=H(e);for(let l=0;l<t.length;l+=1)t[l].l(r);r.forEach(d),this.h()},h(){m(e,"slot","content")},m(o,r){N(o,e,r);for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(e,null)},p(o,r){r&7&&(s=o[1],t=rt(t,r,a,1,o,s,n,e,Dt,bn,null,hn))},d(o){o&&d(e);for(let r=0;r<t.length;r+=1)t[r].d()}}}function no(i){let e,t,n={placement:"bottom",$$slots:{content:[to],icon:[eo]},$$scope:{ctx:i}};return e=new pt({props:n}),i[4](e),{c(){M(e.$$.fragment)},l(s){R(e.$$.fragment,s)},m(s,a){L(e,s,a),t=!0},p(s,[a]){const o={};a&263&&(o.$$scope={dirty:a,ctx:s}),e.$set(o)},i(s){t||(I(e.$$.fragment,s),t=!0)},o(s){E(e.$$.fragment,s),t=!1},d(s){i[4](null),A(e,s)}}}function io(i,e,t){let{availableFonts:n=[ot.NOTOSANSJP]}=e,{fontValue:s}=e,a;const o=l=>{t(0,s=l),a.toggleOpen()};function r(l){Q[l?"unshift":"push"](()=>{a=l,t(2,a)})}return i.$$set=l=>{"availableFonts"in l&&t(1,n=l.availableFonts),"fontValue"in l&&t(0,s=l.fontValue)},[s,n,a,o,r]}class Jn extends Re{constructor(e){super(),Le(this,e,io,no,Ae,{availableFonts:1,fontValue:0})}}const oo=i=>({}),$n=i=>({});function so(i){let e,t;return{c(){e=F("span"),t=ge(i[0]),this.h()},l(n){e=C(n,"SPAN",{class:!0});var s=H(e);t=pe(s,i[0]),s.forEach(d),this.h()},h(){m(e,"class","capitalize")},m(n,s){N(n,e,s),S(e,t)},p(n,s){s&1&&De(t,n[0])},i:we,o:we,d(n){n&&d(e)}}}function lo(i){let e,t;return e=new pt({props:{contentText:i[1],contentStyles:"padding: 0.5rem;",$$slots:{icon:[ao],default:[ro]},$$scope:{ctx:i}}}),{c(){M(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p(n,s){const a={};s&2&&(a.contentText=n[1]),s&9&&(a.$$scope={dirty:s,ctx:n}),e.$set(a)},i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function ro(i){let e,t;return{c(){e=F("span"),t=ge(i[0]),this.h()},l(n){e=C(n,"SPAN",{class:!0});var s=H(e);t=pe(s,i[0]),s.forEach(d),this.h()},h(){m(e,"class","capitalize")},m(n,s){N(n,e,s),S(e,t)},p(n,s){s&1&&De(t,n[0])},d(n){n&&d(e)}}}function ao(i){let e,t;return e=new Oe({props:{icon:Wn,slot:"icon",class:"mx-2"}}),{c(){M(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p:we,i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function uo(i){let e,t,n,s,a,o,r,l,u;const f=[lo,so],g=[];function _(b,k){return b[1]?0:1}s=_(i),a=g[s]=f[s](i);const c=i[2].header,v=Pt(c,i,i[3],$n),$=i[2].default,y=Pt($,i,i[3],null);return{c(){e=F("section"),t=F("div"),n=F("h2"),a.c(),o=z(),v&&v.c(),r=z(),l=F("div"),y&&y.c(),this.h()},l(b){e=C(b,"SECTION",{class:!0});var k=H(e);t=C(k,"DIV",{class:!0});var w=H(t);n=C(w,"H2",{class:!0});var P=H(n);a.l(P),P.forEach(d),o=U(w),v&&v.l(w),w.forEach(d),r=U(k),l=C(k,"DIV",{});var B=H(l);y&&y.l(B),B.forEach(d),k.forEach(d),this.h()},h(){m(n,"class","mb-2 text-xl font-medium"),m(t,"class","flex"),m(e,"class","pb-8 md:pb-3")},m(b,k){N(b,e,k),S(e,t),S(t,n),g[s].m(n,null),S(t,o),v&&v.m(t,null),S(e,r),S(e,l),y&&y.m(l,null),u=!0},p(b,[k]){let w=s;s=_(b),s===w?g[s].p(b,k):(Ee(),E(g[w],1,1,()=>{g[w]=null}),Te(),a=g[s],a?a.p(b,k):(a=g[s]=f[s](b),a.c()),I(a,1),a.m(n,null)),v&&v.p&&(!u||k&8)&&Ft(v,c,b,b[3],u?Nt(c,b[3],k,oo):Ct(b[3]),$n),y&&y.p&&(!u||k&8)&&Ft(y,$,b,b[3],u?Nt($,b[3],k,null):Ct(b[3]),null)},i(b){u||(I(a),I(v,b),I(y,b),u=!0)},o(b){E(a),E(v,b),E(y,b),u=!1},d(b){b&&d(e),g[s].d(),v&&v.d(b),y&&y.d(b)}}}function fo(i,e,t){let{$$slots:n={},$$scope:s}=e,{title:a}=e,{tooltip:o=""}=e;return i.$$set=r=>{"title"in r&&t(0,a=r.title),"tooltip"in r&&t(1,o=r.tooltip),"$$scope"in r&&t(3,s=r.$$scope)},[a,o,n,s]}class _e extends Re{constructor(e){super(),Le(this,e,fo,uo,Ae,{title:0,tooltip:1})}}function vn(i,e,t){const n=i.slice();return n[40]=e[t],n}function kn(i,e){let t,n=e[40].label+"",s,a,o;return{key:i,first:null,c(){t=F("option"),s=ge(n),a=z(),this.h()},l(r){t=C(r,"OPTION",{});var l=H(t);s=pe(l,n),a=U(l),l.forEach(d),this.h()},h(){t.__value=o=e[40].key,t.value=t.__value,this.first=t},m(r,l){N(r,t,l),S(t,s),S(t,a)},p(r,l){e=r,l[0]&1&&n!==(n=e[40].label+"")&&De(s,n),l[0]&1&&o!==(o=e[40].key)&&(t.__value=o,t.value=t.__value)},d(r){r&&d(t)}}}function co(i){let e,t,n,s,a,o,r,l,u;return{c(){e=F("input"),t=z(),n=F("input"),s=z(),a=F("input"),o=z(),r=F("input"),this.h()},l(f){e=C(f,"INPUT",{type:!0,placeholder:!0}),t=U(f),n=C(f,"INPUT",{class:!0,type:!0,placeholder:!0}),s=U(f),a=C(f,"INPUT",{class:!0,type:!0,placeholder:!0}),o=U(f),r=C(f,"INPUT",{class:!0,type:!0,placeholder:!0}),this.h()},h(){e.required=!0,m(e,"type","text"),m(e,"placeholder","Client ID"),m(n,"class","mt-4"),m(n,"type","text"),m(n,"placeholder","Client Secret"),a.required=!0,m(a,"class","mt-4"),m(a,"type","password"),m(a,"placeholder","Password"),r.required=!0,m(r,"class","mt-4"),m(r,"type","password"),m(r,"placeholder","Confirm Password")},m(f,g){N(f,e,g),he(e,i[10]),N(f,t,g),N(f,n,g),he(n,i[11]),N(f,s,g),N(f,a,g),i[33](a),N(f,o,g),N(f,r,g),i[34](r),l||(u=[Z(e,"input",i[31]),Z(n,"input",i[32])],l=!0)},p(f,g){g[0]&1024&&e.value!==f[10]&&he(e,f[10]),g[0]&2048&&n.value!==f[11]&&he(n,f[11])},i:we,o:we,d(f){f&&d(e),f&&d(t),f&&d(n),f&&d(s),f&&d(a),i[33](null),f&&d(o),f&&d(r),i[34](null),l=!1,Pe(u)}}}function go(i){let e,t,n,s,a,o=(i[13]||"Nothing selected")+"",r,l,u,f;return n=new lt({}),{c(){e=F("button"),t=ge(`Select Directory
        `),M(n.$$.fragment),s=z(),a=F("div"),r=ge(o),this.h()},l(g){e=C(g,"BUTTON",{class:!0});var _=H(e);t=pe(_,`Select Directory
        `),R(n.$$.fragment,_),_.forEach(d),s=U(g),a=C(g,"DIV",{class:!0});var c=H(a);r=pe(c,o),c.forEach(d),this.h()},h(){m(e,"class",mt),m(a,"class","my-4 text-center")},m(g,_){N(g,e,_),S(e,t),L(n,e,null),N(g,s,_),N(g,a,_),S(a,r),l=!0,u||(f=Z(e,"click",i[14]),u=!0)},p(g,_){(!l||_[0]&8192)&&o!==(o=(g[13]||"Nothing selected")+"")&&De(r,o)},i(g){l||(I(n.$$.fragment,g),l=!0)},o(g){E(n.$$.fragment,g),l=!1},d(g){g&&d(e),A(n),g&&d(s),g&&d(a),u=!1,f()}}}function wn(i){let e,t,n;return{c(){e=F("div"),t=ge("Error: "),n=ge(i[5]),this.h()},l(s){e=C(s,"DIV",{class:!0});var a=H(e);t=pe(a,"Error: "),n=pe(a,i[5]),a.forEach(d),this.h()},h(){m(e,"class","text-red-500")},m(s,a){N(s,e,a),S(e,t),S(e,n)},p(s,a){a[0]&32&&De(n,s[5])},d(s){s&&d(e)}}}function po(i){let e,t,n,s,a,o,r,l,u,f,g,_,c,v,$,y=[],b=new Map,k,w,P,B,T,W,J,j=i[0];const K=G=>G[40].key;for(let G=0;G<j.length;G+=1){let x=vn(i,j,G),q=K(x);b.set(q,y[G]=kn(q,x))}const oe=[go,co],re=[];function de(G,x){return G[9]===$e.FS?0:1}w=de(i),P=re[w]=oe[w](i);let ie=i[5]&&wn(i);return{c(){e=F("div"),t=F("input"),n=z(),s=F("div"),a=F("input"),o=z(),r=F("label"),l=ge("Is Sync Target"),u=z(),f=F("input"),g=z(),_=F("label"),c=ge("Is Source Default"),v=z(),$=F("select");for(let G=0;G<y.length;G+=1)y[G].c();k=z(),P.c(),B=z(),ie&&ie.c(),this.h()},l(G){e=C(G,"DIV",{class:!0,slot:!0});var x=H(e);t=C(x,"INPUT",{type:!0,placeholder:!0}),n=U(x),s=C(x,"DIV",{class:!0});var q=H(s);a=C(q,"INPUT",{id:!0,type:!0}),o=U(q),r=C(q,"LABEL",{for:!0,class:!0});var se=H(r);l=pe(se,"Is Sync Target"),se.forEach(d),u=U(q),f=C(q,"INPUT",{id:!0,type:!0}),g=U(q),_=C(q,"LABEL",{for:!0,class:!0});var Y=H(_);c=pe(Y,"Is Source Default"),Y.forEach(d),q.forEach(d),v=U(x),$=C(x,"SELECT",{class:!0});var X=H($);for(let ae=0;ae<y.length;ae+=1)y[ae].l(X);X.forEach(d),k=U(x),P.l(x),B=U(x),ie&&ie.l(x),x.forEach(d),this.h()},h(){t.required=!0,m(t,"type","text"),m(t,"placeholder","Name"),m(a,"id","cbx-source"),m(a,"type","checkbox"),m(r,"for","cbx-source"),m(r,"class","ml-2 mr-6"),m(f,"id","cbx-manager"),m(f,"type","checkbox"),m(_,"for","cbx-source"),m(_,"class","ml-2"),m(s,"class","mt-4 flex items-center"),m($,"class","my-4"),i[9]===void 0&&ai(()=>i[29].call($)),m(e,"class","flex max-h-[50vh] flex-col overflow-auto"),m(e,"slot","content")},m(G,x){N(G,e,x),S(e,t),he(t,i[6]),i[26](t),S(e,n),S(e,s),S(s,a),a.checked=i[7],S(s,o),S(s,r),S(r,l),S(s,u),S(s,f),f.checked=i[8],S(s,g),S(s,_),S(_,c),S(e,v),S(e,$);for(let q=0;q<y.length;q+=1)y[q]&&y[q].m($,null);Bt($,i[9]),S(e,k),re[w].m(e,null),S(e,B),ie&&ie.m(e,null),i[35](e),T=!0,W||(J=[Z(t,"input",i[25]),Z(a,"change",i[27]),Z(f,"change",i[28]),Z($,"change",i[29]),Z($,"change",i[30])],W=!0)},p(G,x){x[0]&64&&t.value!==G[6]&&he(t,G[6]),x[0]&128&&(a.checked=G[7]),x[0]&256&&(f.checked=G[8]),x[0]&1&&(j=G[0],y=rt(y,x,K,1,G,j,b,$,Dt,kn,null,vn)),x[0]&513&&Bt($,G[9]);let q=w;w=de(G),w===q?re[w].p(G,x):(Ee(),E(re[q],1,1,()=>{re[q]=null}),Te(),P=re[w],P?P.p(G,x):(P=re[w]=oe[w](G),P.c()),I(P,1),P.m(e,B)),G[5]?ie?ie.p(G,x):(ie=wn(G),ie.c(),ie.m(e,null)):ie&&(ie.d(1),ie=null)},i(G){T||(I(P),T=!0)},o(G){E(P),T=!1},d(G){G&&d(e),i[26](null);for(let x=0;x<y.length;x+=1)y[x].d();re[w].d(),ie&&ie.d(),i[35](null),W=!1,Pe(J)}}}function mo(i){let e,t,n,s,a,o,r,l,u,f,g;return s=new lt({}),l=new lt({}),{c(){e=F("div"),t=F("button"),n=ge(`Cancel
      `),M(s.$$.fragment),a=z(),o=F("button"),r=ge(`Save
      `),M(l.$$.fragment),this.h()},l(_){e=C(_,"DIV",{class:!0,slot:!0});var c=H(e);t=C(c,"BUTTON",{class:!0});var v=H(t);n=pe(v,`Cancel
      `),R(s.$$.fragment,v),v.forEach(d),a=U(c),o=C(c,"BUTTON",{class:!0});var $=H(o);r=pe($,`Save
      `),R(l.$$.fragment,$),$.forEach(d),c.forEach(d),this.h()},h(){m(t,"class",mt),m(o,"class",mt),m(e,"class","mt-4 flex grow justify-between"),m(e,"slot","footer")},m(_,c){N(_,e,c),S(e,t),S(t,n),L(s,t,null),S(e,a),S(e,o),S(o,r),L(l,o,null),u=!0,f||(g=[Z(t,"click",i[24]),Z(o,"click",i[15])],f=!0)},p:we,i(_){u||(I(s.$$.fragment,_),I(l.$$.fragment,_),u=!0)},o(_){E(s.$$.fragment,_),E(l.$$.fragment,_),u=!1},d(_){_&&d(e),A(s),A(l),f=!1,Pe(g)}}}function _o(i){let e,t;return e=new An({props:{$$slots:{footer:[mo],content:[po]},$$scope:{ctx:i}}}),{c(){M(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p(n,s){const a={};s[0]&16383|s[1]&4096&&(a.$$scope={dirty:s,ctx:n}),e.$set(a)},i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function ho(i,e,t){let n;ue(i,Gn,h=>t(36,n=h));let{configuredName:s}=e,{configuredIsSyncTarget:a}=e,{configuredIsStorageSourceDefault:o}=e,{configuredType:r}=e,{configuredRemoteData:l}=e,{configuredFSData:u}=e,{resolver:f}=e,g,_,c,v,$="",y=s||"",b=a||!1,k=o||!1,w=r||$e.GDRIVE,P=(l==null?void 0:l.clientId)||"",B=(l==null?void 0:l.clientSecret)||"";const T=(l==null?void 0:l.refreshToken)||"";let W=u==null?void 0:u.directoryHandle,J=(u==null?void 0:u.fsPath)||"";const j=ri();let K=[{key:$e.GDRIVE,label:"GDrive"},{key:$e.ONEDRIVE,label:"OneDrive"}];async function oe(){de();try{const h=await window.showDirectoryPicker({id:"ttu-reader-root",mode:"readwrite"});t(12,W=await h.getDirectoryHandle(At.rootName,{create:!0})),t(13,J=`${h.name==="\\"?"":`${h.name}/`}${At.rootName}`)}catch(h){t(12,W=void 0),t(13,J=""),h.name!=="AbortError"&&t(5,$=h.message)}}async function re(){if(de(),!![...g.querySelectorAll("input")].every(h=>{let be=h.reportValidity();return be?(h===_?w===$e.FS&&!W?(_.setCustomValidity("You need to select a directory"),be=!1):yt(y)&&(_.setCustomValidity("Please select a different name"),be=!1):h===v&&c.value!==v.value&&(v.setCustomValidity("Password does not match"),be=!1),be||h.reportValidity(),be):!1}))try{let h,be=!1,Ve=!1;if(w===$e.FS){if(!W)throw new Error("Directory handle not defined");h={directoryHandle:W,fsPath:J}}else{if(be=P!==(l==null?void 0:l.clientId)||B!==(l==null?void 0:l.clientSecret),Ve=!B||be,Ve&&r===$e.GDRIVE&&(l==null?void 0:l.refreshToken)&&!n)throw new Error("You need to be online in order to make this change to the credentials");h=await gi(window,JSON.stringify({clientId:P,clientSecret:B,refreshToken:Ve?"":T}),v.value)}const Fe={name:y,type:w,data:h,lastSourceModified:Date.now()};await je.saveStorageSource(Fe,s,b,k),Ve&&r===$e.GDRIVE&&(l!=null&&l.refreshToken)&&Hn.revokeToken(zn,l.refreshToken),be&&(ct.delete(s),w!==$e.FS&&Gt(window,w).clearData()),w===$e.FS&&W&&!await(u==null?void 0:u.directoryHandle.isSameEntry(W))&&Gt(window,$e.FS).clearData(),ie({new:Fe,old:s})}catch(h){t(5,$=h.message)}}function de(){t(5,$=""),_.setCustomValidity(""),v==null||v.setCustomValidity("")}function ie(h){f(h),j("close")}const G=()=>ie();function x(){y=this.value,t(6,y)}function q(h){Q[h?"unshift":"push"](()=>{_=h,t(2,_)})}function se(){b=this.checked,t(7,b)}function Y(){k=this.checked,t(8,k)}function X(){w=ui(this),t(9,w),t(0,K)}const ae=()=>{w===$e.FS?(t(10,P=""),t(11,B="")):(t(12,W=void 0),t(13,J=""))};function fe(){P=this.value,t(10,P)}function ke(){B=this.value,t(11,B)}function ve(h){Q[h?"unshift":"push"](()=>{c=h,t(3,c)})}function Ie(h){Q[h?"unshift":"push"](()=>{v=h,t(4,v)})}function p(h){Q[h?"unshift":"push"](()=>{g=h,t(1,g)})}return i.$$set=h=>{"configuredName"in h&&t(17,s=h.configuredName),"configuredIsSyncTarget"in h&&t(18,a=h.configuredIsSyncTarget),"configuredIsStorageSourceDefault"in h&&t(19,o=h.configuredIsStorageSourceDefault),"configuredType"in h&&t(20,r=h.configuredType),"configuredRemoteData"in h&&t(21,l=h.configuredRemoteData),"configuredFSData"in h&&t(22,u=h.configuredFSData),"resolver"in h&&t(23,f=h.resolver)},i.$$.update=()=>{i.$$.dirty[0]&1&&"showDirectoryPicker"in window&&t(0,K=[...K,{key:$e.FS,label:"Filesystem"}])},[K,g,_,c,v,$,y,b,k,w,P,B,W,J,oe,re,ie,s,a,o,r,l,u,f,G,x,q,se,Y,X,ae,fe,ke,ve,Ie,p]}class bo extends Re{constructor(e){super(),Le(this,e,ho,_o,Ae,{configuredName:17,configuredIsSyncTarget:18,configuredIsStorageSourceDefault:19,configuredType:20,configuredRemoteData:21,configuredFSData:22,resolver:23},null,[-1,-1])}}function In(i,e,t){const n=i.slice();n[19]=e[t];const s=bi(n[19].type);n[20]=s;const a=yt(n[19].name);n[21]=a;const o=So(n[19].name,n[3]);n[22]=o;const r=n[8](n[19].name,n[19].type,[n[6],n[5],n[4]]);return n[23]=r,n}function $o(i){let e,t;return e=new Oe({props:{icon:Wn,slot:"icon",class:"mx-2"}}),{c(){M(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p:we,i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function Sn(i){let e,t;return e=new pt({props:{contentText:"Auto import/export enabled but no source as sync target from list selected",contentStyles:"padding: 0.25rem;",$$slots:{icon:[vo]},$$scope:{ctx:i}}}),{c(){M(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p(n,s){const a={};s&67108864&&(a.$$scope={dirty:s,ctx:n}),e.$set(a)},i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function vo(i){let e,t;return e=new Oe({props:{icon:Pi,slot:"icon",class:"mx-2"}}),{c(){M(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p:we,i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function ko(i){let e,t,n;return t=new Oe({props:{icon:jn,spin:!0}}),{c(){e=F("div"),M(t.$$.fragment),this.h()},l(s){e=C(s,"DIV",{class:!0});var a=H(e);R(t.$$.fragment,a),a.forEach(d),this.h()},h(){m(e,"class","text-xl")},m(s,a){N(s,e,a),L(t,e,null),n=!0},p:we,i(s){n||(I(t.$$.fragment,s),n=!0)},o(s){E(t.$$.fragment,s),n=!1},d(s){s&&d(e),A(t)}}}function wo(i){let e,t=[],n=new Map,s,a=i[0];const o=r=>r[19].name;for(let r=0;r<a.length;r+=1){let l=In(i,a,r),u=o(l);n.set(u,t[r]=On(u,l))}return{c(){e=F("div");for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l(r){e=C(r,"DIV",{class:!0});var l=H(e);for(let u=0;u<t.length;u+=1)t[u].l(l);l.forEach(d),this.h()},h(){m(e,"class","grid grid-cols-1 gap-x-8 gap-y-12 sm:grid-cols-2 lg:grid-cols-3")},m(r,l){N(r,e,l);for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(e,null);s=!0},p(r,l){l&1913&&(a=r[0],Ee(),t=rt(t,l,o,1,r,a,n,e,Vt,On,null,In),Te())},i(r){if(!s){for(let l=0;l<a.length;l+=1)I(t[l]);s=!0}},o(r){for(let l=0;l<t.length;l+=1)E(t[l]);s=!1},d(r){r&&d(e);for(let l=0;l<t.length;l+=1)t[l].d()}}}function On(i,e){let t,n,s,a,o,r,l,u,f=e[19].name+"",g,_,c,v,$,y,b,k,w,P,B,T,W,J,j,K,oe,re;$=new Oe({props:{icon:Fi}});function de(){return e[13](e[19])}k=new Oe({props:{icon:Ci}});function ie(){return e[14](e[19])}B=new Oe({props:{icon:Ni}});function G(){return e[15](e[23],e[19])}J=new Oe({props:{icon:Bi}});function x(){return e[16](e[19],e[22],e[23])}return{key:i,first:null,c(){t=F("div"),n=F("div"),s=Mt("svg"),a=Mt("path"),l=z(),u=F("div"),g=ge(f),_=z(),c=F("div"),v=F("div"),M($.$$.fragment),y=z(),b=F("div"),M(k.$$.fragment),w=z(),P=F("div"),M(B.$$.fragment),T=z(),W=F("div"),M(J.$$.fragment),j=z(),this.h()},l(q){t=C(q,"DIV",{class:!0});var se=H(t);n=C(se,"DIV",{class:!0});var Y=H(n);s=Rt(Y,"svg",{class:!0,xmlns:!0,viewBox:!0});var X=H(s);a=Rt(X,"path",{class:!0,d:!0}),H(a).forEach(d),X.forEach(d),l=U(Y),u=C(Y,"DIV",{class:!0});var ae=H(u);g=pe(ae,f),ae.forEach(d),Y.forEach(d),_=U(se),c=C(se,"DIV",{class:!0});var fe=H(c);v=C(fe,"DIV",{class:!0});var ke=H(v);R($.$$.fragment,ke),ke.forEach(d),y=U(fe),b=C(fe,"DIV",{title:!0,class:!0});var ve=H(b);R(k.$$.fragment,ve),ve.forEach(d),w=U(fe),P=C(fe,"DIV",{title:!0,class:!0});var Ie=H(P);R(B.$$.fragment,Ie),Ie.forEach(d),T=U(fe),W=C(fe,"DIV",{class:!0});var p=H(W);R(J.$$.fragment,p),p.forEach(d),fe.forEach(d),j=U(se),se.forEach(d),this.h()},h(){m(a,"class","fill-current"),m(a,"d",o=e[20].d),m(s,"class","inline-block h-6 w-6 self-center"),m(s,"xmlns","http://www.w3.org/2000/svg"),m(s,"viewBox",r=e[20].viewBox),m(u,"class","ml-3 self-center"),m(n,"class","flex"),m(v,"class","mr-4 cursor-pointer"),ne(v,"hidden",e[21]),m(b,"title","Toggle source as sync target"),m(b,"class","mr-4 cursor-pointer"),ne(b,"opacity-50",!e[22]),m(P,"title","Toggle source as data source for this type"),m(P,"class","mr-4 cursor-pointer"),ne(P,"opacity-50",!e[23]),m(W,"class","cursor-pointer"),ne(W,"hidden",e[21]),m(c,"class","mt-4 flex"),m(t,"class","flex flex-col"),this.first=t},m(q,se){N(q,t,se),S(t,n),S(n,s),S(s,a),S(n,l),S(n,u),S(u,g),S(t,_),S(t,c),S(c,v),L($,v,null),S(c,y),S(c,b),L(k,b,null),S(c,w),S(c,P),L(B,P,null),S(c,T),S(c,W),L(J,W,null),S(t,j),K=!0,oe||(re=[Z(v,"click",de),Z(v,"keyup",Me),Z(b,"click",ie),Z(b,"keyup",Me),Z(P,"click",G),Z(P,"keyup",Me),Z(W,"click",x),Z(W,"keyup",Me)],oe=!0)},p(q,se){e=q,(!K||se&1&&o!==(o=e[20].d))&&m(a,"d",o),(!K||se&1&&r!==(r=e[20].viewBox))&&m(s,"viewBox",r),(!K||se&1)&&f!==(f=e[19].name+"")&&De(g,f),(!K||se&1)&&ne(v,"hidden",e[21]),(!K||se&9)&&ne(b,"opacity-50",!e[22]),(!K||se&369)&&ne(P,"opacity-50",!e[23]),(!K||se&1)&&ne(W,"hidden",e[21])},i(q){K||(I($.$$.fragment,q),I(k.$$.fragment,q),I(B.$$.fragment,q),I(J.$$.fragment,q),K=!0)},o(q){E($.$$.fragment,q),E(k.$$.fragment,q),E(B.$$.fragment,q),E(J.$$.fragment,q),K=!1},d(q){q&&d(t),A($),A(k),A(B),A(J),oe=!1,Pe(re)}}}function Io(i){let e,t,n,s,a,o,r,l,u,f,g,_,c,v,$,y,b,k,w,P,B,T,W,J,j,K,oe,re,de,ie;l=new pt({props:{contentText:i[2],contentStyles:"padding: 0.5rem;",$$slots:{icon:[$o]},$$scope:{ctx:i}}});let G=i[7]!==We.Off&&!i[3]&&Sn(i);c=new Oe({props:{icon:yi}}),k=new lt({});const x=[wo,ko],q=[];function se(Y,X){return!Y[1]&&Y[0]?0:1}return J=se(i),j=q[J]=x[J](i),{c(){e=F("div"),t=F("div"),n=F("div"),s=F("h1"),a=F("span"),o=ge("Storage Sources"),r=z(),M(l.$$.fragment),u=z(),G&&G.c(),f=z(),g=F("button"),_=F("div"),M(c.$$.fragment),v=z(),$=F("span"),y=ge("Add"),b=z(),M(k.$$.fragment),P=z(),B=F("hr"),T=z(),W=F("div"),j.c(),K=z(),oe=F("div"),this.h()},l(Y){e=C(Y,"DIV",{class:!0});var X=H(e);t=C(X,"DIV",{class:!0});var ae=H(t);n=C(ae,"DIV",{class:!0});var fe=H(n);s=C(fe,"H1",{class:!0});var ke=H(s);a=C(ke,"SPAN",{class:!0});var ve=H(a);o=pe(ve,"Storage Sources"),ve.forEach(d),ke.forEach(d),r=U(fe),R(l.$$.fragment,fe),u=U(fe),G&&G.l(fe),fe.forEach(d),f=U(ae),g=C(ae,"BUTTON",{class:!0});var Ie=H(g);_=C(Ie,"DIV",{class:!0});var p=H(_);R(c.$$.fragment,p),v=U(p),$=C(p,"SPAN",{class:!0});var h=H($);y=pe(h,"Add"),h.forEach(d),p.forEach(d),b=U(Ie),R(k.$$.fragment,Ie),Ie.forEach(d),ae.forEach(d),P=U(X),B=C(X,"HR",{class:!0}),T=U(X),W=C(X,"DIV",{class:!0});var be=H(W);j.l(be),be.forEach(d),K=U(X),oe=C(X,"DIV",{}),H(oe).forEach(d),X.forEach(d),this.h()},h(){m(a,"class","capitalize"),m(s,"class","mb-2 text-xl font-medium"),m(n,"class","flex grow"),m($,"class","ml-1 hidden sm:block"),m(_,"class","flex items-center justify-center"),m(g,"class",mt),g.disabled=w=!i[0],ne(g,"cursor-not-allowed",!i[0]),m(t,"class","flex"),m(B,"class","border border-black"),m(W,"class","mt-6"),m(e,"class","mb-8 sm:col-span-2 lg:col-span-3")},m(Y,X){N(Y,e,X),S(e,t),S(t,n),S(n,s),S(s,a),S(a,o),S(n,r),L(l,n,null),S(n,u),G&&G.m(n,null),S(t,f),S(t,g),S(g,_),L(c,_,null),S(_,v),S(_,$),S($,y),S(g,b),L(k,g,null),S(e,P),S(e,B),S(e,T),S(e,W),q[J].m(W,null),S(e,K),S(e,oe),re=!0,de||(ie=Z(g,"click",i[12]),de=!0)},p(Y,[X]){const ae={};X&4&&(ae.contentText=Y[2]),X&67108864&&(ae.$$scope={dirty:X,ctx:Y}),l.$set(ae),Y[7]!==We.Off&&!Y[3]?G?(G.p(Y,X),X&136&&I(G,1)):(G=Sn(Y),G.c(),I(G,1),G.m(n,null)):G&&(Ee(),E(G,1,1,()=>{G=null}),Te()),(!re||X&1&&w!==(w=!Y[0]))&&(g.disabled=w),(!re||X&1)&&ne(g,"cursor-not-allowed",!Y[0]);let fe=J;J=se(Y),J===fe?q[J].p(Y,X):(Ee(),E(q[fe],1,1,()=>{q[fe]=null}),Te(),j=q[J],j?j.p(Y,X):(j=q[J]=x[J](Y),j.c()),I(j,1),j.m(W,null))},i(Y){re||(I(l.$$.fragment,Y),I(G),I(c.$$.fragment,Y),I(k.$$.fragment,Y),I(j),re=!0)},o(Y){E(l.$$.fragment,Y),E(G),E(c.$$.fragment,Y),E(k.$$.fragment,Y),E(j),re=!1},d(Y){Y&&d(e),A(l),G&&G.d(),A(c),A(k),q[J].d(),de=!1,ie()}}}function So(i,e){return i===e}function Oo(i,e,t){let n,s,a,o,r,l,u;ue(i,Gn,T=>t(17,s=T)),ue(i,Ht,T=>t(3,a=T)),ue(i,pi,T=>t(4,o=T)),ue(i,di,T=>t(5,r=T)),ue(i,mi,T=>t(6,l=T)),ue(i,kt,T=>t(7,u=T));let{storageSources:f}=e,g=!0,_="Allows you to add a custom set of credentials";function c(T,W,J=[]){let j=!1;switch(W){case $e.GDRIVE:j=T===l;break;case $e.ONEDRIVE:j=T===r;break;case $e.FS:j=T===o;break}return j}async function v(T){let W,J;if(T&&T.type!==$e.FS){const K=await new Promise(oe=>{it.dialogs$.next([{component:zt,props:{description:"You are trying to access protected data",action:`Enter the correct password for ${T.name} to proceed`,encryptedData:T.data,resolver:oe},disableCloseOnClick:!0}])});if(!K)return;W=K}else T&&$(T.type,T.data)&&(J={directoryHandle:T.data.directoryHandle,fsPath:T.data.fsPath});const j=await new Promise(K=>{it.dialogs$.next([{component:bo,props:{configuredName:T==null?void 0:T.name,configuredType:T==null?void 0:T.type,configuredIsSyncTarget:T?a===T.name:!1,configuredIsStorageSourceDefault:T?c(T.name,T.type):!1,configuredFSData:J,configuredRemoteData:W,resolver:K},disableCloseOnClick:!0}])});if(j)if(j.old){const K=ct.get(j.old);ct.delete(j.old),K&&j.new.type===(T==null?void 0:T.type)&&ct.set(j.new.name,K),je.storageSourcesChanged$.next(f.map(oe=>oe.name===j.old?j.new:oe))}else je.storageSourcesChanged$.next([...f,j.new])}function $(T,W){return W&&T===$e.FS}async function y(T,W,J){const j=await new Promise(oe=>{it.dialogs$.next([{component:zt,props:{description:T.type===$e.FS?"You are trying to delete data":"You are trying to delete protected data",action:T.type===$e.FS?`Please confirm to proceed with deleting ${T.name}`:`Enter the correct password for ${T.name} to proceed`,requiresSecret:T.type!==$e.FS,showCancel:!0,encryptedData:T.type!==$e.FS?T.data:void 0,resolver:oe},disableCloseOnClick:!0}])});if(!j)return;const K=T.type===$e.GDRIVE&&j.refreshToken;if(K&&!s){it.dialogs$.next([{component:_i,props:{title:"Error",message:"You need to be online to delete this storage source"},disableCloseOnClick:!0}]);return}await je.deleteStorageSource(T,W,J),ct.delete(T.name),K&&j.refreshToken&&Hn.revokeToken(zn,j.refreshToken),je.storageSourcesChanged$.next(f.filter(oe=>oe.name!==T.name))}const b=()=>{v()},k=T=>v(T),w=T=>Ht.next(a===T.name?"":T.name),P=(T,W)=>hi(T?"":W.name,W.type),B=(T,W,J)=>y(T,W,J);return i.$$set=T=>{"storageSources"in T&&t(0,f=T.storageSources)},i.$$.update=()=>{i.$$.dirty&1&&f&&t(1,g=!1),i.$$.dirty&2052&&n&&t(2,_+=" or filesystem access")},n="showDirectoryPicker"in window,[f,g,_,a,o,r,l,u,c,v,y,n,b,k,w,P,B]}class Eo extends Re{constructor(e){super(),Le(this,e,Oo,Io,Ae,{storageSources:0})}}function To(i){let e,t,n,s,a,o,r,l,u,f,g,_,c,v,$,y,b,k,w;return y=new Oe({props:{class:"text-xl mx-2",icon:Mi}}),{c(){e=F("div"),t=F("span"),n=ge("Font Name"),s=z(),a=F("input"),o=z(),r=F("div"),l=ge(i[1]),u=z(),f=F("div"),g=F("label"),_=F("input"),c=ge(`
      Choose File`),v=z(),$=F("div"),M(y.$$.fragment),this.h()},l(P){e=C(P,"DIV",{class:!0});var B=H(e);t=C(B,"SPAN",{});var T=H(t);n=pe(T,"Font Name"),T.forEach(d),s=U(B),a=C(B,"INPUT",{class:!0,type:!0}),o=U(B),r=C(B,"DIV",{class:!0});var W=H(r);l=pe(W,i[1]),W.forEach(d),u=U(B),f=C(B,"DIV",{class:!0});var J=H(f);g=C(J,"LABEL",{role:!0,class:!0});var j=H(g);_=C(j,"INPUT",{type:!0,accept:!0,class:!0}),c=pe(j,`
      Choose File`),j.forEach(d),v=U(J),$=C(J,"DIV",{});var K=H($);R(y.$$.fragment,K),K.forEach(d),J.forEach(d),B.forEach(d),this.h()},h(){m(a,"class","mt-2"),m(a,"type","text"),m(r,"class","my-2 text-red-500"),ne(r,"invisible",i[1]==="no error"),m(_,"type","file"),m(_,"accept",".woff2,.woff,.ttf,.otf"),m(_,"class","hidden"),m(g,"role","button"),m(g,"class",`${qe} w-40 text-center py-2 hover:opacity-25 mr-2`),ne($,"cursor-pointer",i[3]),ne($,"text-gray-500",!i[3]),ne($,"cursor-not-allowed",!i[3]),m(f,"class","flex items-center just justify-between"),m(e,"class","flex flex-col min-w-[15rem] md:min-w-[20rem]")},m(P,B){N(P,e,B),S(e,t),S(t,n),S(e,s),S(e,a),he(a,i[0]),S(e,o),S(e,r),S(r,l),S(e,u),S(e,f),S(f,g),S(g,_),i[12](_),S(g,c),S(f,v),S(f,$),L(y,$,null),b=!0,k||(w=[Z(a,"input",i[10]),Z(a,"blur",i[11]),Z(_,"change",i[5]),Z($,"click",i[13]),Z($,"keyup",Me)],k=!0)},p(P,[B]){B&1&&a.value!==P[0]&&he(a,P[0]),(!b||B&2)&&De(l,P[1]),(!b||B&2)&&ne(r,"invisible",P[1]==="no error"),(!b||B&8)&&ne($,"cursor-pointer",P[3]),(!b||B&8)&&ne($,"text-gray-500",!P[3]),(!b||B&8)&&ne($,"cursor-not-allowed",!P[3])},i(P){b||(I(y.$$.fragment,P),b=!0)},o(P){E(y.$$.fragment,P),b=!1},d(P){P&&d(e),i[12](null),A(y),k=!1,Pe(w)}}}function Do(i,e,t){let n,s;ue(i,gt,k=>t(4,s=k));let{isLoading:a}=e,{fontCache:o}=e,r,l="",u,f="no error";function g(k){var B;const P=(B=k.target.files)==null?void 0:B[0];if(t(1,f="no error"),!P){_();return}if(!(P.name.endsWith(".woff2")||P.name.endsWith(".woff")||P.name.endsWith(".ttf")||P.name.endsWith(".otf"))){t(1,f="only woff2, woff, ttf and otf fonts are supported"),_();return}if(pn.has(l)||s.find(T=>T.fileName===P.name||T.name===l)){t(1,f="a font file with this name is already stored"),_();return}t(9,u=P)}function _(){t(2,r.value="",r),t(9,u=void 0)}async function c(){if(u){t(7,a=!0);try{const k=`/userfonts/${u.name}`;await o.put(k,new Response(u,{headers:{"Content-Type":`font/${u.name.split(".").pop()}`,"Content-Length":`${u.size}`}})),vt(gt,s=[...s,{name:l,path:k,fileName:u.name}],s),t(0,l=""),_()}catch(k){t(1,f=k.message)}t(7,a=!1)}}function v(){l=this.value,t(0,l)}const $=()=>{t(1,f="no error"),(pn.has(l)||s.find(k=>k.name===l))&&t(1,f="a font file with this name is already stored")};function y(k){Q[k?"unshift":"push"](()=>{r=k,t(2,r)})}const b=()=>{n&&c()};return i.$$set=k=>{"isLoading"in k&&t(7,a=k.isLoading),"fontCache"in k&&t(8,o=k.fontCache)},i.$$.update=()=>{i.$$.dirty&515&&t(3,n=!!l&&!!u&&f==="no error")},[l,f,r,n,s,g,c,a,o,u,v,$,y,b]}class Vo extends Re{constructor(e){super(),Le(this,e,Do,To,Ae,{isLoading:7,fontCache:8})}}function En(i,e,t){const n=i.slice();return n[14]=e[t],n}function Tn(i,e,t){const n=i.slice();return n[17]=e[t],n}function Dn(i){let e,t,n=[],s=new Map,a,o,r,l,u,f=i[5];const g=$=>$[17];for(let $=0;$<f.length;$+=1){let y=Tn(i,f,$),b=g(y);s.set(b,n[$]=Vn(b,y))}const _=[Po,yo],c=[];function v($,y){return $[2]==="Stored"?0:$[3]?1:-1}return~(r=v(i))&&(l=c[r]=_[r](i)),{c(){e=F("div"),t=F("ul");for(let $=0;$<n.length;$+=1)n[$].c();a=z(),o=F("div"),l&&l.c(),this.h()},l($){e=C($,"DIV",{class:!0});var y=H(e);t=C(y,"UL",{class:!0});var b=H(t);for(let w=0;w<n.length;w+=1)n[w].l(b);b.forEach(d),y.forEach(d),a=U($),o=C($,"DIV",{class:!0});var k=H(o);l&&l.l(k),k.forEach(d),this.h()},h(){m(t,"class","-mb-px flex items-center gap-4 text-sm font-medium"),m(e,"class","border-b border-b-gray-200"),m(o,"class","mt-5")},m($,y){N($,e,y),S(e,t);for(let b=0;b<n.length;b+=1)n[b]&&n[b].m(t,null);N($,a,y),N($,o,y),~r&&c[r].m(o,null),u=!0},p($,y){y&36&&(f=$[5],n=rt(n,y,g,1,$,f,s,t,Dt,Vn,null,Tn));let b=r;r=v($),r===b?~r&&c[r].p($,y):(l&&(Ee(),E(c[b],1,1,()=>{c[b]=null}),Te()),~r?(l=c[r],l?l.p($,y):(l=c[r]=_[r]($),l.c()),I(l,1),l.m(o,null)):l=null)},i($){u||(I(l),u=!0)},o($){E(l),u=!1},d($){$&&d(e);for(let y=0;y<n.length;y+=1)n[y].d();$&&d(a),$&&d(o),~r&&c[r].d()}}}function Vn(i,e){let t,n,s=e[17]+"",a,o,r,l;function u(){return e[9](e[17])}return{key:i,first:null,c(){t=F("li"),n=F("button"),a=ge(s),o=z(),this.h()},l(f){t=C(f,"LI",{class:!0});var g=H(t);n=C(g,"BUTTON",{class:!0});var _=H(n);a=pe(_,s),_.forEach(d),o=U(g),g.forEach(d),this.h()},h(){m(n,"class","relative flex items-center justify-center gap-2 px-1 py-3 hover:text-blue-700"),ne(n,"text-blue-700",e[2]===e[17]),ne(n,"after:absolute",e[2]===e[17]),ne(n,"after:left-0",e[2]===e[17]),ne(n,"after:bottom-0",e[2]===e[17]),ne(n,"after:h-0.5",e[2]===e[17]),ne(n,"after:w-full",e[2]===e[17]),ne(n,"after:bg-blue-700",e[2]===e[17]),ne(n,"text-gray-500",e[2]!==e[17]),m(t,"class","flex-1"),this.first=t},m(f,g){N(f,t,g),S(t,n),S(n,a),S(t,o),r||(l=Z(n,"click",u),r=!0)},p(f,g){e=f,g&36&&ne(n,"text-blue-700",e[2]===e[17]),g&36&&ne(n,"after:absolute",e[2]===e[17]),g&36&&ne(n,"after:left-0",e[2]===e[17]),g&36&&ne(n,"after:bottom-0",e[2]===e[17]),g&36&&ne(n,"after:h-0.5",e[2]===e[17]),g&36&&ne(n,"after:w-full",e[2]===e[17]),g&36&&ne(n,"after:bg-blue-700",e[2]===e[17]),g&36&&ne(n,"text-gray-500",e[2]!==e[17])},d(f){f&&d(t),r=!1,l()}}}function yo(i){let e,t,n;function s(o){i[13](o)}let a={fontCache:i[3]};return i[0]!==void 0&&(a.isLoading=i[0]),e=new Vo({props:a}),Q.push(()=>ee(e,"isLoading",s)),{c(){M(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,r){L(e,o,r),n=!0},p(o,r){const l={};r&8&&(l.fontCache=o[3]),!t&&r&1&&(t=!0,l.isLoading=o[0],te(()=>t=!1)),e.$set(l)},i(o){n||(I(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){A(e,o)}}}function Po(i){let e,t,n,s;const a=[Co,Fo],o=[];function r(l,u){return l[4].length?0:1}return e=r(i),t=o[e]=a[e](i),{c(){t.c(),n=st()},l(l){t.l(l),n=st()},m(l,u){o[e].m(l,u),N(l,n,u),s=!0},p(l,u){let f=e;e=r(l),e===f?o[e].p(l,u):(Ee(),E(o[f],1,1,()=>{o[f]=null}),Te(),t=o[e],t?t.p(l,u):(t=o[e]=a[e](l),t.c()),I(t,1),t.m(n.parentNode,n))},i(l){s||(I(t),s=!0)},o(l){E(t),s=!1},d(l){o[e].d(l),l&&d(n)}}}function Fo(i){let e,t;return{c(){e=F("div"),t=ge("You have currently no stored Fonts")},l(n){e=C(n,"DIV",{});var s=H(e);t=pe(s,"You have currently no stored Fonts"),s.forEach(d)},m(n,s){N(n,e,s),S(e,t)},p:we,i:we,o:we,d(n){n&&d(e)}}}function Co(i){let e,t=[],n=new Map,s,a=i[4];const o=r=>r[14].path;for(let r=0;r<a.length;r+=1){let l=En(i,a,r),u=o(l);n.set(u,t[r]=yn(u,l))}return{c(){e=F("div");for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l(r){e=C(r,"DIV",{class:!0});var l=H(e);for(let u=0;u<t.length;u+=1)t[u].l(l);l.forEach(d),this.h()},h(){m(e,"class","grid grid-cols-[repeat(3,auto)] items-center gap-y-4 gap-x-4 max-h-[50vh] overflow-auto break-all md:gap-x-14")},m(r,l){N(r,e,l);for(let u=0;u<t.length;u+=1)t[u]&&t[u].m(e,null);s=!0},p(r,l){l&208&&(a=r[4],Ee(),t=rt(t,l,o,1,r,a,n,e,Vt,yn,null,En),Te())},i(r){if(!s){for(let l=0;l<a.length;l+=1)I(t[l]);s=!0}},o(r){for(let l=0;l<t.length;l+=1)E(t[l]);s=!1},d(r){r&&d(e);for(let l=0;l<t.length;l+=1)t[l].d()}}}function yn(i,e){let t,n=e[14].name+"",s,a,o,r=e[14].fileName+"",l,u,f,g,_,c,v,$;function y(){return e[10](e[14])}function b(){return e[11](e[14])}g=new Oe({props:{icon:Ri}});function k(){return e[12](e[14])}return{key:i,first:null,c(){t=F("div"),s=ge(n),a=z(),o=F("div"),l=ge(r),u=z(),f=F("div"),M(g.$$.fragment),_=z(),this.h()},l(w){t=C(w,"DIV",{role:!0,class:!0});var P=H(t);s=pe(P,n),P.forEach(d),a=U(w),o=C(w,"DIV",{role:!0,class:!0});var B=H(o);l=pe(B,r),B.forEach(d),u=U(w),f=C(w,"DIV",{role:!0,class:!0});var T=H(f);R(g.$$.fragment,T),_=U(T),T.forEach(d),this.h()},h(){m(t,"role","button"),m(t,"class","hover:text-blue-700"),m(o,"role","button"),m(o,"class","hover:text-blue-700"),m(f,"role","button"),m(f,"class","hover:text-blue-700"),this.first=t},m(w,P){N(w,t,P),S(t,s),N(w,a,P),N(w,o,P),S(o,l),N(w,u,P),N(w,f,P),L(g,f,null),S(f,_),c=!0,v||($=[Z(t,"click",y),Z(t,"keyup",Me),Z(o,"click",b),Z(o,"keyup",Me),Z(f,"click",k),Z(f,"keyup",Me)],v=!0)},p(w,P){e=w,(!c||P&16)&&n!==(n=e[14].name+"")&&De(s,n),(!c||P&16)&&r!==(r=e[14].fileName+"")&&De(l,r)},i(w){c||(I(g.$$.fragment,w),c=!0)},o(w){E(g.$$.fragment,w),c=!1},d(w){w&&d(t),w&&d(a),w&&d(o),w&&d(u),w&&d(f),A(g),v=!1,Pe($)}}}function Pn(i){let e,t,n;return t=new Oe({props:{icon:jn,spin:!0}}),{c(){e=F("div"),M(t.$$.fragment),this.h()},l(s){e=C(s,"DIV",{class:!0});var a=H(e);R(t.$$.fragment,a),a.forEach(d),this.h()},h(){m(e,"class","fixed inset-0 flex h-full w-full items-center justify-center text-7xl")},m(s,a){N(s,e,a),L(t,e,null),n=!0},p:we,i(s){n||(I(t.$$.fragment,s),n=!0)},o(s){E(t.$$.fragment,s),n=!1},d(s){s&&d(e),A(t)}}}function No(i){let e,t,n,s=i[1]&&Dn(i),a=(!i[1]||i[0])&&Pn();return{c(){e=F("div"),s&&s.c(),t=z(),a&&a.c(),this.h()},l(o){e=C(o,"DIV",{slot:!0});var r=H(e);s&&s.l(r),t=U(r),a&&a.l(r),r.forEach(d),this.h()},h(){m(e,"slot","content")},m(o,r){N(o,e,r),s&&s.m(e,null),S(e,t),a&&a.m(e,null),n=!0},p(o,r){o[1]?s?(s.p(o,r),r&2&&I(s,1)):(s=Dn(o),s.c(),I(s,1),s.m(e,t)):s&&(Ee(),E(s,1,1,()=>{s=null}),Te()),!o[1]||o[0]?a?(a.p(o,r),r&3&&I(a,1)):(a=Pn(),a.c(),I(a,1),a.m(e,null)):a&&(Ee(),E(a,1,1,()=>{a=null}),Te())},i(o){n||(I(s),I(a),n=!0)},o(o){E(s),E(a),n=!1},d(o){o&&d(e),s&&s.d(),a&&a.d()}}}function Bo(i){let e,t;return e=new An({props:{$$slots:{content:[No]},$$scope:{ctx:i}}}),{c(){M(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p(n,[s]){const a={};s&1048607&&(a.$$scope={dirty:s,ctx:n}),e.$set(a)},i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function Mo(i,e,t){let n;ue(i,gt,b=>t(4,n=b));let{fontFamily:s}=e;const a=["Stored","Add"];let o=!1,r=!1,l="Stored",u;Tt(async()=>{try{t(3,u=await caches.open(Ui));const b=(await u.keys()).map(k=>new URL(k.url).pathname);vt(gt,n=n.filter(k=>b.includes(k.path)),n);for(let k=0,{length:w}=b;k<w;k+=1){const P=b[k];n.find(T=>T.path===P)||u.delete(P).catch(()=>{})}}catch(b){Ot.error(`Error loading font cache: ${b.message}`),t(3,u=void 0)}t(1,r=!0)});function f(b){s.next(b),it.dialogs$.next([])}async function g(b){if(u){t(0,o=!0);try{await u.delete(b),vt(gt,n=n.filter(w=>w.path!==b),n);const k=s.getValue();n.find(w=>w.name===k)||s.next("")}catch(k){Ot.error(`Error deleting Font: ${k.message}`)}t(0,o=!1)}}const _=b=>t(2,l=b),c=b=>f(b.name),v=b=>f(b.name),$=b=>g(b.path);function y(b){o=b,t(0,o)}return i.$$set=b=>{"fontFamily"in b&&t(8,s=b.fontFamily)},[o,r,l,u,n,a,f,g,s,_,c,v,$,y]}class Fn extends Re{constructor(e){super(),Le(this,e,Mo,Bo,Ae,{fontFamily:8})}}function Ro(i){let e,t,n,s,a,o,r,l,u,f,g,_;return e=new _e({props:{title:"Persistent storage",tooltip:i[33],$$slots:{default:[Ao]},$$scope:{ctx:i}}}),n=new _e({props:{title:"Cache Data",tooltip:i[32],$$slots:{default:[Go]},$$scope:{ctx:i}}}),a=new _e({props:{title:"Auto Import/Export",tooltip:i[29],$$slots:{default:[Ho]},$$scope:{ctx:i}}}),r=new _e({props:{title:"Import/Export Behavior",tooltip:i[31],$$slots:{default:[zo]},$$scope:{ctx:i}}}),u=new _e({props:{title:"Show Placeholder",tooltip:i[30],$$slots:{default:[Uo]},$$scope:{ctx:i}}}),g=new Eo({props:{storageSources:i[27]}}),{c(){M(e.$$.fragment),t=z(),M(n.$$.fragment),s=z(),M(a.$$.fragment),o=z(),M(r.$$.fragment),l=z(),M(u.$$.fragment),f=z(),M(g.$$.fragment)},l(c){R(e.$$.fragment,c),t=U(c),R(n.$$.fragment,c),s=U(c),R(a.$$.fragment,c),o=U(c),R(r.$$.fragment,c),l=U(c),R(u.$$.fragment,c),f=U(c),R(g.$$.fragment,c)},m(c,v){L(e,c,v),N(c,t,v),L(n,c,v),N(c,s,v),L(a,c,v),N(c,o,v),L(r,c,v),N(c,l,v),L(u,c,v),N(c,f,v),L(g,c,v),_=!0},p(c,v){const $={};v[1]&4&&($.tooltip=c[33]),v[0]&8|v[2]&524288&&($.$$scope={dirty:v,ctx:c}),e.$set($);const y={};v[1]&2&&(y.tooltip=c[32]),v[0]&16|v[2]&524288&&(y.$$scope={dirty:v,ctx:c}),n.$set(y);const b={};v[0]&536870912&&(b.tooltip=c[29]),v[0]&32|v[2]&524288&&(b.$$scope={dirty:v,ctx:c}),a.$set(b);const k={};v[1]&1&&(k.tooltip=c[31]),v[0]&64|v[2]&524288&&(k.$$scope={dirty:v,ctx:c}),r.$set(k);const w={};v[0]&1073741824&&(w.tooltip=c[30]),v[0]&128|v[2]&524288&&(w.$$scope={dirty:v,ctx:c}),u.$set(w);const P={};v[0]&134217728&&(P.storageSources=c[27]),g.$set(P)},i(c){_||(I(e.$$.fragment,c),I(n.$$.fragment,c),I(a.$$.fragment,c),I(r.$$.fragment,c),I(u.$$.fragment,c),I(g.$$.fragment,c),_=!0)},o(c){E(e.$$.fragment,c),E(n.$$.fragment,c),E(a.$$.fragment,c),E(r.$$.fragment,c),E(u.$$.fragment,c),E(g.$$.fragment,c),_=!1},d(c){A(e,c),c&&d(t),A(n,c),c&&d(s),A(a,c),c&&d(o),A(r,c),c&&d(l),A(u,c),c&&d(f),A(g,c)}}}function Lo(i){let e,t,n,s,a,o,r,l,u,f,g,_,c,v,$,y,b,k,w,P,B,T,W,J,j,K,oe,re,de,ie,G,x,q,se,Y,X,ae,fe;t=new _e({props:{title:"Theme",$$slots:{default:[Wo]},$$scope:{ctx:i}}}),a=new _e({props:{title:"View mode",$$slots:{default:[jo]},$$scope:{ctx:i}}}),r=new _e({props:{title:"Font family (Group 1)",$$slots:{header:[Yo],default:[qo]},$$scope:{ctx:i}}}),u=new _e({props:{title:"Font family (Group 2)",$$slots:{header:[Ko],default:[Jo]},$$scope:{ctx:i}}}),g=new _e({props:{title:"Font size",$$slots:{default:[Qo]},$$scope:{ctx:i}}}),c=new _e({props:{title:"Line Height",$$slots:{default:[Zo]},$$scope:{ctx:i}}}),$=new _e({props:{title:i[36]?"Reader Left/right margin":"Reader Top/bottom margin",$$slots:{header:[xo],default:[Xo]},$$scope:{ctx:i}}}),b=new _e({props:{title:i[36]?"Reader Max height":"Reader Max width",$$slots:{header:[ts],default:[es]},$$scope:{ctx:i}}}),w=new _e({props:{title:"Swipe Threshold",tooltip:"Distance which you need to swipe in order trigger a navigation",$$slots:{default:[ns]},$$scope:{ctx:i}}}),B=new _e({props:{title:"Writing mode",$$slots:{default:[is]},$$scope:{ctx:i}}}),W=new _e({props:{title:"Disable Wheel Navigation",$$slots:{default:[os]},$$scope:{ctx:i}}}),j=new _e({props:{title:"Close Confirmation",tooltip:"When enabled asks for confirmation on closing/reloading a reader tab and unsaved changes were detected",$$slots:{default:[ss]},$$scope:{ctx:i}}}),oe=new _e({props:{title:"Auto Bookmark",tooltip:"Set a bookmark after 3 seconds without scrolling/page change",$$slots:{default:[ls]},$$scope:{ctx:i}}}),de=new _e({props:{title:"Blur image",$$slots:{default:[rs]},$$scope:{ctx:i}}}),G=new _e({props:{title:"Hide furigana",$$slots:{default:[as]},$$scope:{ctx:i}}}),q=new _e({props:{title:"Hide furigana style",tooltip:i[28],$$slots:{default:[us]},$$scope:{ctx:i}}});const ke=[cs,fs],ve=[];function Ie(p,h){return p[9]===wt.Continuous?0:1}return Y=Ie(i),X=ve[Y]=ke[Y](i),{c(){e=F("div"),M(t.$$.fragment),n=z(),s=F("div"),M(a.$$.fragment),o=z(),M(r.$$.fragment),l=z(),M(u.$$.fragment),f=z(),M(g.$$.fragment),_=z(),M(c.$$.fragment),v=z(),M($.$$.fragment),y=z(),M(b.$$.fragment),k=z(),M(w.$$.fragment),P=z(),M(B.$$.fragment),T=z(),M(W.$$.fragment),J=z(),M(j.$$.fragment),K=z(),M(oe.$$.fragment),re=z(),M(de.$$.fragment),ie=z(),M(G.$$.fragment),x=z(),M(q.$$.fragment),se=z(),X.c(),ae=st(),this.h()},l(p){e=C(p,"DIV",{class:!0});var h=H(e);R(t.$$.fragment,h),h.forEach(d),n=U(p),s=C(p,"DIV",{class:!0});var be=H(s);R(a.$$.fragment,be),be.forEach(d),o=U(p),R(r.$$.fragment,p),l=U(p),R(u.$$.fragment,p),f=U(p),R(g.$$.fragment,p),_=U(p),R(c.$$.fragment,p),v=U(p),R($.$$.fragment,p),y=U(p),R(b.$$.fragment,p),k=U(p),R(w.$$.fragment,p),P=U(p),R(B.$$.fragment,p),T=U(p),R(W.$$.fragment,p),J=U(p),R(j.$$.fragment,p),K=U(p),R(oe.$$.fragment,p),re=U(p),R(de.$$.fragment,p),ie=U(p),R(G.$$.fragment,p),x=U(p),R(q.$$.fragment,p),se=U(p),X.l(p),ae=st(),this.h()},h(){m(e,"class","lg:col-span-2"),m(s,"class","h-full")},m(p,h){N(p,e,h),L(t,e,null),N(p,n,h),N(p,s,h),L(a,s,null),N(p,o,h),L(r,p,h),N(p,l,h),L(u,p,h),N(p,f,h),L(g,p,h),N(p,_,h),L(c,p,h),N(p,v,h),L($,p,h),N(p,y,h),L(b,p,h),N(p,k,h),L(w,p,h),N(p,P,h),L(B,p,h),N(p,T,h),L(W,p,h),N(p,J,h),L(j,p,h),N(p,K,h),L(oe,p,h),N(p,re,h),L(de,p,h),N(p,ie,h),L(G,p,h),N(p,x,h),L(q,p,h),N(p,se,h),ve[Y].m(p,h),N(p,ae,h),fe=!0},p(p,h){const be={};h[0]&256|h[2]&524288&&(be.$$scope={dirty:h,ctx:p}),t.$set(be);const Ve={};h[0]&512|h[2]&524288&&(Ve.$$scope={dirty:h,ctx:p}),a.$set(Ve);const Fe={};h[0]&1024|h[1]&16|h[2]&524288&&(Fe.$$scope={dirty:h,ctx:p}),r.$set(Fe);const Ce={};h[0]&2048|h[1]&16|h[2]&524288&&(Ce.$$scope={dirty:h,ctx:p}),u.$set(Ce);const Ne={};h[0]&4096|h[2]&524288&&(Ne.$$scope={dirty:h,ctx:p}),g.$set(Ne);const Ye={};h[0]&8192|h[2]&524288&&(Ye.$$scope={dirty:h,ctx:p}),c.$set(Ye);const Ge={};h[1]&32&&(Ge.title=p[36]?"Reader Left/right margin":"Reader Top/bottom margin"),h[0]&131072|h[1]&32|h[2]&524288&&(Ge.$$scope={dirty:h,ctx:p}),$.$set(Ge);const He={};h[1]&32&&(He.title=p[36]?"Reader Max height":"Reader Max width"),h[0]&65536|h[1]&32|h[2]&524288&&(He.$$scope={dirty:h,ctx:p}),b.$set(He);const Je={};h[0]&262144|h[2]&524288&&(Je.$$scope={dirty:h,ctx:p}),w.$set(Je);const Ke={};h[0]&2|h[2]&524288&&(Ke.$$scope={dirty:h,ctx:p}),B.$set(Ke);const Qe={};h[0]&524288|h[2]&524288&&(Qe.$$scope={dirty:h,ctx:p}),W.$set(Qe);const Ze={};h[0]&16777216|h[2]&524288&&(Ze.$$scope={dirty:h,ctx:p}),j.$set(Ze);const Xe={};h[0]&33554432|h[2]&524288&&(Xe.$$scope={dirty:h,ctx:p}),oe.$set(Xe);const xe={};h[0]&16384|h[2]&524288&&(xe.$$scope={dirty:h,ctx:p}),de.$set(xe);const et={};h[0]&32768|h[2]&524288&&(et.$$scope={dirty:h,ctx:p}),G.$set(et);const ze={};h[0]&268435456&&(ze.tooltip=p[28]),h[0]&1|h[2]&524288&&(ze.$$scope={dirty:h,ctx:p}),q.$set(ze);let Ue=Y;Y=Ie(p),Y===Ue?ve[Y].p(p,h):(Ee(),E(ve[Ue],1,1,()=>{ve[Ue]=null}),Te(),X=ve[Y],X?X.p(p,h):(X=ve[Y]=ke[Y](p),X.c()),I(X,1),X.m(ae.parentNode,ae))},i(p){fe||(I(t.$$.fragment,p),I(a.$$.fragment,p),I(r.$$.fragment,p),I(u.$$.fragment,p),I(g.$$.fragment,p),I(c.$$.fragment,p),I($.$$.fragment,p),I(b.$$.fragment,p),I(w.$$.fragment,p),I(B.$$.fragment,p),I(W.$$.fragment,p),I(j.$$.fragment,p),I(oe.$$.fragment,p),I(de.$$.fragment,p),I(G.$$.fragment,p),I(q.$$.fragment,p),I(X),fe=!0)},o(p){E(t.$$.fragment,p),E(a.$$.fragment,p),E(r.$$.fragment,p),E(u.$$.fragment,p),E(g.$$.fragment,p),E(c.$$.fragment,p),E($.$$.fragment,p),E(b.$$.fragment,p),E(w.$$.fragment,p),E(B.$$.fragment,p),E(W.$$.fragment,p),E(j.$$.fragment,p),E(oe.$$.fragment,p),E(de.$$.fragment,p),E(G.$$.fragment,p),E(q.$$.fragment,p),E(X),fe=!1},d(p){p&&d(e),A(t),p&&d(n),p&&d(s),A(a),p&&d(o),A(r,p),p&&d(l),A(u,p),p&&d(f),A(g,p),p&&d(_),A(c,p),p&&d(v),A($,p),p&&d(y),A(b,p),p&&d(k),A(w,p),p&&d(P),A(B,p),p&&d(T),A(W,p),p&&d(J),A(j,p),p&&d(K),A(oe,p),p&&d(re),A(de,p),p&&d(ie),A(G,p),p&&d(x),A(q,p),p&&d(se),ve[Y].d(p),p&&d(ae)}}}function Ao(i){let e,t,n;function s(o){i[75](o)}let a={options:i[38]};return i[3]!==void 0&&(a.selectedOptionId=i[3]),e=new Se({props:a}),Q.push(()=>ee(e,"selectedOptionId",s)),{c(){M(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,r){L(e,o,r),n=!0},p(o,r){const l={};!t&&r[0]&8&&(t=!0,l.selectedOptionId=o[3],te(()=>t=!1)),e.$set(l)},i(o){n||(I(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){A(e,o)}}}function Go(i){let e,t,n;function s(o){i[76](o)}let a={options:i[38]};return i[4]!==void 0&&(a.selectedOptionId=i[4]),e=new Se({props:a}),Q.push(()=>ee(e,"selectedOptionId",s)),{c(){M(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,r){L(e,o,r),n=!0},p(o,r){const l={};!t&&r[0]&16&&(t=!0,l.selectedOptionId=o[4],te(()=>t=!1)),e.$set(l)},i(o){n||(I(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){A(e,o)}}}function Ho(i){let e,t,n;function s(o){i[77](o)}let a={options:i[42]};return i[5]!==void 0&&(a.selectedOptionId=i[5]),e=new Se({props:a}),Q.push(()=>ee(e,"selectedOptionId",s)),{c(){M(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,r){L(e,o,r),n=!0},p(o,r){const l={};!t&&r[0]&32&&(t=!0,l.selectedOptionId=o[5],te(()=>t=!1)),e.$set(l)},i(o){n||(I(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){A(e,o)}}}function zo(i){let e,t,n;function s(o){i[78](o)}let a={options:i[43]};return i[6]!==void 0&&(a.selectedOptionId=i[6]),e=new Se({props:a}),Q.push(()=>ee(e,"selectedOptionId",s)),{c(){M(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,r){L(e,o,r),n=!0},p(o,r){const l={};!t&&r[0]&64&&(t=!0,l.selectedOptionId=o[6],te(()=>t=!1)),e.$set(l)},i(o){n||(I(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){A(e,o)}}}function Uo(i){let e,t,n;function s(o){i[79](o)}let a={options:i[38]};return i[7]!==void 0&&(a.selectedOptionId=i[7]),e=new Se({props:a}),Q.push(()=>ee(e,"selectedOptionId",s)),{c(){M(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,r){L(e,o,r),n=!0},p(o,r){const l={};!t&&r[0]&128&&(t=!0,l.selectedOptionId=o[7],te(()=>t=!1)),e.$set(l)},i(o){n||(I(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){A(e,o)}}}function Wo(i){let e,t,n;function s(o){i[45](o)}let a={options:i[37]};return i[8]!==void 0&&(a.selectedOptionId=i[8]),e=new Se({props:a}),Q.push(()=>ee(e,"selectedOptionId",s)),{c(){M(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,r){L(e,o,r),n=!0},p(o,r){const l={};!t&&r[0]&256&&(t=!0,l.selectedOptionId=o[8],te(()=>t=!1)),e.$set(l)},i(o){n||(I(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){A(e,o)}}}function jo(i){let e,t,n;function s(o){i[46](o)}let a={options:i[41]};return i[9]!==void 0&&(a.selectedOptionId=i[9]),e=new Se({props:a}),Q.push(()=>ee(e,"selectedOptionId",s)),{c(){M(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,r){L(e,o,r),n=!0},p(o,r){const l={};!t&&r[0]&512&&(t=!0,l.selectedOptionId=o[9],te(()=>t=!1)),e.$set(l)},i(o){n||(I(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){A(e,o)}}}function qo(i){let e,t,n;return{c(){e=F("input"),this.h()},l(s){e=C(s,"INPUT",{type:!0,class:!0,placeholder:!0}),this.h()},h(){m(e,"type","text"),m(e,"class",qe),m(e,"placeholder","Noto Serif JP")},m(s,a){N(s,e,a),he(e,i[10]),t||(n=Z(e,"input",i[49]),t=!0)},p(s,a){a[0]&1024&&e.value!==s[10]&&he(e,s[10])},d(s){s&&d(e),t=!1,n()}}}function Cn(i){let e,t,n,s,a;return t=new Oe({props:{icon:qn}}),{c(){e=F("div"),M(t.$$.fragment),this.h()},l(o){e=C(o,"DIV",{role:!0});var r=H(e);R(t.$$.fragment,r),r.forEach(d),this.h()},h(){m(e,"role","button")},m(o,r){N(o,e,r),L(t,e,null),n=!0,s||(a=[Z(e,"click",i[48]),Z(e,"keyup",Me)],s=!0)},p:we,i(o){n||(I(t.$$.fragment,o),n=!0)},o(o){E(t.$$.fragment,o),n=!1},d(o){o&&d(e),A(t),s=!1,Pe(a)}}}function Yo(i){let e,t,n,s,a;function o(u){i[47](u)}let r={availableFonts:[ot.NOTOSERIFJP,ot.GENEI,ot.KLEEONE,ot.KLEEONESEMIBOLD,ot.SHIPPORIMINCHO]};i[10]!==void 0&&(r.fontValue=i[10]),t=new Jn({props:r}),Q.push(()=>ee(t,"fontValue",o));let l=i[35]&&Cn(i);return{c(){e=F("div"),M(t.$$.fragment),s=z(),l&&l.c(),this.h()},l(u){e=C(u,"DIV",{slot:!0,class:!0});var f=H(e);R(t.$$.fragment,f),s=U(f),l&&l.l(f),f.forEach(d),this.h()},h(){m(e,"slot","header"),m(e,"class","flex items-center")},m(u,f){N(u,e,f),L(t,e,null),S(e,s),l&&l.m(e,null),a=!0},p(u,f){const g={};!n&&f[0]&1024&&(n=!0,g.fontValue=u[10],te(()=>n=!1)),t.$set(g),u[35]?l?(l.p(u,f),f[1]&16&&I(l,1)):(l=Cn(u),l.c(),I(l,1),l.m(e,null)):l&&(Ee(),E(l,1,1,()=>{l=null}),Te())},i(u){a||(I(t.$$.fragment,u),I(l),a=!0)},o(u){E(t.$$.fragment,u),E(l),a=!1},d(u){u&&d(e),A(t),l&&l.d()}}}function Jo(i){let e,t,n;return{c(){e=F("input"),this.h()},l(s){e=C(s,"INPUT",{type:!0,class:!0,placeholder:!0}),this.h()},h(){m(e,"type","text"),m(e,"class",qe),m(e,"placeholder","Noto Sans JP")},m(s,a){N(s,e,a),he(e,i[11]),t||(n=Z(e,"input",i[52]),t=!0)},p(s,a){a[0]&2048&&e.value!==s[11]&&he(e,s[11])},d(s){s&&d(e),t=!1,n()}}}function Nn(i){let e,t,n,s,a;return t=new Oe({props:{icon:qn}}),{c(){e=F("div"),M(t.$$.fragment),this.h()},l(o){e=C(o,"DIV",{role:!0});var r=H(e);R(t.$$.fragment,r),r.forEach(d),this.h()},h(){m(e,"role","button")},m(o,r){N(o,e,r),L(t,e,null),n=!0,s||(a=[Z(e,"click",i[51]),Z(e,"keyup",Me)],s=!0)},p:we,i(o){n||(I(t.$$.fragment,o),n=!0)},o(o){E(t.$$.fragment,o),n=!1},d(o){o&&d(e),A(t),s=!1,Pe(a)}}}function Ko(i){let e,t,n,s,a;function o(u){i[50](u)}let r={};i[11]!==void 0&&(r.fontValue=i[11]),t=new Jn({props:r}),Q.push(()=>ee(t,"fontValue",o));let l=i[35]&&Nn(i);return{c(){e=F("div"),M(t.$$.fragment),s=z(),l&&l.c(),this.h()},l(u){e=C(u,"DIV",{slot:!0,class:!0});var f=H(e);R(t.$$.fragment,f),s=U(f),l&&l.l(f),f.forEach(d),this.h()},h(){m(e,"slot","header"),m(e,"class","flex items-center")},m(u,f){N(u,e,f),L(t,e,null),S(e,s),l&&l.m(e,null),a=!0},p(u,f){const g={};!n&&f[0]&2048&&(n=!0,g.fontValue=u[11],te(()=>n=!1)),t.$set(g),u[35]?l?(l.p(u,f),f[1]&16&&I(l,1)):(l=Nn(u),l.c(),I(l,1),l.m(e,null)):l&&(Ee(),E(l,1,1,()=>{l=null}),Te())},i(u){a||(I(t.$$.fragment,u),I(l),a=!0)},o(u){E(t.$$.fragment,u),E(l),a=!1},d(u){u&&d(e),A(t),l&&l.d()}}}function Qo(i){let e,t,n;return{c(){e=F("input"),this.h()},l(s){e=C(s,"INPUT",{type:!0,class:!0,step:!0,min:!0}),this.h()},h(){m(e,"type","number"),m(e,"class",qe),m(e,"step","1"),m(e,"min","1")},m(s,a){N(s,e,a),he(e,i[12]),t||(n=Z(e,"input",i[53]),t=!0)},p(s,a){a[0]&4096&&ye(e.value)!==s[12]&&he(e,s[12])},d(s){s&&d(e),t=!1,n()}}}function Zo(i){let e,t,n;return{c(){e=F("input"),this.h()},l(s){e=C(s,"INPUT",{type:!0,class:!0,step:!0,min:!0}),this.h()},h(){m(e,"type","number"),m(e,"class",qe),m(e,"step","0.05"),m(e,"min","1")},m(s,a){N(s,e,a),he(e,i[13]),t||(n=[Z(e,"input",i[54]),Z(e,"change",i[55])],t=!0)},p(s,a){a[0]&8192&&ye(e.value)!==s[13]&&he(e,s[13])},d(s){s&&d(e),t=!1,Pe(n)}}}function Xo(i){let e,t,n;return{c(){e=F("input"),this.h()},l(s){e=C(s,"INPUT",{type:!0,class:!0,step:!0,min:!0}),this.h()},h(){m(e,"type","number"),m(e,"class",qe),m(e,"step","1"),m(e,"min","0")},m(s,a){N(s,e,a),he(e,i[17]),t||(n=Z(e,"input",i[57]),t=!0)},p(s,a){a[0]&131072&&ye(e.value)!==s[17]&&he(e,s[17])},d(s){s&&d(e),t=!1,n()}}}function xo(i){let e,t,n;function s(o){i[56](o)}let a={slot:"header",isFirstDimension:!0,isVertical:i[36]};return i[17]!==void 0&&(a.dimensionValue=i[17]),e=new Yn({props:a}),Q.push(()=>ee(e,"dimensionValue",s)),{c(){M(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,r){L(e,o,r),n=!0},p(o,r){const l={};r[1]&32&&(l.isVertical=o[36]),!t&&r[0]&131072&&(t=!0,l.dimensionValue=o[17],te(()=>t=!1)),e.$set(l)},i(o){n||(I(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){A(e,o)}}}function es(i){let e,t,n;return{c(){e=F("input"),this.h()},l(s){e=C(s,"INPUT",{type:!0,class:!0,step:!0,min:!0}),this.h()},h(){m(e,"type","number"),m(e,"class",qe),m(e,"step","1"),m(e,"min","0")},m(s,a){N(s,e,a),he(e,i[16]),t||(n=Z(e,"input",i[59]),t=!0)},p(s,a){a[0]&65536&&ye(e.value)!==s[16]&&he(e,s[16])},d(s){s&&d(e),t=!1,n()}}}function ts(i){let e,t,n;function s(o){i[58](o)}let a={slot:"header",isVertical:i[36]};return i[16]!==void 0&&(a.dimensionValue=i[16]),e=new Yn({props:a}),Q.push(()=>ee(e,"dimensionValue",s)),{c(){M(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,r){L(e,o,r),n=!0},p(o,r){const l={};r[1]&32&&(l.isVertical=o[36]),!t&&r[0]&65536&&(t=!0,l.dimensionValue=o[16],te(()=>t=!1)),e.$set(l)},i(o){n||(I(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){A(e,o)}}}function ns(i){let e,t,n;return{c(){e=F("input"),this.h()},l(s){e=C(s,"INPUT",{type:!0,step:!0,min:!0,class:!0}),this.h()},h(){m(e,"type","number"),m(e,"step","1"),m(e,"min","10"),m(e,"class",qe)},m(s,a){N(s,e,a),he(e,i[18]),t||(n=[Z(e,"input",i[60]),Z(e,"blur",i[61])],t=!0)},p(s,a){a[0]&262144&&ye(e.value)!==s[18]&&he(e,s[18])},d(s){s&&d(e),t=!1,Pe(n)}}}function is(i){let e,t,n;function s(o){i[62](o)}let a={options:i[40]};return i[1]!==void 0&&(a.selectedOptionId=i[1]),e=new Se({props:a}),Q.push(()=>ee(e,"selectedOptionId",s)),{c(){M(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,r){L(e,o,r),n=!0},p(o,r){const l={};!t&&r[0]&2&&(t=!0,l.selectedOptionId=o[1],te(()=>t=!1)),e.$set(l)},i(o){n||(I(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){A(e,o)}}}function os(i){let e,t,n;function s(o){i[63](o)}let a={options:i[38]};return i[19]!==void 0&&(a.selectedOptionId=i[19]),e=new Se({props:a}),Q.push(()=>ee(e,"selectedOptionId",s)),{c(){M(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,r){L(e,o,r),n=!0},p(o,r){const l={};!t&&r[0]&524288&&(t=!0,l.selectedOptionId=o[19],te(()=>t=!1)),e.$set(l)},i(o){n||(I(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){A(e,o)}}}function ss(i){let e,t,n;function s(o){i[64](o)}let a={options:i[38]};return i[24]!==void 0&&(a.selectedOptionId=i[24]),e=new Se({props:a}),Q.push(()=>ee(e,"selectedOptionId",s)),{c(){M(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,r){L(e,o,r),n=!0},p(o,r){const l={};!t&&r[0]&16777216&&(t=!0,l.selectedOptionId=o[24],te(()=>t=!1)),e.$set(l)},i(o){n||(I(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){A(e,o)}}}function ls(i){let e,t,n;function s(o){i[65](o)}let a={options:i[38]};return i[25]!==void 0&&(a.selectedOptionId=i[25]),e=new Se({props:a}),Q.push(()=>ee(e,"selectedOptionId",s)),{c(){M(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,r){L(e,o,r),n=!0},p(o,r){const l={};!t&&r[0]&33554432&&(t=!0,l.selectedOptionId=o[25],te(()=>t=!1)),e.$set(l)},i(o){n||(I(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){A(e,o)}}}function rs(i){let e,t,n;function s(o){i[66](o)}let a={options:i[38]};return i[14]!==void 0&&(a.selectedOptionId=i[14]),e=new Se({props:a}),Q.push(()=>ee(e,"selectedOptionId",s)),{c(){M(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,r){L(e,o,r),n=!0},p(o,r){const l={};!t&&r[0]&16384&&(t=!0,l.selectedOptionId=o[14],te(()=>t=!1)),e.$set(l)},i(o){n||(I(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){A(e,o)}}}function as(i){let e,t,n;function s(o){i[67](o)}let a={options:i[38]};return i[15]!==void 0&&(a.selectedOptionId=i[15]),e=new Se({props:a}),Q.push(()=>ee(e,"selectedOptionId",s)),{c(){M(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,r){L(e,o,r),n=!0},p(o,r){const l={};!t&&r[0]&32768&&(t=!0,l.selectedOptionId=o[15],te(()=>t=!1)),e.$set(l)},i(o){n||(I(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){A(e,o)}}}function us(i){let e,t,n;function s(o){i[68](o)}let a={options:i[39]};return i[0]!==void 0&&(a.selectedOptionId=i[0]),e=new Se({props:a}),Q.push(()=>ee(e,"selectedOptionId",s)),{c(){M(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,r){L(e,o,r),n=!0},p(o,r){const l={};!t&&r[0]&1&&(t=!0,l.selectedOptionId=o[0],te(()=>t=!1)),e.$set(l)},i(o){n||(I(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){A(e,o)}}}function fs(i){let e,t,n,s,a,o;e=new _e({props:{title:"Avoid Page Break",tooltip:i[34],$$slots:{default:[gs]},$$scope:{ctx:i}}}),n=new _e({props:{title:"Selection to Bookmark",tooltip:"When enabled bookmarks will be placed to a near paragraph of current/previous selected text instead of page start",$$slots:{default:[ps]},$$scope:{ctx:i}}});let r=!i[36]&&Bn(i);return{c(){M(e.$$.fragment),t=z(),M(n.$$.fragment),s=z(),r&&r.c(),a=st()},l(l){R(e.$$.fragment,l),t=U(l),R(n.$$.fragment,l),s=U(l),r&&r.l(l),a=st()},m(l,u){L(e,l,u),N(l,t,u),L(n,l,u),N(l,s,u),r&&r.m(l,u),N(l,a,u),o=!0},p(l,u){const f={};u[1]&8&&(f.tooltip=l[34]),u[0]&4|u[2]&524288&&(f.$$scope={dirty:u,ctx:l}),e.$set(f);const g={};u[0]&4194304|u[2]&524288&&(g.$$scope={dirty:u,ctx:l}),n.$set(g),l[36]?r&&(Ee(),E(r,1,1,()=>{r=null}),Te()):r?(r.p(l,u),u[1]&32&&I(r,1)):(r=Bn(l),r.c(),I(r,1),r.m(a.parentNode,a))},i(l){o||(I(e.$$.fragment,l),I(n.$$.fragment,l),I(r),o=!0)},o(l){E(e.$$.fragment,l),E(n.$$.fragment,l),E(r),o=!1},d(l){A(e,l),l&&d(t),A(n,l),l&&d(s),r&&r.d(l),l&&d(a)}}}function cs(i){let e,t,n,s;return e=new _e({props:{title:"Custom Reading Point",tooltip:"Allows to set a persistent custom point in the reader from which the current progress and bookmark is calculated when enabled",$$slots:{default:[ms]},$$scope:{ctx:i}}}),n=new _e({props:{title:"Auto position on resize",$$slots:{default:[_s]},$$scope:{ctx:i}}}),{c(){M(e.$$.fragment),t=z(),M(n.$$.fragment)},l(a){R(e.$$.fragment,a),t=U(a),R(n.$$.fragment,a)},m(a,o){L(e,a,o),N(a,t,o),L(n,a,o),s=!0},p(a,o){const r={};o[0]&2097152|o[2]&524288&&(r.$$scope={dirty:o,ctx:a}),e.$set(r);const l={};o[0]&1048576|o[2]&524288&&(l.$$scope={dirty:o,ctx:a}),n.$set(l)},i(a){s||(I(e.$$.fragment,a),I(n.$$.fragment,a),s=!0)},o(a){E(e.$$.fragment,a),E(n.$$.fragment,a),s=!1},d(a){A(e,a),a&&d(t),A(n,a)}}}function gs(i){let e,t,n;function s(o){i[72](o)}let a={options:i[38]};return i[2]!==void 0&&(a.selectedOptionId=i[2]),e=new Se({props:a}),Q.push(()=>ee(e,"selectedOptionId",s)),{c(){M(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,r){L(e,o,r),n=!0},p(o,r){const l={};!t&&r[0]&4&&(t=!0,l.selectedOptionId=o[2],te(()=>t=!1)),e.$set(l)},i(o){n||(I(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){A(e,o)}}}function ps(i){let e,t,n;function s(o){i[73](o)}let a={options:i[38]};return i[22]!==void 0&&(a.selectedOptionId=i[22]),e=new Se({props:a}),Q.push(()=>ee(e,"selectedOptionId",s)),{c(){M(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,r){L(e,o,r),n=!0},p(o,r){const l={};!t&&r[0]&4194304&&(t=!0,l.selectedOptionId=o[22],te(()=>t=!1)),e.$set(l)},i(o){n||(I(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){A(e,o)}}}function Bn(i){let e,t;return e=new _e({props:{title:"Page Columns",$$slots:{default:[ds]},$$scope:{ctx:i}}}),{c(){M(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,s){L(e,n,s),t=!0},p(n,s){const a={};s[0]&8388608|s[2]&524288&&(a.$$scope={dirty:s,ctx:n}),e.$set(a)},i(n){t||(I(e.$$.fragment,n),t=!0)},o(n){E(e.$$.fragment,n),t=!1},d(n){A(e,n)}}}function ds(i){let e,t,n;return{c(){e=F("input"),this.h()},l(s){e=C(s,"INPUT",{type:!0,class:!0,step:!0,min:!0}),this.h()},h(){m(e,"type","number"),m(e,"class",qe),m(e,"step","1"),m(e,"min","0")},m(s,a){N(s,e,a),he(e,i[23]),t||(n=Z(e,"input",i[74]),t=!0)},p(s,a){a[0]&8388608&&ye(e.value)!==s[23]&&he(e,s[23])},d(s){s&&d(e),t=!1,n()}}}function Mn(i){let e,t,n,s;return{c(){e=F("div"),t=ge("Reset Points"),this.h()},l(a){e=C(a,"DIV",{role:!0,class:!0});var o=H(e);t=pe(o,"Reset Points"),o.forEach(d),this.h()},h(){m(e,"role","button"),m(e,"class","ml-4 hover:underline")},m(a,o){N(a,e,o),S(e,t),n||(s=[Z(e,"click",i[70]),Z(e,"keyup",Me)],n=!0)},p:we,d(a){a&&d(e),n=!1,Pe(s)}}}function ms(i){let e,t,n,s,a;function o(u){i[69](u)}let r={options:i[38]};i[21]!==void 0&&(r.selectedOptionId=i[21]),t=new Se({props:r}),Q.push(()=>ee(t,"selectedOptionId",o));let l=i[21]&&Mn(i);return{c(){e=F("div"),M(t.$$.fragment),s=z(),l&&l.c(),this.h()},l(u){e=C(u,"DIV",{class:!0});var f=H(e);R(t.$$.fragment,f),s=U(f),l&&l.l(f),f.forEach(d),this.h()},h(){m(e,"class","flex items-center")},m(u,f){N(u,e,f),L(t,e,null),S(e,s),l&&l.m(e,null),a=!0},p(u,f){const g={};!n&&f[0]&2097152&&(n=!0,g.selectedOptionId=u[21],te(()=>n=!1)),t.$set(g),u[21]?l?l.p(u,f):(l=Mn(u),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},i(u){a||(I(t.$$.fragment,u),a=!0)},o(u){E(t.$$.fragment,u),a=!1},d(u){u&&d(e),A(t),l&&l.d()}}}function _s(i){let e,t,n;function s(o){i[71](o)}let a={options:i[38]};return i[20]!==void 0&&(a.selectedOptionId=i[20]),e=new Se({props:a}),Q.push(()=>ee(e,"selectedOptionId",s)),{c(){M(e.$$.fragment)},l(o){R(e.$$.fragment,o)},m(o,r){L(e,o,r),n=!0},p(o,r){const l={};!t&&r[0]&1048576&&(t=!0,l.selectedOptionId=o[20],te(()=>t=!1)),e.$set(l)},i(o){n||(I(e.$$.fragment,o),n=!0)},o(o){E(e.$$.fragment,o),n=!1},d(o){A(e,o)}}}function hs(i){let e,t,n,s;const a=[Lo,Ro],o=[];function r(l,u){return l[26]==="Reader"?0:1}return t=r(i),n=o[t]=a[t](i),{c(){e=F("div"),n.c(),this.h()},l(l){e=C(l,"DIV",{class:!0});var u=H(e);n.l(u),u.forEach(d),this.h()},h(){m(e,"class","grid grid-cols-1 items-center sm:grid-cols-2 sm:gap-6 lg:md:gap-8 lg:grid-cols-3")},m(l,u){N(l,e,u),o[t].m(e,null),s=!0},p(l,u){let f=t;t=r(l),t===f?o[t].p(l,u):(Ee(),E(o[f],1,1,()=>{o[f]=null}),Te(),n=o[t],n?n.p(l,u):(n=o[t]=a[t](l),n.c()),I(n,1),n.m(e,null))},i(l){s||(I(n),s=!0)},o(l){E(n),s=!1},d(l){l&&d(e),o[t].d()}}}function bs(i,e,t){let n,s,a,o,r,l,u,f,{selectedTheme:g}=e,{viewMode:_}=e,{fontFamilyGroupOne:c}=e,{fontFamilyGroupTwo:v}=e,{fontSize:$}=e,{lineHeight:y}=e,{blurImage:b}=e,{hideFurigana:k}=e,{furiganaStyle:w}=e,{writingMode:P}=e,{secondDimensionMaxValue:B}=e,{firstDimensionMargin:T}=e,{swipeThreshold:W}=e,{disableWheelNavigation:J}=e,{autoPositionOnResize:j}=e,{avoidPageBreak:K}=e,{customReadingPointEnabled:oe}=e,{selectionToBookmarkEnabled:re}=e,{pageColumns:de}=e,{persistentStorage:ie}=e,{confirmClose:G}=e,{autoBookmark:x}=e,{activeSettings:q}=e,{cacheStorageData:se}=e,{autoReplication:Y}=e,{replicationSaveBehavior:X}=e,{showExternalPlaceholder:ae}=e;const ke=Array.from(Wi.entries()).map(([V,Be])=>({theme:V,option:Be})).map(({theme:V,option:Be})=>({id:V,text:"",style:{color:Be.fontColor,"background-color":Be.backgroundColor},thickBorders:!0})),ve=[{id:!1,text:"Off"},{id:!0,text:"On"}],Ie=[{id:ft.Partial,text:"Partial"},{id:ft.Full,text:"Full"},{id:ft.Toggle,text:"Toggle"}],p=[{id:"horizontal-tb",text:"Horizontal"},{id:"vertical-rl",text:"Vertical"}],h=[{id:wt.Continuous,text:"Continuous"},{id:wt.Paginated,text:"Paginated"}],be=[{id:We.Off,text:"Off"},{id:We.Up,text:"Up"},{id:We.Down,text:"Down"},{id:We.All,text:"All"}],Ve=[{id:$t.NewOnly,text:"New Only"},{id:$t.Overwrite,text:"Overwrite"}],Fe=je.storageSourcesChanged$.pipe($i(V=>[...vi.filter(Be=>ki(Be.type,Be.name,window)).map(Be=>({name:Be.name,type:Be.type,data:new ArrayBuffer(0),lastSourceModified:0})),...V.filter(Be=>!yt(Be.name))]));ue(i,Fe,V=>t(27,f=V));let Ce="",Ne="";function Ye(V){g=V,t(8,g)}function Ge(V){_=V,t(9,_)}function He(V){c=V,t(10,c)}const Je=()=>it.dialogs$.next([{component:Fn,props:{fontFamily:It}}]);function Ke(){c=this.value,t(10,c)}function Qe(V){v=V,t(11,v)}const Ze=()=>it.dialogs$.next([{component:Fn,props:{fontFamily:St}}]);function Xe(){v=this.value,t(11,v)}function xe(){$=ye(this.value),t(12,$)}function et(){y=ye(this.value),t(13,y)}const ze=()=>{(!y||y<1)&&t(13,y=1.65)};function Ue(V){T=V,t(17,T)}function at(){T=ye(this.value),t(17,T)}function ut(V){B=V,t(16,B)}function O(){B=ye(this.value),t(16,B)}function nt(){W=ye(this.value),t(18,W)}const _t=()=>{(W<10||typeof W!="number")&&t(18,W=10)};function ht(V){P=V,t(1,P)}function bt(V){J=V,t(19,J)}function me(V){G=V,t(24,G)}function D(V){x=V,t(25,x)}function le(V){b=V,t(14,b)}function tt(V){k=V,t(15,k)}function ce(V){w=V,t(0,w)}function dt(V){oe=V,t(21,oe)}const Kn=()=>{wi.next(100),Ii.next(0)};function Qn(V){j=V,t(20,j)}function Zn(V){K=V,t(2,K)}function Xn(V){re=V,t(22,re)}function xn(){de=ye(this.value),t(23,de)}function ei(V){ie=V,t(3,ie)}function ti(V){se=V,t(4,se)}function ni(V){Y=V,t(5,Y)}function ii(V){X=V,t(6,X)}function oi(V){ae=V,t(7,ae)}return i.$$set=V=>{"selectedTheme"in V&&t(8,g=V.selectedTheme),"viewMode"in V&&t(9,_=V.viewMode),"fontFamilyGroupOne"in V&&t(10,c=V.fontFamilyGroupOne),"fontFamilyGroupTwo"in V&&t(11,v=V.fontFamilyGroupTwo),"fontSize"in V&&t(12,$=V.fontSize),"lineHeight"in V&&t(13,y=V.lineHeight),"blurImage"in V&&t(14,b=V.blurImage),"hideFurigana"in V&&t(15,k=V.hideFurigana),"furiganaStyle"in V&&t(0,w=V.furiganaStyle),"writingMode"in V&&t(1,P=V.writingMode),"secondDimensionMaxValue"in V&&t(16,B=V.secondDimensionMaxValue),"firstDimensionMargin"in V&&t(17,T=V.firstDimensionMargin),"swipeThreshold"in V&&t(18,W=V.swipeThreshold),"disableWheelNavigation"in V&&t(19,J=V.disableWheelNavigation),"autoPositionOnResize"in V&&t(20,j=V.autoPositionOnResize),"avoidPageBreak"in V&&t(2,K=V.avoidPageBreak),"customReadingPointEnabled"in V&&t(21,oe=V.customReadingPointEnabled),"selectionToBookmarkEnabled"in V&&t(22,re=V.selectionToBookmarkEnabled),"pageColumns"in V&&t(23,de=V.pageColumns),"persistentStorage"in V&&t(3,ie=V.persistentStorage),"confirmClose"in V&&t(24,G=V.confirmClose),"autoBookmark"in V&&t(25,x=V.autoBookmark),"activeSettings"in V&&t(26,q=V.activeSettings),"cacheStorageData"in V&&t(4,se=V.cacheStorageData),"autoReplication"in V&&t(5,Y=V.autoReplication),"replicationSaveBehavior"in V&&t(6,X=V.replicationSaveBehavior),"showExternalPlaceholder"in V&&t(7,ae=V.showExternalPlaceholder)},i.$$.update=()=>{if(i.$$.dirty[0]&2&&t(36,n=P==="vertical-rl"),i.$$.dirty[0]&1)switch(w){case ft.Full:t(28,Ce="Hidden by default, show on hover or click");break;case ft.Toggle:t(28,Ce="Hidden by default, can be toggled on click");break;default:t(28,Ce="Display furigana as grayed out text");break}if(i.$$.dirty[0]&4&&t(34,a=K?"Avoids breaking words/sentences into different pages":"Allow words/sentences to break into different pages"),i.$$.dirty[0]&8&&t(33,o=ie?"Reader uses higher storage limit for local data":`Uses lower temporary storage for local data.
May require bookmark or notification permissions for enablement`),i.$$.dirty[0]&16&&t(32,r=se?"Storage data is cached. Saves network traffic/latency but requires to reload current/open a new tab to retrieve data changes":"Storage data is refetched on every action. May consume more network traffic/latency but ensures current data"),i.$$.dirty[0]&64&&t(31,l=X===$t.Overwrite?"Data will always be overwritten":"Data will only be written if none exist on target, no time data is present or if target data is older"),i.$$.dirty[0]&32)switch(Y){case We.Up:t(29,Ne="Updated data will be exported to sync target when reading once per minute");break;case We.Down:t(29,Ne="Data will be imported from sync target when opening a book");break;case We.All:t(29,Ne="Data will be synced in both directions");break;default:t(29,Ne="No automatic import/export of data");break}i.$$.dirty[0]&128&&t(30,u=ae?"Placeholder data for external books is shown in the browser source manager":"Placeholder data for external books is hidden"),i.$$.dirty[0]&201326592&&q==="Data"&&!f&&je.getStorageSources().then(V=>{je.storageSourcesChanged$.next(V)}).catch(V=>{Ot.error(`Failed to retrieve storage sources: ${V.message}`),je.storageSourcesChanged$.next([])})},s="caches"in window,[w,P,K,ie,se,Y,X,ae,g,_,c,v,$,y,b,k,B,T,W,J,j,oe,re,de,G,x,q,f,Ce,Ne,u,l,r,o,a,s,n,ke,ve,Ie,p,h,be,Ve,Fe,Ye,Ge,He,Je,Ke,Qe,Ze,Xe,xe,et,ze,Ue,at,ut,O,nt,_t,ht,bt,me,D,le,tt,ce,dt,Kn,Qn,Zn,Xn,xn,ei,ti,ni,ii,oi]}class $s extends Re{constructor(e){super(),Le(this,e,bs,hs,Ae,{selectedTheme:8,viewMode:9,fontFamilyGroupOne:10,fontFamilyGroupTwo:11,fontSize:12,lineHeight:13,blurImage:14,hideFurigana:15,furiganaStyle:0,writingMode:1,secondDimensionMaxValue:16,firstDimensionMargin:17,swipeThreshold:18,disableWheelNavigation:19,autoPositionOnResize:20,avoidPageBreak:2,customReadingPointEnabled:21,selectionToBookmarkEnabled:22,pageColumns:23,persistentStorage:3,confirmClose:24,autoBookmark:25,activeSettings:26,cacheStorageData:4,autoReplication:5,replicationSaveBehavior:6,showExternalPlaceholder:7},null,[-1,-1,-1])}}function Rn(i,e,t){const n=i.slice();return n[4]=e[t],n}function Ln(i,e){let t,n,s,a=e[4].label+"",o,r,l,u,f,g,_;n=new Oe({props:{class:"mb-1",icon:e[4].icon}}),l=new lt({});function c(){return e[3](e[4])}return{key:i,first:null,c(){t=F("button"),M(n.$$.fragment),s=z(),o=ge(a),r=z(),M(l.$$.fragment),u=z(),this.h()},l(v){t=C(v,"BUTTON",{class:!0});var $=H(t);R(n.$$.fragment,$),s=U($),o=pe($,a),r=U($),R(l.$$.fragment,$),u=U($),$.forEach(d),this.h()},h(){m(t,"class","flex grow flex-col items-center justify-center text-xs"),ne(t,"bg-gray-900",e[0]===e[4].label),ne(t,"hover:bg-gray-900",e[0]!==e[4].label),this.first=t},m(v,$){N(v,t,$),L(n,t,null),S(t,s),S(t,o),S(t,r),L(l,t,null),S(t,u),f=!0,g||(_=Z(t,"click",c),g=!0)},p(v,$){e=v,(!f||$&5)&&ne(t,"bg-gray-900",e[0]===e[4].label),(!f||$&5)&&ne(t,"hover:bg-gray-900",e[0]!==e[4].label)},i(v){f||(I(n.$$.fragment,v),I(l.$$.fragment,v),f=!0)},o(v){E(n.$$.fragment,v),E(l.$$.fragment,v),f=!1},d(v){v&&d(t),A(n),A(l),g=!1,_()}}}function vs(i){let e,t,n,s=[],a=new Map,o,r,l,u=i[2];const f=g=>g[4].label;for(let g=0;g<u.length;g+=1){let _=Rn(i,u,g),c=f(_);a.set(c,s[g]=Ln(c,_))}return r=new Gi({props:{leavePageLink:i[1]}}),{c(){e=F("div"),t=F("div"),n=F("div");for(let g=0;g<s.length;g+=1)s[g].c();o=z(),M(r.$$.fragment),this.h()},l(g){e=C(g,"DIV",{class:!0});var _=H(e);t=C(_,"DIV",{class:!0});var c=H(t);n=C(c,"DIV",{class:!0});var v=H(n);for(let $=0;$<s.length;$+=1)s[$].l(v);v.forEach(d),o=U(c),R(r.$$.fragment,c),c.forEach(d),_.forEach(d),this.h()},h(){m(n,"class","h12 flex grow justify-evenly xl:h-10"),m(t,"class",Un+" flex px-0 md:px-5"),m(e,"class",Si)},m(g,_){N(g,e,_),S(e,t),S(t,n);for(let c=0;c<s.length;c+=1)s[c]&&s[c].m(n,null);S(t,o),L(r,t,null),l=!0},p(g,[_]){_&5&&(u=g[2],Ee(),s=rt(s,_,f,1,g,u,a,n,Vt,Ln,null,Rn),Te());const c={};_&2&&(c.leavePageLink=g[1]),r.$set(c)},i(g){if(!l){for(let _=0;_<u.length;_+=1)I(s[_]);I(r.$$.fragment,g),l=!0}},o(g){for(let _=0;_<s.length;_+=1)E(s[_]);E(r.$$.fragment,g),l=!1},d(g){g&&d(e);for(let _=0;_<s.length;_+=1)s[_].d();A(r)}}}function ks(i,e,t){let{leavePageLink:n}=e,{activeSettings:s}=e;const a=[{label:"Reader",icon:Li},{label:"Data",icon:Ai}],o=r=>t(0,s=r.label);return i.$$set=r=>{"leavePageLink"in r&&t(1,n=r.leavePageLink),"activeSettings"in r&&t(0,s=r.activeSettings)},[s,n,a,o]}class ws extends Re{constructor(e){super(),Le(this,e,ks,vs,Ae,{leavePageLink:1,activeSettings:0})}}function Is(i){let e,t,n,s,a,o,r,l,u,f,g,_,c,v,$,y,b,k,w,P,B,T,W,J,j,K,oe,re,de,ie,G,x,q,se,Y,X,ae=(i[28]??"")+"",fe,ke;document.title=e=Lt("Settings");function ve(D){i[31](D)}let Ie={leavePageLink:i[0]};i[1]!==void 0&&(Ie.activeSettings=i[1]),s=new ws({props:Ie}),Q.push(()=>ee(s,"activeSettings",ve));function p(D){i[32](D)}function h(D){i[33](D)}function be(D){i[34](D)}function Ve(D){i[35](D)}function Fe(D){i[36](D)}function Ce(D){i[37](D)}function Ne(D){i[38](D)}function Ye(D){i[39](D)}function Ge(D){i[40](D)}function He(D){i[41](D)}function Je(D){i[42](D)}function Ke(D){i[43](D)}function Qe(D){i[44](D)}function Ze(D){i[45](D)}function Xe(D){i[46](D)}function xe(D){i[47](D)}function et(D){i[48](D)}function ze(D){i[49](D)}function Ue(D){i[50](D)}function at(D){i[51](D)}function ut(D){i[52](D)}function O(D){i[53](D)}function nt(D){i[54](D)}function _t(D){i[55](D)}function ht(D){i[56](D)}function bt(D){i[57](D)}let me={activeSettings:i[1]};return i[2]!==void 0&&(me.selectedTheme=i[2]),i[3]!==void 0&&(me.fontFamilyGroupOne=i[3]),i[4]!==void 0&&(me.fontFamilyGroupTwo=i[4]),i[5]!==void 0&&(me.fontSize=i[5]),i[6]!==void 0&&(me.lineHeight=i[6]),i[7]!==void 0&&(me.blurImage=i[7]),i[8]!==void 0&&(me.hideFurigana=i[8]),i[9]!==void 0&&(me.furiganaStyle=i[9]),i[10]!==void 0&&(me.writingMode=i[10]),i[11]!==void 0&&(me.viewMode=i[11]),i[12]!==void 0&&(me.secondDimensionMaxValue=i[12]),i[13]!==void 0&&(me.firstDimensionMargin=i[13]),i[14]!==void 0&&(me.swipeThreshold=i[14]),i[15]!==void 0&&(me.disableWheelNavigation=i[15]),i[16]!==void 0&&(me.autoPositionOnResize=i[16]),i[17]!==void 0&&(me.avoidPageBreak=i[17]),i[18]!==void 0&&(me.customReadingPointEnabled=i[18]),i[19]!==void 0&&(me.selectionToBookmarkEnabled=i[19]),i[20]!==void 0&&(me.pageColumns=i[20]),i[21]!==void 0&&(me.persistentStorage=i[21]),i[22]!==void 0&&(me.confirmClose=i[22]),i[23]!==void 0&&(me.autoBookmark=i[23]),i[24]!==void 0&&(me.cacheStorageData=i[24]),i[25]!==void 0&&(me.replicationSaveBehavior=i[25]),i[26]!==void 0&&(me.autoReplication=i[26]),i[27]!==void 0&&(me.showExternalPlaceholder=i[27]),u=new $s({props:me}),Q.push(()=>ee(u,"selectedTheme",p)),Q.push(()=>ee(u,"fontFamilyGroupOne",h)),Q.push(()=>ee(u,"fontFamilyGroupTwo",be)),Q.push(()=>ee(u,"fontSize",Ve)),Q.push(()=>ee(u,"lineHeight",Fe)),Q.push(()=>ee(u,"blurImage",Ce)),Q.push(()=>ee(u,"hideFurigana",Ne)),Q.push(()=>ee(u,"furiganaStyle",Ye)),Q.push(()=>ee(u,"writingMode",Ge)),Q.push(()=>ee(u,"viewMode",He)),Q.push(()=>ee(u,"secondDimensionMaxValue",Je)),Q.push(()=>ee(u,"firstDimensionMargin",Ke)),Q.push(()=>ee(u,"swipeThreshold",Qe)),Q.push(()=>ee(u,"disableWheelNavigation",Ze)),Q.push(()=>ee(u,"autoPositionOnResize",Xe)),Q.push(()=>ee(u,"avoidPageBreak",xe)),Q.push(()=>ee(u,"customReadingPointEnabled",et)),Q.push(()=>ee(u,"selectionToBookmarkEnabled",ze)),Q.push(()=>ee(u,"pageColumns",Ue)),Q.push(()=>ee(u,"persistentStorage",at)),Q.push(()=>ee(u,"confirmClose",ut)),Q.push(()=>ee(u,"autoBookmark",O)),Q.push(()=>ee(u,"cacheStorageData",nt)),Q.push(()=>ee(u,"replicationSaveBehavior",_t)),Q.push(()=>ee(u,"autoReplication",ht)),Q.push(()=>ee(u,"showExternalPlaceholder",bt)),{c(){t=z(),n=F("div"),M(s.$$.fragment),o=z(),r=F("div"),l=F("div"),M(u.$$.fragment),X=z(),fe=ge(ae),this.h()},l(D){fi("svelte-1mss3mt",document.head).forEach(d),t=U(D),n=C(D,"DIV",{class:!0});var tt=H(n);R(s.$$.fragment,tt),tt.forEach(d),o=U(D),r=C(D,"DIV",{class:!0});var ce=H(r);l=C(ce,"DIV",{class:!0});var dt=H(l);R(u.$$.fragment,dt),dt.forEach(d),ce.forEach(d),X=U(D),fe=pe(D,ae),this.h()},h(){m(n,"class","elevation-4 fixed inset-x-0 top-0 z-10"),m(l,"class","max-w-5xl"),m(r,"class",Un+" h-full pt-16 xl:pt-14")},m(D,le){N(D,t,le),N(D,n,le),L(s,n,null),N(D,o,le),N(D,r,le),S(r,l),L(u,l,null),N(D,X,le),N(D,fe,le),ke=!0},p(D,le){(!ke||le&0)&&e!==(e=Lt("Settings"))&&(document.title=e);const tt={};le[0]&1&&(tt.leavePageLink=D[0]),!a&&le[0]&2&&(a=!0,tt.activeSettings=D[1],te(()=>a=!1)),s.$set(tt);const ce={};le[0]&2&&(ce.activeSettings=D[1]),!f&&le[0]&4&&(f=!0,ce.selectedTheme=D[2],te(()=>f=!1)),!g&&le[0]&8&&(g=!0,ce.fontFamilyGroupOne=D[3],te(()=>g=!1)),!_&&le[0]&16&&(_=!0,ce.fontFamilyGroupTwo=D[4],te(()=>_=!1)),!c&&le[0]&32&&(c=!0,ce.fontSize=D[5],te(()=>c=!1)),!v&&le[0]&64&&(v=!0,ce.lineHeight=D[6],te(()=>v=!1)),!$&&le[0]&128&&($=!0,ce.blurImage=D[7],te(()=>$=!1)),!y&&le[0]&256&&(y=!0,ce.hideFurigana=D[8],te(()=>y=!1)),!b&&le[0]&512&&(b=!0,ce.furiganaStyle=D[9],te(()=>b=!1)),!k&&le[0]&1024&&(k=!0,ce.writingMode=D[10],te(()=>k=!1)),!w&&le[0]&2048&&(w=!0,ce.viewMode=D[11],te(()=>w=!1)),!P&&le[0]&4096&&(P=!0,ce.secondDimensionMaxValue=D[12],te(()=>P=!1)),!B&&le[0]&8192&&(B=!0,ce.firstDimensionMargin=D[13],te(()=>B=!1)),!T&&le[0]&16384&&(T=!0,ce.swipeThreshold=D[14],te(()=>T=!1)),!W&&le[0]&32768&&(W=!0,ce.disableWheelNavigation=D[15],te(()=>W=!1)),!J&&le[0]&65536&&(J=!0,ce.autoPositionOnResize=D[16],te(()=>J=!1)),!j&&le[0]&131072&&(j=!0,ce.avoidPageBreak=D[17],te(()=>j=!1)),!K&&le[0]&262144&&(K=!0,ce.customReadingPointEnabled=D[18],te(()=>K=!1)),!oe&&le[0]&524288&&(oe=!0,ce.selectionToBookmarkEnabled=D[19],te(()=>oe=!1)),!re&&le[0]&1048576&&(re=!0,ce.pageColumns=D[20],te(()=>re=!1)),!de&&le[0]&2097152&&(de=!0,ce.persistentStorage=D[21],te(()=>de=!1)),!ie&&le[0]&4194304&&(ie=!0,ce.confirmClose=D[22],te(()=>ie=!1)),!G&&le[0]&8388608&&(G=!0,ce.autoBookmark=D[23],te(()=>G=!1)),!x&&le[0]&16777216&&(x=!0,ce.cacheStorageData=D[24],te(()=>x=!1)),!q&&le[0]&33554432&&(q=!0,ce.replicationSaveBehavior=D[25],te(()=>q=!1)),!se&&le[0]&67108864&&(se=!0,ce.autoReplication=D[26],te(()=>se=!1)),!Y&&le[0]&134217728&&(Y=!0,ce.showExternalPlaceholder=D[27],te(()=>Y=!1)),u.$set(ce),(!ke||le[0]&268435456)&&ae!==(ae=(D[28]??"")+"")&&De(fe,ae)},i(D){ke||(I(s.$$.fragment,D),I(u.$$.fragment,D),ke=!0)},o(D){E(s.$$.fragment,D),E(u.$$.fragment,D),ke=!1},d(D){D&&d(t),D&&d(n),A(s),D&&d(o),D&&d(r),A(u),D&&d(X),D&&d(fe)}}}function Ss(i,e,t){let n,s,a,o,r,l,u,f,g,_,c,v,$,y,b,k,w,P,B,T,W,J,j,K,oe,re,de;ue(i,Wt,O=>t(2,n=O)),ue(i,It,O=>t(3,s=O)),ue(i,St,O=>t(4,a=O)),ue(i,jt,O=>t(5,o=O)),ue(i,qt,O=>t(6,r=O)),ue(i,Yt,O=>t(7,l=O)),ue(i,Jt,O=>t(8,u=O)),ue(i,Kt,O=>t(9,f=O)),ue(i,Qt,O=>t(10,g=O)),ue(i,Zt,O=>t(11,_=O)),ue(i,Xt,O=>t(12,c=O)),ue(i,xt,O=>t(13,v=O)),ue(i,en,O=>t(14,$=O)),ue(i,tn,O=>t(15,y=O)),ue(i,nn,O=>t(16,b=O)),ue(i,on,O=>t(17,k=O)),ue(i,sn,O=>t(18,w=O)),ue(i,ln,O=>t(19,P=O)),ue(i,rn,O=>t(20,B=O)),ue(i,an,O=>t(22,W=O)),ue(i,un,O=>t(23,J=O)),ue(i,fn,O=>t(24,j=O)),ue(i,cn,O=>t(25,K=O)),ue(i,kt,O=>t(26,oe=O)),ue(i,gn,O=>t(27,re=O));const ie=Oi(!1);ue(i,ie,O=>t(21,T=O));let G=!1;Tt(()=>{Ut.persisted().then(Y)});let x=`${Ti}${zi.MANAGE.routeId}`,q="Reader";ci(O=>{const{from:nt}=O;nt&&t(0,x=`${nt.url.pathname}${nt.url.search}`)});const se=ie.pipe(Ei(O=>{if(G){if(!O){Y(!0);return}Ut.persist().then(Y)}}),Hi());ue(i,se,O=>t(28,de=O));function Y(O){G=!1,ie.next(O),G=!0}function X(O){q=O,t(1,q)}function ae(O){n=O,Wt.set(n)}function fe(O){s=O,It.set(s)}function ke(O){a=O,St.set(a)}function ve(O){o=O,jt.set(o)}function Ie(O){r=O,qt.set(r)}function p(O){l=O,Yt.set(l)}function h(O){u=O,Jt.set(u)}function be(O){f=O,Kt.set(f)}function Ve(O){g=O,Qt.set(g)}function Fe(O){_=O,Zt.set(_)}function Ce(O){c=O,Xt.set(c)}function Ne(O){v=O,xt.set(v)}function Ye(O){$=O,en.set($)}function Ge(O){y=O,tn.set(y)}function He(O){b=O,nn.set(b)}function Je(O){k=O,on.set(k)}function Ke(O){w=O,sn.set(w)}function Qe(O){P=O,ln.set(P)}function Ze(O){B=O,rn.set(B)}function Xe(O){T=O,ie.set(T)}function xe(O){W=O,an.set(W)}function et(O){J=O,un.set(J)}function ze(O){j=O,fn.set(j)}function Ue(O){K=O,cn.set(K)}function at(O){oe=O,kt.set(oe)}function ut(O){re=O,gn.set(re)}return[x,q,n,s,a,o,r,l,u,f,g,_,c,v,$,y,b,k,w,P,B,T,W,J,j,K,oe,re,de,ie,se,X,ae,fe,ke,ve,Ie,p,h,be,Ve,Fe,Ce,Ne,Ye,Ge,He,Je,Ke,Qe,Ze,Xe,xe,et,ze,Ue,at,ut]}class Cs extends Re{constructor(e){super(),Le(this,e,Ss,Is,Ae,{},null,[-1,-1])}}export{Cs as default};
